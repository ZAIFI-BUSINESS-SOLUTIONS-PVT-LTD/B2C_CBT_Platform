import{r as Te,g as ah}from"./index-CsOkkxG2.js";function ch(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const C=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,W=globalThis,Lt="10.11.0";function It(){return _r(W),W}function _r(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Lt,t[Lt]=t[Lt]||{}}function yr(e,t,n=W){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[Lt]=r[Lt]||{};return s[e]||(s[e]=t())}const qi=["debug","info","warn","error","log","assert","trace"],uh="Sentry Logger ",Ts={};function Wt(e){if(!("console"in W))return e();const t=W.console,n={},r=Object.keys(Ts);r.forEach(s=>{const o=Ts[s];n[s]=t[s],t[s]=o});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function lh(){Vi().enabled=!0}function dh(){Vi().enabled=!1}function Rl(){return Vi().enabled}function fh(...e){Gi("log",...e)}function ph(...e){Gi("warn",...e)}function hh(...e){Gi("error",...e)}function Gi(e,...t){C&&Rl()&&Wt(()=>{W.console[e](`${uh}[${e}]:`,...t)})}function Vi(){return C?yr("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const _={enable:lh,disable:dh,isEnabled:Rl,log:fh,warn:ph,error:hh},xl=50,ct="?",ac=/\(error: (.*)\)/,cc=/captureMessage|captureException/;function Ml(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const o=[],i=n.split(`
`);for(let a=r;a<i.length;a++){let c=i[a];c.length>1024&&(c=c.slice(0,1024));const u=ac.test(c)?c.replace(ac,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const l=d(u);if(l){o.push(l);break}}if(o.length>=xl+s)break}}return gh(o.slice(s))}}function mh(e){return Array.isArray(e)?Ml(...e):e}function gh(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Hr(t).function||"")&&t.pop(),t.reverse(),cc.test(Hr(t).function||"")&&(t.pop(),cc.test(Hr(t).function||"")&&t.pop()),t.slice(0,xl).map(n=>({...n,filename:n.filename||Hr(t).filename,function:n.function||ct}))}function Hr(e){return e[e.length-1]||{}}const Mo="<anonymous>";function _t(e){try{return!e||typeof e!="function"?Mo:e.name||Mo}catch{return Mo}}function ii(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const os={},uc={};function zt(e,t){os[e]=os[e]||[],os[e].push(t)}function jt(e,t){if(!uc[e]){uc[e]=!0;try{t()}catch(n){C&&_.error(`Error while instrumenting ${e}`,n)}}}function Xe(e,t){const n=e&&os[e];if(n)for(const r of n)try{r(t)}catch(s){C&&_.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${_t(r)}
Error:`,s)}}let Ao=null;function Al(e){const t="error";zt(t,e),jt(t,_h)}function _h(){Ao=W.onerror,W.onerror=function(e,t,n,r,s){return Xe("error",{column:r,error:s,line:n,msg:e,url:t}),Ao?Ao.apply(this,arguments):!1},W.onerror.__SENTRY_INSTRUMENTED__=!0}let No=null;function Nl(e){const t="unhandledrejection";zt(t,e),jt(t,yh)}function yh(){No=W.onunhandledrejection,W.onunhandledrejection=function(e){return Xe("unhandledrejection",e),No?No.apply(this,arguments):!0},W.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Ol=Object.prototype.toString;function mt(e){switch(Ol.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return St(e,Error)}}function Gn(e,t){return Ol.call(e)===`[object ${t}]`}function Ll(e){return Gn(e,"ErrorEvent")}function lc(e){return Gn(e,"DOMError")}function Sh(e){return Gn(e,"DOMException")}function tt(e){return Gn(e,"String")}function Ks(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Rn(e){return e===null||Ks(e)||typeof e!="object"&&typeof e!="function"}function yt(e){return Gn(e,"Object")}function Js(e){return typeof Event<"u"&&St(e,Event)}function bh(e){return typeof Element<"u"&&St(e,Element)}function Eh(e){return Gn(e,"RegExp")}function Vn(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function vh(e){return yt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function St(e,t){try{return e instanceof t}catch{return!1}}function Pl(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Dl(e){return typeof Request<"u"&&St(e,Request)}const Yi=W,wh=80;function Ke(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let o=0,i=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||wh;for(;n&&o++<r&&(u=Th(n,d),!(u==="html"||o>1&&i+s.length*c+u.length>=l));)s.push(u),i+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function Th(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(Yi.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t!=null&&t.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(s!=null&&s.length)s.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const i=n.className;if(i&&tt(i)){const a=i.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const o=["aria-label","type","name","title","alt"];for(const i of o){const a=n.getAttribute(i);a&&r.push(`[${i}="${a}"]`)}return r.join("")}function un(){try{return Yi.document.location.href}catch{return""}}function $l(e){if(!Yi.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function xn(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Oo(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let s=Math.max(t-60,0);s<5&&(s=0);let o=Math.min(s+140,r);return o>r-5&&(o=r),o===r&&(s=Math.max(o-140,0)),n=n.slice(s,o),s>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n}function Is(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{Pl(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function is(e,t,n=!1){return tt(e)?Eh(t)?t.test(e):tt(t)?n?e===t:e.includes(t):!1:!1}function nt(e,t=[],n=!1){return t.some(r=>is(e,r,n))}function Pe(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&Fl(s,r);try{e[t]=s}catch{C&&_.log(`Failed to replace method "${t}" in object`,e)}}function Re(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{C&&_.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Fl(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Re(e,"__sentry_original__",t)}catch{}}function Xi(e){return e.__sentry_original__}function Bl(e){if(mt(e))return{message:e.message,name:e.name,stack:e.stack,...fc(e)};if(Js(e)){const t={type:e.type,target:dc(e.target),currentTarget:dc(e.currentTarget),...fc(e)};return typeof CustomEvent<"u"&&St(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function dc(e){try{return bh(e)?Ke(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function fc(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Ih(e,t=40){const n=Object.keys(Bl(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return xn(r,t);for(let s=n.length;s>0;s--){const o=n.slice(0,s).join(", ");if(!(o.length>t))return s===n.length?o:xn(o,t)}return""}function kh(){const e=W;return e.crypto||e.msCrypto}function De(e=kh()){let t=()=>Math.random()*16;try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e!=null&&e.getRandomValues&&(t=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function Hl(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function Yt(e){const{message:t,event_id:n}=e;if(t)return t;const r=Hl(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function ai(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function bt(e,t){const n=Hl(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const o={...s==null?void 0:s.data,...t.data};n.mechanism.data=o}}function Ch(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,s=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map(i=>Oo(i,0));const o=Math.min(r-1,s);t.context_line=Oo(e[o],t.colno||0),t.post_context=e.slice(Math.min(s+1,r),s+1+n).map(i=>Oo(i,0))}function pc(e){if(Rh(e))return!0;try{Re(e,"__sentry_captured__",!0)}catch{}return!1}function Rh(e){try{return e.__sentry_captured__}catch{}}const Ul=1e3;function ln(){return Date.now()/Ul}function xh(){const{performance:e}=W;if(!(e!=null&&e.now)||!e.timeOrigin)return ln;const t=e.timeOrigin;return()=>(t+e.now())/Ul}let hc;function pe(){return(hc??(hc=xh()))()}let Lo;function Mh(){var d;const{performance:e}=W;if(!(e!=null&&e.now))return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=s<t,i=(d=e.timing)==null?void 0:d.navigationStart,c=typeof i=="number"?Math.abs(i+n-r):t,u=c<t;return o||u?s<=c?[e.timeOrigin,"timeOrigin"]:[i,"navigationStart"]:[r,"dateNow"]}function $e(){return Lo||(Lo=Mh()),Lo[0]}function Ah(e){const t=pe(),n={sid:De(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Oh(n)};return e&&Mn(n,e),n}function Mn(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||pe(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:De()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Nh(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Mn(e,n)}function Oh(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Sr(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Sr(r[s],t[s],n-1));return r}function Et(){return De()}function br(){return De().substring(16)}const ci="_sentrySpan";function nn(e,t){t?Re(e,ci,t):delete e[ci]}function cr(e){return e[ci]}const Lh=100;class ut{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Et(),sampleRand:Math.random()}}clone(){const t=new ut;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,nn(t,cr(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Mn(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof ut?n.getScopeData():yt(n)?t:void 0,{tags:s,extra:o,user:i,contexts:a,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...a},i&&Object.keys(i).length&&(this._user=i),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,nn(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Et(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var o;const r=typeof n=="number"?n:Lh;if(r<=0)return this;const s={timestamp:ln(),...t,message:t.message?xn(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(o=this._client)==null||o.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:cr(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Sr(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||De();if(!this._client)return C&&_.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=(r==null?void 0:r.event_id)||De();if(!this._client)return C&&_.warn("No client configured on scope - will not capture message!"),s;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:s},this),s}captureEvent(t,n){const r=(n==null?void 0:n.event_id)||De();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(C&&_.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Ph(){return yr("defaultCurrentScope",()=>new ut)}function Dh(){return yr("defaultIsolationScope",()=>new ut)}class $h{constructor(t,n){let r;t?r=t:r=new ut;let s;n?s=n:s=new ut,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return Vn(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function An(){const e=It(),t=_r(e);return t.stack=t.stack||new $h(Ph(),Dh())}function Fh(e){return An().withScope(e)}function Bh(e,t){const n=An();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function mc(e){return An().withScope(()=>e(An().getIsolationScope()))}function Hh(){return{withIsolationScope:mc,withScope:Fh,withSetScope:Bh,withSetIsolationScope:(e,t)=>mc(t),getCurrentScope:()=>An().getScope(),getIsolationScope:()=>An().getIsolationScope()}}function qt(e){const t=_r(e);return t.acs?t.acs:Hh()}function G(){const e=It();return qt(e).getCurrentScope()}function Ie(){const e=It();return qt(e).getIsolationScope()}function Zs(){return yr("globalScope",()=>new ut)}function je(...e){const t=It(),n=qt(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function Lk(...e){const t=It(),n=qt(t);if(e.length===2){const[r,s]=e;return r?n.withSetIsolationScope(r,s):n.withIsolationScope(s)}return n.withIsolationScope(e[0])}function x(){return G().getClient()}function Wl(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,o={trace_id:n,span_id:s||br()};return r&&(o.parent_span_id=r),o}const fe="sentry.source",Ki="sentry.sample_rate",zl="sentry.previous_trace_sample_rate",ve="sentry.op",Q="sentry.origin",ks="sentry.idle_span_finish_reason",Er="sentry.measurement_unit",vr="sentry.measurement_value",ui="sentry.custom_span_name",Ji="sentry.profile_id",Yn="sentry.exclusive_time",Uh="http.request.method",Wh="url.full",zh="sentry.link.type",jh=0,Zi=1,ge=2;function qh(e){if(e<400&&e>=100)return{code:Zi};if(e>=400&&e<500)switch(e){case 401:return{code:ge,message:"unauthenticated"};case 403:return{code:ge,message:"permission_denied"};case 404:return{code:ge,message:"not_found"};case 409:return{code:ge,message:"already_exists"};case 413:return{code:ge,message:"failed_precondition"};case 429:return{code:ge,message:"resource_exhausted"};case 499:return{code:ge,message:"cancelled"};default:return{code:ge,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:ge,message:"unimplemented"};case 503:return{code:ge,message:"unavailable"};case 504:return{code:ge,message:"deadline_exceeded"};default:return{code:ge,message:"internal_error"}}return{code:ge,message:"unknown_error"}}function Cs(e,t){e.setAttribute("http.response.status_code",t);const n=qh(t);n.message!=="unknown_error"&&e.setStatus(n)}const jl="_sentryScope",ql="_sentryIsolationScope";function Gh(e,t,n){e&&(Re(e,ql,n),Re(e,jl,t))}function Rs(e){return{scope:e[jl],isolationScope:e[ql]}}const Qi="sentry-",Vh=/^sentry-/,Yh=8192;function ea(e){const t=Xh(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,o])=>{if(s.match(Vh)){const i=s.slice(Qi.length);r[i]=o}return r},{});if(Object.keys(n).length>0)return n}function Gl(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${Qi}${r}`]=s),n),{});return Kh(t)}function Xh(e){if(!(!e||!tt(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=gc(n);return Object.entries(r).forEach(([s,o])=>{t[s]=o}),t},{}):gc(e)}function gc(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Kh(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,i=s===0?o:`${t},${o}`;return i.length>Yh?(C&&_.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):i},"")}const Jh=/^o(\d+)\./,Zh=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Qh(e){return e==="http"||e==="https"}function dn(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${i}`}function Vl(e){const t=Zh.exec(e);if(!t){Wt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",o="",i="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return Yl({host:o,pass:s,path:c,projectId:u,port:i,protocol:n,publicKey:r})}function Yl(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function em(e){if(!C)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(_.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?Qh(r)?t&&isNaN(parseInt(t,10))?(_.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(_.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(_.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function tm(e){const t=e.match(Jh);return t==null?void 0:t[1]}function Xl(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=tm(n)),r}function Kl(e){const t=typeof e=="string"?Vl(e):Yl(e);if(!(!t||!em(t)))return t}function rn(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const Jl=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Zl(e){if(!e)return;const t=e.match(Jl);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Ql(e,t){const n=Zl(e),r=ea(t);if(!(n!=null&&n.traceId))return{traceId:Et(),sampleRand:Math.random()};const s=nm(n,r);r&&(r.sample_rand=s.toString());const{traceId:o,parentSpanId:i,parentSampled:a}=n;return{traceId:o,parentSpanId:i,sampled:a,dsc:r||{},sampleRand:s}}function ed(e=Et(),t=br(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function nm(e,t){const n=rn(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=rn(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}function rm(e,t){const n=Xl(e);return t&&n&&t!==n?(_.log(`Won't continue trace because org IDs don't match (incoming baggage: ${t}, SDK options: ${n})`),!1):(e.getOptions().strictTraceContinuation||!1)&&(t&&!n||!t&&n)?(_.log(`Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ${t}, Sentry client: ${n})`),!1):!0}const td=0,ta=1;let _c=!1;function sm(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:o,status:i,origin:a,links:c}=$(e);return{parent_span_id:o,span_id:t,trace_id:n,data:r,op:s,status:i,origin:a,links:c}}function nd(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:$(e).parent_span_id,o=Rs(e).scope,i=r?(o==null?void 0:o.getPropagationContext().propagationSpanId)||br():t;return{parent_span_id:s,span_id:i,trace_id:n}}function om(e){const{traceId:t,spanId:n}=e.spanContext(),r=fn(e);return ed(t,n,r)}function rd(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:o})=>({span_id:t,trace_id:n,sampled:r===ta,attributes:o,...s}))}function Qt(e){return typeof e=="number"?yc(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?yc(e.getTime()):pe()}function yc(e){return e>9999999999?e/1e3:e}function $(e){var r;if(am(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(im(e)){const{attributes:s,startTime:o,name:i,endTime:a,status:c,links:u}=e,d="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:s,description:i,parent_span_id:d,start_timestamp:Qt(o),timestamp:Qt(a)||void 0,status:sd(c),op:s[ve],origin:s[Q],links:rd(u)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function im(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function am(e){return typeof e.getSpanJSON=="function"}function fn(e){const{traceFlags:t}=e.spanContext();return t===ta}function sd(e){if(!(!e||e.code===jh))return e.code===Zi?"ok":e.message||"unknown_error"}const en="_sentryChildSpans",li="_sentryRootSpan";function od(e,t){const n=e[li]||e;Re(t,li,n),e[en]?e[en].add(t):Re(e,en,new Set([t]))}function cm(e,t){e[en]&&e[en].delete(t)}function as(e){const t=new Set;function n(r){if(!t.has(r)&&fn(r)){t.add(r);const s=r[en]?Array.from(r[en]):[];for(const o of s)n(o)}}return n(e),Array.from(t)}function Ee(e){return e[li]||e}function Se(){const e=It(),t=qt(e);return t.getActiveSpan?t.getActiveSpan():cr(G())}function di(){_c||(Wt(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),_c=!0)}function Pk(e,t){e.updateName(t),e.setAttributes({[fe]:"custom",[ui]:t})}let Sc=!1;function um(){if(Sc)return;function e(){const t=Se(),n=t&&Ee(t);if(n){const r="internal_error";C&&_.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:ge,message:r})}}e.tag="sentry_tracingErrorCallback",Sc=!0,Al(e),Nl(e)}function Bt(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=x())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}const Qs="production",id="_frozenDsc";function cs(e,t){Re(e,id,t)}function ad(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s={environment:n.environment||Qs,release:n.release,public_key:r,trace_id:e,org_id:Xl(t)};return t.emit("createDsc",s),s}function na(e,t){const n=t.getPropagationContext();return n.dsc||ad(n.traceId,e)}function st(e){var h;const t=x();if(!t)return{};const n=Ee(e),r=$(n),s=r.data,o=n.spanContext().traceState,i=(o==null?void 0:o.get("sentry.sample_rate"))??s[Ki]??s[zl];function a(m){return(typeof i=="number"||typeof i=="string")&&(m.sample_rate=`${i}`),m}const c=n[id];if(c)return a(c);const u=o==null?void 0:o.get("sentry.dsc"),d=u&&ea(u);if(d)return a(d);const l=ad(e.spanContext().traceId,t),p=s[fe],f=r.description;return p!=="url"&&f&&(l.transaction=f),Bt()&&(l.sampled=String(fn(n)),l.sample_rand=(o==null?void 0:o.get("sentry.sample_rand"))??((h=Rs(n).scope)==null?void 0:h.getPropagationContext().sampleRand.toString())),a(l),t.emit("createDsc",l,n),l}function Dk(e){const t=st(e);return Gl(t)}class vt{constructor(t={}){this._traceId=t.traceId||Et(),this._spanId=t.spanId||br()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:td}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function Ue(e,t=100,n=1/0){try{return fi("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function cd(e,t=3,n=100*1024){const r=Ue(e,t);return pm(r)>n?cd(e,t-1,n):r}function fi(e,t,n=1/0,r=1/0,s=hm()){const[o,i]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=lm(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const f=u.toJSON();return fi("",f,c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const p=Bl(t);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(l>=r){d[f]="[MaxProperties ~]";break}const h=p[f];d[f]=fi(f,h,c-1,r,s),l++}return i(t),d}function lm(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Pl(t))return"[VueViewModel]";if(vh(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${_t(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=dm(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function dm(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function fm(e){return~-encodeURI(e).split(/%..|./).length}function pm(e){return fm(JSON.stringify(e))}function hm(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function kt(e,t=[]){return[e,t]}function mm(e,t){const[n,r]=e;return[n,[...r,t]]}function sn(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function bc(e,t){return sn(e,(n,r)=>t.includes(r))}function xs(e){const t=_r(W);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function gm(e){const t=_r(W);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function Ms(e){const[t,n]=e;let r=JSON.stringify(t);function s(o){typeof r=="string"?r=typeof o=="string"?r+o:[xs(r),o]:r.push(typeof o=="string"?xs(o):o)}for(const o of n){const[i,a]=o;if(s(`
${JSON.stringify(i)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(Ue(a))}s(c)}}return typeof r=="string"?r:_m(r)}function _m(e){const t=e.reduce((s,o)=>s+o.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function ym(e){let t=typeof e=="string"?xs(e):e;function n(i){const a=t.subarray(0,i);return t=t.subarray(i+1),a}function r(){let i=t.indexOf(10);return i<0&&(i=t.length),JSON.parse(gm(n(i)))}const s=r(),o=[];for(;t.length;){const i=r(),a=typeof i.length=="number"?i.length:void 0;o.push([i,a?n(a):r()])}return[s,o]}function Sm(e){return[{type:"span"},e]}function bm(e){const t=typeof e.data=="string"?xs(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const Em={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Ec(e){return Em[e]}function ra(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function ud(e,t,n,r){var o;const s=(o=e.sdkProcessingMetadata)==null?void 0:o.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:dn(r)},...s&&{trace:s}}}function pi(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const n of t){if(wm(n)){if(is(e.description,n))return!0;continue}if(!n.name&&!n.op)continue;const r=n.name?is(e.description,n.name):!0,s=n.op?e.op&&is(e.op,n.op):!0;if(r&&s)return!0}return!1}function vm(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const s of e)s.parent_span_id===r&&(s.parent_span_id=n)}function wm(e){return typeof e=="string"||e instanceof RegExp}function Tm(e,t){var r,s,o,i;if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...((r=e.sdk)==null?void 0:r.integrations)||[],...t.integrations||[]],packages:[...((s=e.sdk)==null?void 0:s.packages)||[],...t.packages||[]],settings:(o=e.sdk)!=null&&o.settings||t.settings?{...(i=e.sdk)==null?void 0:i.settings,...t.settings}:void 0},e}function Im(e,t,n,r){const s=ra(n),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:dn(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return kt(o,[i])}function km(e,t,n,r){const s=ra(n),o=e.type&&e.type!=="replay_event"?e.type:"event";Tm(e,n==null?void 0:n.sdk);const i=ud(e,s,r,t);return delete e.sdkProcessingMetadata,kt(i,[[{type:o},e]])}function Cm(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const r=st(e[0]),s=t==null?void 0:t.getDsn(),o=t==null?void 0:t.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&s&&{dsn:dn(s)}},{beforeSendSpan:a,ignoreSpans:c}=(t==null?void 0:t.getOptions())||{},u=c!=null&&c.length?e.filter(f=>!pi($(f),c)):e,d=e.length-u.length;d&&(t==null||t.recordDroppedEvent("before_send","span",d));const l=a?f=>{const h=$(f),m=a(h);return m||(di(),h)}:$,p=[];for(const f of u){const h=l(f);h&&p.push(Sm(h))}return kt(i,p)}function Rm(e){if(!C)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=$(e),{spanId:s}=e.spanContext(),o=fn(e),i=Ee(e),a=i===e,c=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=$(i);u.push(`root ID: ${i.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}_.log(`${c}
  ${u.join(`
  `)}`)}function xm(e){if(!C)return;const{description:t="< unknown name >",op:n="< unknown op >"}=$(e),{spanId:r}=e.spanContext(),o=Ee(e)===e,i=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;_.log(i)}function Mm(e,t,n,r=Se()){const s=r&&Ee(r);s&&(C&&_.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[vr]:t,[Er]:n}))}function vc(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[Er],o=r[vr];typeof s=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:s})}),t}const wc=1e3;class eo{constructor(t={}){this._traceId=t.traceId||Et(),this._spanId=t.spanId||br(),this._startTime=t.startTimestamp||pe(),this._links=t.links,this._attributes={},this.setAttributes({[Q]:"manual",[ve]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?ta:td}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Qt(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(fe,"custom"),this}end(t){this._endTime||(this._endTime=Qt(t),xm(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[ve],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:sd(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Q],profile_id:this._attributes[Ji],exclusive_time:this._attributes[Yn],measurements:vc(this._events),is_segment:this._isStandaloneSpan&&Ee(this)===this||void 0,segment_id:this._isStandaloneSpan?Ee(this).spanContext().spanId:void 0,links:rd(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){C&&_.log("[Tracing] Adding an event to span:",t);const s=Tc(n)?n:r||pe(),o=Tc(n)?{}:n||{},i={name:t,time:Qt(s),attributes:o};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=x();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Ee(this)))return;if(this._isStandaloneSpan){this._sampled?Nm(Cm([this],t)):(C&&_.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(Rs(this).scope||G()).captureEvent(r)}_convertSpanToTransaction(){var d;if(!Ic($(this)))return;this._name||(C&&_.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=Rs(this),r=(d=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:d.normalizedRequest;if(this._sampled!==!0)return;const o=as(this).filter(l=>l!==this&&!Am(l)).map(l=>$(l)).filter(Ic),i=this._attributes[fe];delete this._attributes[ui],o.forEach(l=>{delete l.data[ui]});const a={contexts:{trace:sm(this)},spans:o.length>wc?o.sort((l,p)=>l.start_timestamp-p.start_timestamp).slice(0,wc):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:st(this)},request:r,...i&&{transaction_info:{source:i}}},c=vc(this._events);return c&&Object.keys(c).length&&(C&&_.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function Tc(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Ic(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Am(e){return e instanceof eo&&e.isStandaloneSpan()}function Nm(e){const t=x();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function ld(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return Om(r,t,n)}function Om(e,t,n){return Vn(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function Lm(e,t,n){if(!Bt(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const o=rn(s);if(o===void 0)return C&&_.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!o)return C&&_.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o,r];const i=n<o;return i||C&&_.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[i,o,r]}const As="__SENTRY_SUPPRESS_TRACING__";function sa(e,t){const n=wr();if(n.startSpan)return n.startSpan(e,t);const r=ia(e),{forceTransaction:s,parentSpan:o,scope:i}=e,a=i==null?void 0:i.clone();return je(a,()=>dd(o)(()=>{const u=G(),d=aa(u,o),p=e.onlyIfParent&&!d?new vt:oa({parentSpan:d,spanArguments:r,forceTransaction:s,scope:u});return nn(u,p),ld(()=>t(p),()=>{const{status:f}=$(p);p.isRecording()&&(!f||f==="ok")&&p.setStatus({code:ge,message:"internal_error"})},()=>{p.end()})}))}function $k(e,t){const n=wr();if(n.startSpanManual)return n.startSpanManual(e,t);const r=ia(e),{forceTransaction:s,parentSpan:o,scope:i}=e,a=i==null?void 0:i.clone();return je(a,()=>dd(o)(()=>{const u=G(),d=aa(u,o),p=e.onlyIfParent&&!d?new vt:oa({parentSpan:d,spanArguments:r,forceTransaction:s,scope:u});return nn(u,p),ld(()=>t(p,()=>p.end()),()=>{const{status:f}=$(p);p.isRecording()&&(!f||f==="ok")&&p.setStatus({code:ge,message:"internal_error"})})}))}function rt(e){const t=wr();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=ia(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?i=>je(e.scope,i):s!==void 0?i=>Nn(s,i):i=>i())(()=>{const i=G(),a=aa(i,s);return e.onlyIfParent&&!a?new vt:oa({parentSpan:a,spanArguments:n,forceTransaction:r,scope:i})})}const Fk=(e,t)=>{const n=It(),r=qt(n);if(r.continueTrace)return r.continueTrace(e,t);const{sentryTrace:s,baggage:o}=e,i=x(),a=ea(o);return i&&!rm(i,a==null?void 0:a.org_id)?Dm(t):je(c=>{const u=Ql(s,o);return c.setPropagationContext(u),t()})};function Nn(e,t){const n=wr();return n.withActiveSpan?n.withActiveSpan(e,t):je(r=>(nn(r,e||void 0),t(r)))}function Pm(e){const t=wr();return t.suppressTracing?t.suppressTracing(e):je(n=>{n.setSDKProcessingMetadata({[As]:!0});const r=e();return n.setSDKProcessingMetadata({[As]:void 0}),r})}function Dm(e){return je(t=>(t.setPropagationContext({traceId:Et(),sampleRand:Math.random()}),C&&_.log(`Starting a new trace with id ${t.getPropagationContext().traceId}`),Nn(null,e)))}function oa({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Bt()){const i=new vt;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...st(i)};cs(i,a)}return i}const s=Ie();let o;if(e&&!n)o=$m(e,r,t),od(e,o);else if(e){const i=st(e),{traceId:a,spanId:c}=e.spanContext(),u=fn(e);o=kc({traceId:a,parentSpanId:c,...t},r,u),cs(o,i)}else{const{traceId:i,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};o=kc({traceId:i,parentSpanId:c,...t},r,u),a&&cs(o,a)}return Rm(o),Gh(o,r,s),o}function ia(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Qt(e.startTime),delete r.startTime,r}return n}function wr(){const e=It();return qt(e)}function kc(e,t,n){var h;const r=x(),s=(r==null?void 0:r.getOptions())||{},{name:o=""}=e,i={spanAttributes:{...e.attributes},spanName:o,parentSampled:n};r==null||r.emit("beforeSampling",i,{decision:!1});const a=i.parentSampled??n,c=i.spanAttributes,u=t.getPropagationContext(),[d,l,p]=t.getScopeData().sdkProcessingMetadata[As]?[!1]:Lm(s,{name:o,parentSampled:a,attributes:c,parentSampleRate:rn((h=u.dsc)==null?void 0:h.sample_rate)},u.sampleRand),f=new eo({...e,attributes:{[fe]:"custom",[Ki]:l!==void 0&&p?l:void 0,...c},sampled:d});return!d&&r&&(C&&_.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function $m(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[As]?!1:fn(e),i=o?new eo({...n,parentSpanId:r,traceId:s,sampled:o}):new vt({traceId:s});od(e,i);const a=x();return a&&(a.emit("spanStart",i),n.endTimestamp&&a.emit("spanEnd",i)),i}function aa(e,t){if(t)return t;if(t===null)return;const n=cr(e);if(!n)return;const r=x();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Ee(n):n}function dd(e){return e!==void 0?t=>Nn(e,t):t=>t()}const us={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Fm="heartbeatFailed",Bm="idleTimeout",Hm="finalTimeout",Um="externalFinish";function fd(e,t={}){const n=new Map;let r=!1,s,o=Um,i=!t.disableAutoFinish;const a=[],{idleTimeout:c=us.idleTimeout,finalTimeout:u=us.finalTimeout,childSpanTimeout:d=us.childSpanTimeout,beforeSpanEnd:l}=t,p=x();if(!p||!Bt()){const b=new vt,k={sample_rate:"0",sampled:"false",...st(b)};return cs(b,k),b}const f=G(),h=Se(),m=Wm(e);m.end=new Proxy(m.end,{apply(b,k,N){if(l&&l(m),k instanceof vt)return;const[E,...T]=N,P=E||pe(),v=Qt(P),O=as(m).filter(F=>F!==m);if(!O.length)return R(v),Reflect.apply(b,k,[v,...T]);const q=O.map(F=>$(F).timestamp).filter(F=>!!F),L=q.length?Math.max(...q):void 0,z=$(m).start_timestamp,w=Math.min(z?z+u/1e3:1/0,Math.max(z||-1/0,Math.min(v,L||1/0)));return R(w),Reflect.apply(b,k,[w,...T])}});function g(){s&&(clearTimeout(s),s=void 0)}function y(b){g(),s=setTimeout(()=>{!r&&n.size===0&&i&&(o=Bm,m.end(b))},c)}function S(b){s=setTimeout(()=>{!r&&i&&(o=Fm,m.end(b))},d)}function M(b){g(),n.set(b,!0);const k=pe();S(k+d/1e3)}function I(b){if(n.has(b)&&n.delete(b),n.size===0){const k=pe();y(k+c/1e3)}}function R(b){r=!0,n.clear(),a.forEach(v=>v()),nn(f,h);const k=$(m),{start_timestamp:N}=k;if(!N)return;k.data[ks]||m.setAttribute(ks,o),_.log(`[Tracing] Idle span "${k.op}" finished`);const T=as(m).filter(v=>v!==m);let P=0;T.forEach(v=>{v.isRecording()&&(v.setStatus({code:ge,message:"cancelled"}),v.end(b),C&&_.log("[Tracing] Cancelling span since span ended early",JSON.stringify(v,void 0,2)));const O=$(v),{timestamp:q=0,start_timestamp:L=0}=O,z=L<=b,w=(u+c)/1e3,F=q-L<=w;if(C){const D=JSON.stringify(v,void 0,2);z?F||_.log("[Tracing] Discarding span since it finished after idle span final timeout",D):_.log("[Tracing] Discarding span since it happened after idle span was finished",D)}(!F||!z)&&(cm(m,v),P++)}),P>0&&m.setAttribute("sentry.idle_span_discarded_spans",P)}return a.push(p.on("spanStart",b=>{if(r||b===m||$(b).timestamp||b instanceof eo&&b.isStandaloneSpan())return;as(m).includes(b)&&M(b.spanContext().spanId)})),a.push(p.on("spanEnd",b=>{r||I(b.spanContext().spanId)})),a.push(p.on("idleSpanEnableAutoFinish",b=>{b===m&&(i=!0,y(),n.size&&S())})),t.disableAutoFinish||y(),setTimeout(()=>{r||(m.setStatus({code:ge,message:"deadline_exceeded"}),o=Hm,m.end())},u),m}function Wm(e){const t=rt(e);return nn(G(),t),C&&_.log("[Tracing] Started span is an idle span"),t}const Po=0,Cc=1,Rc=2;function wt(e){return new Ht(t=>{t(e)})}function Ns(e){return new Ht((t,n)=>{n(e)})}class Ht{constructor(t){this._state=Po,this._handlers=[],this._runExecutor(t)}then(t,n){return new Ht((r,s)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(i){s(i)}},o=>{if(!n)s(o);else try{r(n(o))}catch(i){s(i)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Ht((n,r)=>{let s,o;return this.then(i=>{o=!1,s=i,t&&t()},i=>{o=!0,s=i,t&&t()}).then(()=>{if(o){r(s);return}n(s)})})}_executeHandlers(){if(this._state===Po)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Cc&&n[1](this._value),this._state===Rc&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(o,i)=>{if(this._state===Po){if(Vn(i)){i.then(r,s);return}this._state=o,this._value=i,this._executeHandlers()}},r=o=>{n(Cc,o)},s=o=>{n(Rc,o)};try{t(r,s)}catch(o){s(o)}}}function hi(e,t,n,r=0){return new Ht((s,o)=>{const i=e[r];if(t===null||typeof i!="function")s(t);else{const a=i({...t},n);C&&i.id&&a===null&&_.log(`Event processor "${i.id}" dropped event`),Vn(a)?a.then(c=>hi(e,c,n,r+1).then(s)).then(null,o):hi(e,a,n,r+1).then(s).then(null,o)}})}function zm(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=t;jm(e,t),r&&Vm(e,r),Ym(e,n),qm(e,s),Gm(e,o)}function Os(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:p,transactionName:f,span:h}=t;Ur(e,"extra",n),Ur(e,"tags",r),Ur(e,"user",s),Ur(e,"contexts",o),e.sdkProcessingMetadata=Sr(e.sdkProcessingMetadata,a,2),i&&(e.level=i),f&&(e.transactionName=f),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...p}}function Ur(e,t,n){e[t]=Sr(e[t],n,1)}function jm(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(o).length&&(e.contexts={...o,...e.contexts}),i&&(e.level=i),a&&e.type!=="transaction"&&(e.transaction=a)}function qm(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Gm(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Vm(e,t){e.contexts={trace:nd(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:st(t),...e.sdkProcessingMetadata};const n=Ee(t),r=$(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Ym(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let Wr,xc,zr;function pd(e){const t=W._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return zr&&n.length===xc||(xc=n.length,zr=n.reduce((r,s)=>{Wr||(Wr={});const o=Wr[s];if(o)r[o[0]]=o[1];else{const i=e(s);for(let a=i.length-1;a>=0;a--){const c=i[a],u=c==null?void 0:c.filename,d=t[s];if(u&&d){r[u]=d,Wr[s]=[u,d];break}}}return r},{})),zr}function Xm(e,t){const n=pd(e);if(!n)return[];const r=[];for(const s of t)s&&n[s]&&r.push({type:"sourcemap",code_file:s,debug_id:n[s]});return r}function hd(e,t,n,r,s,o){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||De(),timestamp:t.timestamp||ln()},u=n.integrations||e.integrations.map(g=>g.name);Km(c,e),Qm(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&Jm(c,e.stackParser);const d=tg(r,n.captureContext);n.mechanism&&bt(c,n.mechanism);const l=s?s.getEventProcessors():[],p=Zs().getScopeData();if(o){const g=o.getScopeData();Os(p,g)}if(d){const g=d.getScopeData();Os(p,g)}const f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),zm(c,p);const h=[...l,...p.eventProcessors];return hi(h,c,n).then(g=>(g&&Zm(g),typeof i=="number"&&i>0?eg(g,i,a):g))}function Km(e,t){const{environment:n,release:r,dist:s,maxValueLength:o=250}=t;e.environment=e.environment||n||Qs,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const i=e.request;i!=null&&i.url&&(i.url=xn(i.url,o))}function Jm(e,t){var r,s;const n=pd(t);(s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(o=>{var i,a;(a=(i=o.stacktrace)==null?void 0:i.frames)==null||a.forEach(c=>{c.filename&&(c.debug_id=n[c.filename])})})}function Zm(e){var r,s;const t={};if((s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(o=>{var i,a;(a=(i=o.stacktrace)==null?void 0:i.frames)==null||a.forEach(c=>{c.debug_id&&(c.abs_path?t[c.abs_path]=c.debug_id:c.filename&&(t[c.filename]=c.debug_id),delete c.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([o,i])=>{n.push({type:"sourcemap",code_file:o,debug_id:i})})}function Qm(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function eg(e,t,n){var s,o;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Ue(i.data,t,n)}}))},...e.user&&{user:Ue(e.user,t,n)},...e.contexts&&{contexts:Ue(e.contexts,t,n)},...e.extra&&{extra:Ue(e.extra,t,n)}};return(s=e.contexts)!=null&&s.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Ue(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:Ue(i.data,t,n)}}))),(o=e.contexts)!=null&&o.flags&&r.contexts&&(r.contexts.flags=Ue(e.contexts.flags,3,n)),r}function tg(e,t){if(!t)return e;const n=e?e.clone():new ut;return n.update(t),n}function ng(e){if(e)return rg(e)?{captureContext:e}:og(e)?{captureContext:e}:e}function rg(e){return e instanceof ut||typeof e=="function"}const sg=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function og(e){return Object.keys(e).some(t=>sg.includes(t))}function on(e,t){return G().captureException(e,ng(t))}function mi(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return G().captureMessage(e,n,r)}function to(e,t){return G().captureEvent(e,t)}function md(e,t){Ie().setContext(e,t)}function Bk(e){Ie().setExtras(e)}function Hk(e,t){Ie().setExtra(e,t)}function Uk(e){Ie().setTags(e)}function Wk(e,t){Ie().setTag(e,t)}function zk(e){Ie().setUser(e)}function ig(){return Ie().lastEventId()}async function jk(e){const t=x();return t?t.flush(e):(C&&_.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function qk(e){const t=x();return t?t.close(e):(C&&_.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function Gk(){return!!x()}function ag(){const e=x();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function cg(e){Ie().addEventProcessor(e)}function Mc(e){const t=Ie(),n=G(),{userAgent:r}=W.navigator||{},s=Ah({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),o=t.getSession();return(o==null?void 0:o.status)==="ok"&&Mn(o,{status:"exited"}),gd(),t.setSession(s),s}function gd(){const e=Ie(),n=G().getSession()||e.getSession();n&&Nh(n),_d(),e.setSession()}function _d(){const e=Ie(),t=x(),n=e.getSession();n&&t&&t.captureSession(n)}function Ac(e=!1){if(e){gd();return}_d()}const ug="7";function yd(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function lg(e){return`${yd(e)}${e.projectId}/envelope/`}function dg(e,t){const n={sentry_version:ug};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Sd(e,t,n){return t||`${lg(e)}?${dg(e,n)}`}function fg(e,t){const n=Kl(e);if(!n)return"";const r=`${yd(n)}embed/error-page/`;let s=`dsn=${dn(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const i=t.user;if(!i)continue;i.name&&(s+=`&name=${encodeURIComponent(i.name)}`),i.email&&(s+=`&email=${encodeURIComponent(i.email)}`)}else s+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${s}`}const Nc=[];function pg(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function hg(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return pg(r)}function mg(e,t){const n={};return t.forEach(r=>{r&&bd(e,r,n)}),n}function Oc(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function bd(e,t,n){if(n[t.name]){C&&_.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Nc.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Nc.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,o)=>r(s,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((o,i)=>r(o,i,e),{id:t.name});e.addEventProcessor(s)}C&&_.log(`Integration installed: ${t.name}`)}function Lc(e){const t=x();if(!t){C&&_.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function gg(e,t,n){const r=[{type:"client_report"},{timestamp:ln(),discarded_events:e}];return kt(t?{dsn:t}:{},[r])}function Ed(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function _g(e){var c;const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:o,data:i,op:a}=((c=e.contexts)==null?void 0:c.trace)??{};return{data:i??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:o,profile_id:i==null?void 0:i[Ji],exclusive_time:i==null?void 0:i[Yn],measurements:e.measurements,is_segment:!0}}function yg(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[Ji]:e.profile_id},...e.exclusive_time&&{[Yn]:e.exclusive_time}}}},measurements:e.measurements}}const Pc="Not capturing exception because it's already been captured.",Dc="Discarded session because of missing or non-string release",vd=Symbol.for("SentryInternalError"),wd=Symbol.for("SentryDoNotSendEventError");function ls(e){return{message:e,[vd]:!0}}function Do(e){return{message:e,[wd]:!0}}function $c(e){return!!e&&typeof e=="object"&&vd in e}function Fc(e){return!!e&&typeof e=="object"&&wd in e}class Sg{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Kl(t.dsn):C&&_.warn("No DSN provided, client will not send events."),this._dsn){const n=Sd(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const s=De();if(pc(t))return C&&_.log(Pc),s;const o={event_id:s,...n};return this._process(this.eventFromException(t,o).then(i=>this._captureEvent(i,o,r))),o.event_id}captureMessage(t,n,r,s){const o={event_id:De(),...r},i=Ks(t)?t:String(t),a=Rn(t)?this.eventFromMessage(i,n,o):this.eventFromException(t,o);return this._process(a.then(c=>this._captureEvent(c,o,s))),o.event_id}captureEvent(t,n,r){const s=De();if(n!=null&&n.originalException&&pc(n.originalException))return C&&_.log(Pc),s;const o={event_id:s,...n},i=t.sdkProcessingMetadata||{},a=i.capturedSpanScope,c=i.capturedSpanIsolationScope;return this._process(this._captureEvent(t,o,a||r,c)),o.event_id}captureSession(t){this.sendSession(t),Mn(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):wt(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];bd(this,t,this._integrations),n||Oc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=km(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=mm(r,bm(o));const s=this.sendEnvelope(r);s&&s.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const{release:n,environment:r=Qs}=this._options;if("aggregates"in t){const o=t.attrs||{};if(!o.release&&!n){C&&_.warn(Dc);return}o.release=o.release||n,o.environment=o.environment||r,t.attrs=o}else{if(!t.release&&!n){C&&_.warn(Dc);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=Im(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;C&&_.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(C&&_.error("Error while sending envelope:",n),n)):(C&&_.error("Transport disabled"),wt({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=mg(this,t),Oc(this,t)}_updateSessionFromEvent(t,n){var c;let r=n.level==="fatal",s=!1;const o=(c=n.exception)==null?void 0:c.values;if(o){s=!0;for(const u of o){const d=u.mechanism;if((d==null?void 0:d.handled)===!1){r=!0;break}}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(Mn(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Ht(n=>{let r=0;const s=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=s,t&&r>=t&&(clearInterval(o),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const o=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&(i!=null&&i.length)&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),hd(o,t,n,r,this,s).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Wl(r),...a.contexts};const c=na(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=G(),s=Ie()){return C&&gi(t)&&_.log(`Captured error event \`${Ed(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(o=>o.event_id,o=>{C&&(Fc(o)?_.log(o.message):$c(o)?_.warn(o.message):_.warn(o))})}_processEvent(t,n,r,s){const o=this.getOptions(),{sampleRate:i}=o,a=Td(t),c=gi(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof i>"u"?void 0:rn(i);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),Ns(Do(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const p=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,s).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",p),Do("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return f;const m=Eg(this,o,f,n);return bg(m,d)}).then(f=>{var g;if(f===null){if(this.recordDroppedEvent("before_send",p),a){const S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw Do(`${d} returned \`null\`, will not send event.`)}const h=r.getSession()||s.getSession();if(c&&h&&this._updateSessionFromEvent(h,f),a){const y=((g=f.sdkProcessingMetadata)==null?void 0:g.spanCountBeforeProcessing)||0,S=f.spans?f.spans.length:0,M=y-S;M>0&&this.recordDroppedEvent("before_send","span",M)}const m=f.transaction_info;if(a&&m&&f.transaction!==t.transaction){const y="custom";f.transaction_info={...m,source:y}}return this.sendEvent(f,n),f}).then(null,f=>{throw Fc(f)||$c(f)?f:(this.captureException(f,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:f}),ls(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,o]=n.split(":");return{reason:s,category:o,quantity:r}})}_flushOutcomes(){C&&_.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){C&&_.log("No outcomes to send");return}if(!this._dsn){C&&_.log("No dsn provided, will not send outcomes");return}C&&_.log("Sending outcomes:",t);const n=gg(t,this._options.tunnel&&dn(this._dsn));this.sendEnvelope(n)}}function bg(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Vn(e))return e.then(r=>{if(!yt(r)&&r!==null)throw ls(n);return r},r=>{throw ls(`${t} rejected with ${r}`)});if(!yt(e)&&e!==null)throw ls(n);return e}function Eg(e,t,n,r){const{beforeSend:s,beforeSendTransaction:o,beforeSendSpan:i,ignoreSpans:a}=t;let c=n;if(gi(c)&&s)return s(c,r);if(Td(c)){if(i||a){const u=_g(c);if(a!=null&&a.length&&pi(u,a))return null;if(i){const d=i(u);d?c=Sr(n,yg(d)):di()}if(c.spans){const d=[],l=c.spans;for(const f of l){if(a!=null&&a.length&&pi(f,a)){vm(l,f);continue}if(i){const h=i(f);h?d.push(h):(di(),d.push(f))}else d.push(f)}const p=c.spans.length-d.length;p&&e.recordDroppedEvent("before_send","span",p),c.spans=d}}if(o){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return o(c,r)}}return c}function gi(e){return e.type===void 0}function Td(e){return e.type==="transaction"}function vg(e,t){return t?je(t,()=>{const n=Se(),r=n?nd(n):Wl(t);return[n?st(n):na(e,t),r]}):[void 0,void 0]}const wg={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function Tg(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function Ig(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=dn(r)),kt(s,[Tg(e)])}const kg=100;function Cg(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function ft(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function Rg(e,t){const n=ca(),r=Id(e);r===void 0?n.set(e,[t]):(n.set(e,[...r,t]),r.length>=kg&&ds(e,r))}function _i(e,t=x(),n=G(),r=Rg){var E;if(!t){C&&_.warn("No client available to capture log.");return}const{release:s,environment:o,enableLogs:i=!1,beforeSendLog:a}=t.getOptions();if(!i){C&&_.warn("logging option not enabled, log will not be captured.");return}const[,c]=vg(t,n),u={...e.attributes},{user:{id:d,email:l,username:p}}=xg(n);ft(u,"user.id",d,!1),ft(u,"user.email",l,!1),ft(u,"user.name",p,!1),ft(u,"sentry.release",s),ft(u,"sentry.environment",o);const{name:f,version:h}=((E=t.getSdkMetadata())==null?void 0:E.sdk)??{};ft(u,"sentry.sdk.name",f),ft(u,"sentry.sdk.version",h);const m=t.getIntegrationByName("Replay");ft(u,"sentry.replay_id",m==null?void 0:m.getReplayId());const g=e.message;if(Ks(g)){const{__sentry_template_string__:T,__sentry_template_values__:P=[]}=g;P!=null&&P.length&&(u["sentry.message.template"]=T),P.forEach((v,O)=>{u[`sentry.message.parameter.${O}`]=v})}const y=cr(n);ft(u,"sentry.trace.parent_span_id",y==null?void 0:y.spanContext().spanId);const S={...e,attributes:u};t.emit("beforeCaptureLog",S);const M=a?Wt(()=>a(S)):S;if(!M){t.recordDroppedEvent("before_send","log_item",1),C&&_.warn("beforeSendLog returned null, log will not be captured.");return}const{level:I,message:R,attributes:b={},severityNumber:k}=M,N={timestamp:pe(),level:I,body:R,trace_id:c==null?void 0:c.trace_id,severity_number:k??wg[I],attributes:Object.keys(b).reduce((T,P)=>(T[P]=Cg(b[P]),T),{})};r(t,N),t.emit("afterCaptureLog",M)}function ds(e,t){const n=t??Id(e)??[];if(n.length===0)return;const r=e.getOptions(),s=Ig(n,r._metadata,r.tunnel,e.getDsn());ca().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function Id(e){return ca().get(e)}function xg(e){const t=Zs().getScopeData();return Os(t,Ie().getScopeData()),Os(t,e.getScopeData()),t}function ca(){return yr("clientToLogBufferMap",()=>new WeakMap)}function Mg(e,t){t.debug===!0&&(C?_.enable():Wt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),G().update(t.initialScope);const r=new e(t);return Ag(r),r.init(),r}function Ag(e){G().setClient(e)}const kd=Symbol.for("SentryBufferFullError");function Ng(e){const t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function s(i){if(!n())return Ns(kd);const a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(i){return new Ht((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(l=>{wt(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:s,drain:o}}const Og=60*1e3;function Cd(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Og:r-t}function Lg(e,t){return e[t]||e.all||0}function Rd(e,t,n=Date.now()){return Lg(e,t)>n}function xd(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n==null?void 0:n["x-sentry-rate-limits"],i=n==null?void 0:n["retry-after"];if(o)for(const a of o.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),p=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+p;else for(const f of u.split(";"))f==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[f]=r+p):s[f]=r+p}else i?s.all=r+Cd(i,r):t===429&&(s.all=r+60*1e3);return s}const Pg=64;function Dg(e,t,n=Ng(e.bufferSize||Pg)){let r={};const s=i=>n.drain(i);function o(i){const a=[];if(sn(i,(l,p)=>{const f=Ec(p);Rd(r,f)?e.recordDroppedEvent("ratelimit_backoff",f):a.push(l)}),a.length===0)return wt({});const c=kt(i[0],a),u=l=>{sn(c,(p,f)=>{e.recordDroppedEvent(l,Ec(f))})},d=()=>t({body:Ms(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&C&&_.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=xd(r,l),l),l=>{throw u("network_error"),C&&_.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===kd)return C&&_.error("Skipped sending event because buffer is full."),u("queue_overflow"),wt({});throw l})}return{send:o,flush:s}}const $o=100,Fo=5e3,$g=36e5;function Fg(e){function t(...n){C&&_.log("[Offline]:",...n)}return n=>{const r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const s=n.createStore(n);let o=Fo,i;function a(l,p,f){return bc(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,p,f):!0}function c(l){i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const p=await s.shift();p&&(t("Attempting to send previously queued event"),p[0].sent_at=new Date().toISOString(),d(p,!0).catch(f=>{t("Failed to retry sending",f)}))},l),typeof i!="number"&&i.unref&&i.unref()}function u(){i||(c(o),o=Math.min(o*2,$g))}async function d(l,p=!1){var f,h;if(!p&&bc(l,["replay_event","replay_recording"]))return await s.push(l),c($o),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");const m=await r.send(l);let g=$o;if(m){if((f=m.headers)!=null&&f["retry-after"])g=Cd(m.headers["retry-after"]);else if((h=m.headers)!=null&&h["x-sentry-rate-limits"])g=6e4;else if((m.statusCode||0)>=400)return m}return c(g),o=Fo,m}catch(m){if(await a(l,m,o))return p?await s.unshift(l):await s.push(l),u(),t("Error sending. Event queued.",m),{};throw m}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(o=Fo,c($o)),r.flush(l))}}}function Md(e,t){let n;return sn(e,(r,s)=>(t.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function Bg(e,t){return n=>{const r=e(n);return{...r,send:async s=>{const o=Md(s,["event","transaction","profile","replay_event"]);return o&&(o.release=t),r.send(s)}}}}function Hg(e,t){return kt(t?{...e[0],dsn:t}:e[0],e[1])}function Vk(e,t){return n=>{const r=e(n),s=new Map;function o(c,u){const d=u?`${c}:${u}`:c;let l=s.get(d);if(!l){const p=Vl(c);if(!p)return;const f=Sd(p,n.tunnel);l=u?Bg(e,u)({...n,url:f}):e({...n,url:f}),s.set(d,l)}return[c,l]}async function i(c){function u(f){const h=f!=null&&f.length?f:["event"];return Md(c,h)}const d=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?o(f,void 0):o(f.dsn,f.release)).filter(f=>!!f),l=d.length?d:[["",r]];return(await Promise.all(l.map(([f,h])=>h.send(Hg(c,f)))))[0]}async function a(c){const u=[...s.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:i,flush:a}}}const Ug="thismessage:/";function ua(e){return"isRelative"in e}function la(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?Ug:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function Wg(e){if(ua(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function tn(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Ad(e){return e.split(/[?#]/,1)[0]}function Nd(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return jg(e,n)||zg(e,r)}function zg(e,t){return t?Bc(e)===Bc(t):!1}function jg(e,t){const n=la(e);return!n||ua(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function Bc(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function qg(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}const Gg=qg;function Vg(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Od(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:Lt})),version:Lt}),e._metadata=s}function Ld(e={}){const t=e.client||x();if(!ag()||!t)return{};const n=It(),r=qt(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||G(),o=e.span||Se(),i=o?om(o):Yg(s),a=o?st(o):na(t,s),c=Gl(a);if(!Jl.test(i))return _.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const d={"sentry-trace":i,baggage:c};if(e.propagateTraceparent){const l=Xg(i);l&&(d.traceparent=l)}return d}function Yg(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return ed(t,r,n)}function Xg(e){const{traceId:t,parentSpanId:n,parentSampled:r}=Zl(e)||{};if(!(!t||!n))return`00-${t}-${n}-${r?"01":"00"}`}function Kg(e,t,n){let r,s,o;const i=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,a=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function c(){return u(),r=e(),r}function u(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function d(){return s!==void 0||o!==void 0?c():r}function l(){return s&&clearTimeout(s),s=a(c,t),i&&o===void 0&&(o=a(c,i)),r}return l.cancel=u,l.flush=d,l}const Jg=100;function lt(e,t){const n=x(),r=Ie();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=Jg}=n.getOptions();if(o<=0)return;const a={timestamp:ln(),...e},c=s?Wt(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,o))}let Hc;const Zg="FunctionToString",Uc=new WeakMap,Qg=()=>({name:Zg,setupOnce(){Hc=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Xi(this),n=Uc.has(x())&&t!==void 0?t:this;return Hc.apply(n,e)}}catch{}},setup(e){Uc.set(e,!0)}}),e_=Qg,t_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],n_="EventFilters",r_=(e={})=>{let t;return{name:n_,setup(n){const r=n.getOptions();t=Wc(e,r)},processEvent(n,r,s){if(!t){const o=s.getOptions();t=Wc(e,o)}return o_(n,t)?null:n}}},s_=(e={})=>({...r_(e),name:"InboundFilters"});function Wc(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:t_],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function o_(e,t){if(e.type){if(e.type==="transaction"&&a_(e,t.ignoreTransactions))return C&&_.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Yt(e)}`),!0}else{if(i_(e,t.ignoreErrors))return C&&_.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Yt(e)}`),!0;if(d_(e))return C&&_.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Yt(e)}`),!0;if(c_(e,t.denyUrls))return C&&_.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Yt(e)}.
Url: ${Ls(e)}`),!0;if(!u_(e,t.allowUrls))return C&&_.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Yt(e)}.
Url: ${Ls(e)}`),!0}return!1}function i_(e,t){return t!=null&&t.length?Ed(e).some(n=>nt(n,t)):!1}function a_(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?nt(n,t):!1}function c_(e,t){if(!(t!=null&&t.length))return!1;const n=Ls(e);return n?nt(n,t):!1}function u_(e,t){if(!(t!=null&&t.length))return!0;const n=Ls(e);return n?nt(n,t):!0}function l_(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Ls(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(o=>{var i,a,c;return((i=o.mechanism)==null?void 0:i.parent_id)===void 0&&((c=(a=o.stacktrace)==null?void 0:a.frames)==null?void 0:c.length)}),s=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return s?l_(s):null}catch{return C&&_.error(`Cannot extract url for event ${Yt(e)}`),null}}function d_(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function f_(e,t,n,r,s,o){var a;if(!((a=s.exception)!=null&&a.values)||!o||!St(o.originalException,Error))return;const i=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;i&&(s.exception.values=yi(e,t,r,o.originalException,n,s.exception.values,i,0))}function yi(e,t,n,r,s,o,i,a){if(o.length>=n+1)return o;let c=[...o];if(St(r[s],Error)){zc(i,a);const u=e(t,r[s]),d=c.length;jc(u,s,d,a),c=yi(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(St(u,Error)){zc(i,a);const l=e(t,u),p=c.length;jc(l,`errors[${d}]`,p,a),c=yi(e,t,n,u,s,[l,...c],l,p)}}),c}function zc(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function jc(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const Pd=new Map,qc=new Set;function p_(e){if(W._sentryModuleMetadata)for(const t of Object.keys(W._sentryModuleMetadata)){const n=W._sentryModuleMetadata[t];if(qc.has(t))continue;qc.add(t);const r=e(t);for(const s of r.reverse())if(s.filename){Pd.set(s.filename,n);break}}}function h_(e,t){return p_(e),Pd.get(t)}function Dd(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const s=h_(e,r.filename);s&&(r.module_metadata=s)}})}catch{}}function $d(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}const Yk=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{sn(t,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&($d(s),n[1]=s)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;const n=e.getOptions().stackParser;Dd(n,t)})}});function da(e){const t="console";zt(t,e),jt(t,m_)}function m_(){"console"in W&&qi.forEach(function(e){e in W.console&&Pe(W.console,e,function(t){return Ts[e]=t,function(...n){Xe("console",{args:n,level:e});const s=Ts[e];s==null||s.apply(W.console,n)}})})}function fa(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const g_="CaptureConsole",__=(e={})=>{const t=e.levels||qi,n=e.handled??!0;return{name:g_,setup(r){"console"in W&&da(({args:s,level:o})=>{x()!==r||!t.includes(o)||y_(s,o,n)})}}},Xk=__;function y_(e,t,n){const r={level:fa(t),extra:{arguments:e}};je(s=>{if(s.addEventProcessor(a=>(a.logger="console",bt(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){const a=`Assertion failed: ${Is(e.slice(1)," ")||"console.assert"}`;s.setExtra("arguments",e.slice(1)),mi(a,r)}return}const o=e.find(a=>a instanceof Error);if(o){on(o,r);return}const i=Is(e," ");mi(i,r)})}const S_="Dedupe",b_=()=>{let e;return{name:S_,processEvent(t){if(t.type)return t;try{if(v_(t,e))return C&&_.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},E_=b_;function v_(e,t){return t?!!(w_(e,t)||T_(e,t)):!1}function w_(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Bd(e,t)||!Fd(e,t))}function T_(e,t){const n=Gc(t),r=Gc(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Bd(e,t)||!Fd(e,t))}function Fd(e,t){let n=ii(e),r=ii(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],i=n[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function Bd(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Gc(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}const I_="ExtraErrorData",k_=(e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:I_,processEvent(r,s,o){const{maxValueLength:i=250}=o.getOptions();return C_(r,s,t,n,i)}}},Kk=k_;function C_(e,t={},n,r,s){if(!t.originalException||!mt(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,i=Hd(t.originalException,r,s);if(i){const a={...e.contexts},c=Ue(i,n);return yt(c)&&(Re(c,"__sentry_skip_normalization__",!0),a[o]=c),{...e,contexts:a}}return e}function Hd(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],s={};for(const o of Object.keys(e)){if(r.indexOf(o)!==-1)continue;const i=e[o];s[o]=mt(i)||typeof i=="string"?xn(`${i}`,n):i}if(t&&e.cause!==void 0)if(mt(e.cause)){const o=e.cause.name||e.cause.constructor.name;s.cause={[o]:Hd(e.cause,!1,n)}}else s.cause=e.cause;if(typeof e.toJSON=="function"){const o=e.toJSON();for(const i of Object.keys(o)){const a=o[i];s[i]=mt(a)?a.toString():a}}return s}catch(r){C&&_.error("Unable to extract extra data from the Error object:",r)}return null}function R_(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const x_=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function M_(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=x_.exec(t);return n?n.slice(1):[]}function Vc(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:"/";s&&(t=`${s}/${t}`,n=s.charAt(0)==="/")}return t=R_(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function Yc(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function A_(e,t){e=Vc(e).slice(1),t=Vc(t).slice(1);const n=Yc(e.split("/")),r=Yc(t.split("/")),s=Math.min(n.length,r.length);let o=s;for(let a=0;a<s;a++)if(n[a]!==r[a]){o=a;break}let i=[];for(let a=o;a<n.length;a++)i.push("..");return i=i.concat(r.slice(o)),i.join("/")}function N_(e,t){return M_(e)[2]||""}const O_="RewriteFrames",Jk=(e={})=>{const t=e.root,n=e.prefix||"app:///",r="window"in W&&!!W.window,s=e.iteratee||L_({isBrowser:r,root:t,prefix:n});function o(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:i(c.stacktrace)}}))}}}catch{return a}}function i(a){var c;return{...a,frames:(c=a==null?void 0:a.frames)==null?void 0:c.map(u=>s(u))}}return{name:O_,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=o(c)),c}}};function L_({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;const s=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),o=/^\//.test(r.filename);if(e){if(t){const i=r.filename;i.indexOf(t)===0&&(r.filename=i.replace(t,n))}}else if(s||o){const i=s?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?A_(t,i):N_(i);r.filename=`${n}${a}`}return r}}const P_=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],D_=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],$_={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},Ud=["select","insert","upsert","update","delete"];function no(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function ro(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function F_(e,t={}){var n;switch(e){case"GET":return"select";case"POST":return(n=t.Prefer)!=null&&n.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function B_(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;const[n,...r]=t.split(".");let s;return n!=null&&n.startsWith("fts")?s="textSearch":n!=null&&n.startsWith("plfts")?s="textSearch[plain]":n!=null&&n.startsWith("phfts")?s="textSearch[phrase]":n!=null&&n.startsWith("wfts")?s="textSearch[websearch]":s=n&&$_[n]||"filter",`${s}(${e}, ${r.join(".")})`}function Xc(e,t=!1){return new Proxy(e,{apply(n,r,s){return sa({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[Q]:"auto.db.supabase",[ve]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},o=>Reflect.apply(n,r,s).then(i=>(i&&typeof i=="object"&&"error"in i&&i.error?(o.setStatus({code:ge}),on(i.error,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}})):o.setStatus({code:Zi}),o.end(),i)).catch(i=>{throw o.setStatus({code:ge}),o.end(),on(i,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}}),i}).then(...s))}})}function H_(e){const t=e.auth;if(!(!t||ro(e.auth))){for(const n of P_){const r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=Xc(r))}for(const n of D_){const r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=Xc(r,!0))}no(e.auth)}}function U_(e){ro(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){const s=Reflect.apply(t,n,r),o=s.constructor;return z_(o),s}}),no(e.prototype.from))}function W_(e){ro(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){var f;const s=Ud,o=n,i=F_(o.method,o.headers);if(!s.includes(i)||!((f=o==null?void 0:o.url)!=null&&f.pathname)||typeof o.url.pathname!="string")return Reflect.apply(t,n,r);const a=o.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(const[h,m]of o.url.searchParams.entries())u.push(B_(h,m));const d=Object.create(null);if(yt(o.body))for(const[h,m]of Object.entries(o.body))d[h]=m;const l=`${i==="select"?"":`${i}${d?"(...) ":""}`}${u.join(" ")} from(${c})`,p={"db.table":c,"db.schema":o.schema,"db.url":o.url.origin,"db.sdk":o.headers["X-Client-Info"],"db.system":"postgresql","db.operation":i,[Q]:"auto.db.supabase",[ve]:"db"};return u.length&&(p["db.query"]=u),Object.keys(d).length&&(p["db.body"]=d),sa({name:l,attributes:p},h=>Reflect.apply(t,n,[]).then(m=>{if(h&&(m&&typeof m=="object"&&"status"in m&&Cs(h,m.status||500),h.end()),m.error){const S=new Error(m.error.message);m.error.code&&(S.code=m.error.code),m.error.details&&(S.details=m.error.details);const M={};u.length&&(M.query=u),Object.keys(d).length&&(M.body=d),on(S,I=>(I.addEventProcessor(R=>(bt(R,{handled:!1,type:"auto.db.supabase.postgres"}),R)),I.setContext("supabase",M),I))}const g={type:"supabase",category:`db.${i}`,message:l},y={};return u.length&&(y.query=u),Object.keys(d).length&&(y.body=d),Object.keys(y).length&&(g.data=y),lt(g),m},m=>{throw h&&(Cs(h,500),h.end()),m}).then(...r))}}),no(e.prototype.then))}function z_(e){for(const t of Ud)ro(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,s){const o=Reflect.apply(n,r,s),i=o.constructor;return C&&_.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),W_(i),o}}),no(e.prototype[t]))}const j_=e=>{if(!e){C&&_.warn("Supabase integration was not installed because no Supabase client was provided.");return}const t=e.constructor===Function?e:e.constructor;U_(t),H_(e)},q_="Supabase",G_=e=>({setupOnce(){j_(e)},name:q_}),Zk=e=>G_(e.supabaseClient),V_=10,Y_="ZodErrors";function X_(e){return mt(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function K_(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function J_(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function Z_(e){const t=new Set;for(const r of e.issues){const s=J_(r.path);s.length>0&&t.add(s)}const n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){const s=e.issues[0];s!==void 0&&"expected"in s&&typeof s.expected=="string"&&(r=s.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${xn(n.join(", "),100)}`}function Q_(e,t=!1,n,r){var s;if(!((s=n.exception)!=null&&s.values)||!r.originalException||!X_(r.originalException)||r.originalException.issues.length===0)return n;try{const i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(K_);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:Z_(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}const ey=(e={})=>{const t=e.limit??V_;return{name:Y_,processEvent(n,r){return Q_(t,e.saveZodIssuesAsAttachment,n,r)}}},Qk=ey,eC=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{sn(n,(r,s)=>{if(s==="event"){const o=Array.isArray(r)?r[1]:void 0;o&&($d(o),r[1]=o)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;Dd(r,n)})},processEvent(t){const n=ty(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](o=>!o.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function ty(e){const t=ii(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(Kc)).map(r=>r.slice(Kc.length)):[])}const Kc="_sentryBundlerPluginAppKey:",ny=100,ry=10,jr="flag.evaluation.";function Tr(e){const n=G().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function On(e,t,n=ny){const r=G().getScopeData().contexts;r.flags||(r.flags={values:[]});const s=r.flags.values;sy(s,e,t,n)}function sy(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){C&&_.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}const s=e.findIndex(o=>o.flag===t);s!==-1&&e.splice(s,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}function Ln(e,t,n=ry){if(typeof t!="boolean")return;const r=Se();if(!r)return;const s=$(r).data;if(`${jr}${e}`in s){r.setAttribute(`${jr}${e}`,t);return}Object.keys(s).filter(i=>i.startsWith(jr)).length<n&&r.setAttribute(`${jr}${e}`,t)}const tC=()=>({name:"FeatureFlags",processEvent(e,t,n){return Tr(e)},addFeatureFlag(e,t){On(e,t),Ln(e,t)}});function oy(e,t,n,r,s){if(!e.fetchData)return;const{method:o,url:i}=e.fetchData,a=Bt()&&t(i);if(e.endTimestamp&&a){const f=e.fetchData.__span;if(!f)return;const h=r[f];h&&(ay(h,e),delete r[f]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof s=="object"?s:{spanOrigin:s},d=!!Se(),l=a&&d?rt(uy(i,o,c)):new vt;if(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l,n(e.fetchData.url)){const f=e.args[0],h=e.args[1]||{},m=iy(f,h,Bt()&&d?l:void 0,u);m&&(e.args[1]=h,h.headers=m)}const p=x();if(p){const f={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};p.emit("beforeOutgoingRequestSpan",l,f)}return l}function iy(e,t,n,r){const s=Ld({span:n,propagateTraceparent:r}),o=s["sentry-trace"],i=s.baggage,a=s.traceparent;if(!o)return;const c=t.headers||(Dl(e)?e.headers:void 0);if(c)if(cy(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",o),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),i){const d=u.get("baggage");d?qr(d)||u.set("baggage",`${d},${i}`):u.set("baggage",i)}return u}else if(Array.isArray(c)){const u=[...c];c.find(l=>l[0]==="sentry-trace")||u.push(["sentry-trace",o]),r&&a&&!c.find(l=>l[0]==="traceparent")&&u.push(["traceparent",a]);const d=c.find(l=>l[0]==="baggage"&&qr(l[1]));return i&&!d&&u.push(["baggage",i]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,d="traceparent"in c?c.traceparent:void 0,l="baggage"in c?c.baggage:void 0,p=l?Array.isArray(l)?[...l]:[l]:[],f=l&&(Array.isArray(l)?l.find(m=>qr(m)):qr(l));i&&!f&&p.push(i);const h={...c,"sentry-trace":u??o,baggage:p.length>0?p.join(","):void 0};return r&&a&&!d&&(h.traceparent=a),h}else return{...s}}function ay(e,t){var n,r;if(t.response){Cs(e,t.response.status);const s=(r=(n=t.response)==null?void 0:n.headers)==null?void 0:r.get("content-length");if(s){const o=parseInt(s);o>0&&e.setAttribute("http.response_content_length",o)}}else t.error&&e.setStatus({code:ge,message:"internal_error"});e.end()}function qr(e){return e.split(",").some(t=>t.trim().startsWith(Qi))}function cy(e){return typeof Headers<"u"&&St(e,Headers)}function uy(e,t,n){const r=la(e);return{name:r?`${t} ${Wg(r)}`:t,attributes:ly(e,r,t,n)}}function ly(e,t,n,r){const s={url:e,type:"fetch","http.method":n,[Q]:r,[ve]:"http.client"};return t&&(ua(t)||(s["http.url"]=t.href,s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function dy(e,t={},n=G()){const{message:r,name:s,email:o,url:i,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:o,name:s,message:r,url:i,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=(n==null?void 0:n.getClient())||x();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}const fy="ConsoleLogs",Jc={[Q]:"auto.console.logging"},py=(e={})=>{const t=e.levels||qi;return{name:fy,setup(n){const{enableLogs:r,normalizeDepth:s=3,normalizeMaxBreadth:o=1e3}=n.getOptions();if(!r){C&&_.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled");return}da(({args:i,level:a})=>{if(x()!==n||!t.includes(a))return;if(a==="assert"){if(!i[0]){const u=i.slice(1),d=u.length>0?`Assertion failed: ${Zc(u,s,o)}`:"Assertion failed";_i({level:"error",message:d,attributes:Jc})}return}const c=a==="log";_i({level:c?"info":a,message:Zc(i,s,o),severityNumber:c?10:void 0,attributes:Jc})})}}},nC=py;function Zc(e,t,n){return"util"in W&&typeof W.util.format=="function"?W.util.format(...e):hy(e,t,n)}function hy(e,t,n){return e.map(r=>Rn(r)?String(r):JSON.stringify(Ue(r,t,n))).join(" ")}function Wd(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Pn=W;function my(){return"history"in Pn&&!!Pn.history}function gy(){if(!("fetch"in Pn))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Si(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function zd(){var n;if(typeof EdgeRuntime=="string")return!0;if(!gy())return!1;if(Si(Pn.fetch))return!0;let e=!1;const t=Pn.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=Si(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){C&&_.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function _y(){return"ReportingObserver"in Pn}function pa(e,t){const n="fetch";zt(n,e),jt(n,()=>jd(void 0,t))}function yy(e){const t="fetch-body-resolved";zt(t,e),jt(t,()=>jd(by))}function jd(e,t=!1){t&&!zd()||Pe(W,"fetch",function(n){return function(...r){const s=new Error,{method:o,url:i}=Ey(r),a={args:r,fetchData:{method:o,url:i},startTimestamp:pe()*1e3,virtualError:s,headers:vy(r)};return e||Xe("fetch",{...a}),n.apply(W,r).then(async c=>(e?e(c):Xe("fetch",{...a,endTimestamp:pe()*1e3,response:c}),c),c=>{if(Xe("fetch",{...a,endTimestamp:pe()*1e3,error:c}),mt(c)&&c.stack===void 0&&(c.stack=s.stack,Re(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function Sy(e,t){if(e!=null&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let i;try{i=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(i),a&&(t(),o=!1)}catch{o=!1}finally{clearTimeout(i)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function by(e){let t;try{t=e.clone()}catch{return}Sy(t,()=>{Xe("fetch-body-resolved",{endTimestamp:pe()*1e3,response:e})})}function bi(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Qc(e){return typeof e=="string"?e:e?bi(e,"url")?e.url:e.toString?e.toString():"":""}function Ey(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Qc(n),method:bi(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Qc(t),method:bi(t,"method")?String(t.method).toUpperCase():"GET"}}function vy(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Dl(t))return new Headers(t.headers)}catch{}}function wy(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Ty(){return"npm"}function Iy(){return!wy()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ei(){return typeof window<"u"&&(!Iy()||ky())}function ky(){const e=W.process;return(e==null?void 0:e.type)==="renderer"}const et=W,oe=et.document,nr=et.navigator,qd="Report a Bug",Cy="Cancel",Ry="Send Bug Report",xy="Confirm",My="Report a Bug",Ay="your.email@example.org",Ny="Email",Oy="What's the bug? What did you expect?",Ly="Description",Py="Your Name",Dy="Name",$y="Thank you for your report!",Fy="(required)",By="Add a screenshot",Hy="Remove screenshot",Uy="Highlight",Wy="Hide",zy="Remove",jy="widget",qy="api",Gy=5e3,Vy=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=x();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&G().setTags(e.tags);const r=dy({source:qy,url:un(),...e},t);return new Promise((s,o)=>{const i=setTimeout(()=>o("Unable to determine if Feedback was correctly sent."),3e4),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(i),a(),u!=null&&u.statusCode&&u.statusCode>=200&&u.statusCode<300?s(r):(u==null?void 0:u.statusCode)===403?o("Unable to send feedback. This could be because this domain is not in your list of allowed domains."):o("Unable to send feedback. This could be because of network issues, or because you are using an ad-blocker.")})})},fs=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Yy(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(nr.userAgent)||/Macintosh/i.test(nr.userAgent)&&nr.maxTouchPoints&&nr.maxTouchPoints>1||!isSecureContext)}function Gr(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{var n,r;(n=t.onFormOpen)==null||n.call(t),(r=e.onFormOpen)==null||r.call(e)},onFormClose:()=>{var n,r;(n=t.onFormClose)==null||n.call(t),(r=e.onFormClose)==null||r.call(e)},onSubmitSuccess:(n,r)=>{var s,o;(s=t.onSubmitSuccess)==null||s.call(t,n,r),(o=e.onSubmitSuccess)==null||o.call(e,n,r)},onSubmitError:n=>{var r,s;(r=t.onSubmitError)==null||r.call(t,n),(s=e.onSubmitError)==null||s.call(e,n)},onFormSubmitted:()=>{var n,r;(n=t.onFormSubmitted)==null||n.call(t),(r=e.onFormSubmitted)==null||r.call(e)},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function Xy(e){const t=oe.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function ze(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const hn=20,Ky="http://www.w3.org/2000/svg";function Jy(){const e=a=>et.document.createElementNS(Ky,a),t=ze(e("svg"),{width:`${hn}`,height:`${hn}`,viewBox:`0 0 ${hn} ${hn}`,fill:"var(--actor-color, var(--foreground))"}),n=ze(e("g"),{clipPath:"url(#clip0_57_80)"}),r=ze(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),o=ze(e("clipPath"),{id:"clip0_57_80"}),i=ze(e("rect"),{width:`${hn}`,height:`${hn}`,fill:"white"});return o.appendChild(i),s.appendChild(o),t.appendChild(s).appendChild(o).appendChild(i),t}function Zy({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const s=oe.createElement("button");if(s.type="button",s.className="widget__actor",s.ariaHidden="false",s.ariaLabel=t||e||qd,s.appendChild(Jy()),e){const i=oe.createElement("span");i.appendChild(oe.createTextNode(e)),s.appendChild(i)}const o=Xy(r);return{el:s,appendToDom(){n.appendChild(o),n.appendChild(s)},removeFromDom(){s.remove(),o.remove()},show(){s.ariaHidden="false"},hide(){s.ariaHidden="true"}}}const Gd="rgba(88, 74, 192, 1)",Qy={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:Gd,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},eu={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:Gd,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function tu(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function eS({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const s=oe.createElement("style");return s.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${tu(e==="dark"?{...eu,...t}:{...Qy,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${tu({...eu,...t})}
  }
}`:""}
}
`,r&&s.setAttribute("nonce",r),s}const Vd=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:s="sentry-feedback",autoInject:o=!0,showBranding:i=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:p={email:"email",name:"username"},tags:f,styleNonce:h,scriptNonce:m,colorScheme:g="system",themeLight:y={},themeDark:S={},addScreenshotButtonLabel:M=By,cancelButtonLabel:I=Cy,confirmButtonLabel:R=xy,emailLabel:b=Ny,emailPlaceholder:k=Ay,formTitle:N=My,isRequiredLabel:E=Fy,messageLabel:T=Ly,messagePlaceholder:P=Oy,nameLabel:v=Dy,namePlaceholder:O=Py,removeScreenshotButtonLabel:q=Hy,submitButtonLabel:L=Ry,successMessageText:z=$y,triggerLabel:w=qd,triggerAriaLabel:F="",highlightToolText:D=Uy,hideToolText:V=Wy,removeHighlightText:ne=zy,onFormOpen:ye,onFormClose:xe,onSubmitSuccess:we,onSubmitError:Ct,onFormSubmitted:Gt}={})=>{const dt={id:s,autoInject:o,showBranding:i,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:p,tags:f,styleNonce:h,scriptNonce:m,colorScheme:g,themeDark:S,themeLight:y,triggerLabel:w,triggerAriaLabel:F,cancelButtonLabel:I,submitButtonLabel:L,confirmButtonLabel:R,formTitle:N,emailLabel:b,emailPlaceholder:k,messageLabel:T,messagePlaceholder:P,nameLabel:v,namePlaceholder:O,successMessageText:z,isRequiredLabel:E,addScreenshotButtonLabel:M,removeScreenshotButtonLabel:q,highlightToolText:D,hideToolText:V,removeHighlightText:ne,onFormClose:xe,onFormOpen:ye,onSubmitError:Ct,onSubmitSuccess:we,onFormSubmitted:Gt};let Je=null,Rt=[];const xt=ee=>{if(!Je){const le=oe.createElement("div");le.id=String(ee.id),oe.body.appendChild(le),Je=le.attachShadow({mode:"open"}),Je.appendChild(eS(ee))}return Je},Qn=async ee=>{const le=ee.enableScreenshot&&Yy();let Fe,Ce;try{Fe=(t?t():await e("feedbackModalIntegration",m))(),Lc(Fe)}catch{throw fs&&_.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const Me=le?n?n():await e("feedbackScreenshotIntegration",m):void 0;Me&&(Ce=Me(),Lc(Ce))}catch{fs&&_.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const de=Fe.createDialog({options:{...ee,onFormClose:()=>{var Me;de==null||de.close(),(Me=ee.onFormClose)==null||Me.call(ee)},onFormSubmitted:()=>{var Me;de==null||de.close(),(Me=ee.onFormSubmitted)==null||Me.call(ee)}},screenshotIntegration:Ce,sendFeedback:Vy,shadow:xt(ee)});return de},Br=(ee,le={})=>{const Fe=Gr(dt,le),Ce=typeof ee=="string"?oe.querySelector(ee):typeof ee.addEventListener=="function"?ee:null;if(!Ce)throw fs&&_.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let de=null;const Me=async()=>{de||(de=await Qn({...Fe,onFormSubmitted:()=>{var Ae;de==null||de.removeFromDom(),(Ae=Fe.onFormSubmitted)==null||Ae.call(Fe)}})),de.appendToDom(),de.open()};Ce.addEventListener("click",Me);const J=()=>{Rt=Rt.filter(Ae=>Ae!==J),de==null||de.removeFromDom(),de=null,Ce.removeEventListener("click",Me)};return Rt.push(J),J},er=(ee={})=>{const le=Gr(dt,ee),Fe=xt(le),Ce=Zy({triggerLabel:le.triggerLabel,triggerAriaLabel:le.triggerAriaLabel,shadow:Fe,styleNonce:h});return Br(Ce.el,{...le,onFormOpen(){Ce.hide()},onFormClose(){Ce.show()},onFormSubmitted(){Ce.show()}}),Ce};return{name:"Feedback",setupOnce(){!Ei()||!dt.autoInject||(oe.readyState==="loading"?oe.addEventListener("DOMContentLoaded",()=>er().appendToDom()):er().appendToDom())},attachTo:Br,createWidget(ee={}){const le=er(Gr(dt,ee));return le.appendToDom(),le},async createForm(ee={}){return Qn(Gr(dt,ee))},remove(){var ee;Je&&((ee=Je.parentElement)==null||ee.remove(),Je=null),Rt.forEach(le=>le()),Rt=[]}}};function rC(){const e=x();return e==null?void 0:e.getIntegrationByName("Feedback")}var so,ae,Yd,Xt,nu,Xd,vi,ur={},ha=[],tS=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ma=Array.isArray;function Ot(e,t){for(var n in t)e[n]=t[n];return e}function Kd(e){var t=e.parentNode;t&&t.removeChild(e)}function X(e,t,n){var r,s,o,i={};for(o in t)o=="key"?r=t[o]:o=="ref"?s=t[o]:i[o]=t[o];if(arguments.length>2&&(i.children=arguments.length>3?so.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)i[o]===void 0&&(i[o]=e.defaultProps[o]);return ps(e,i,r,s,null)}function ps(e,t,n,r,s){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++Yd,__i:-1,__u:0};return s==null&&ae.vnode!=null&&ae.vnode(o),o}function Ir(e){return e.children}function hs(e,t){this.props=e,this.context=t}function Dn(e,t){if(t==null)return e.__?Dn(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Dn(e):null}function nS(e,t,n){var r,s=e.__v,o=s.__e,i=e.__P;if(i)return(r=Ot({},s)).__v=s.__v+1,ae.vnode&&ae.vnode(r),ga(i,r,s,e.__n,i.ownerSVGElement!==void 0,32&s.__u?[o]:null,t,o??Dn(s),!!(32&s.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&Jd(r),r}function Jd(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Jd(e)}}function ru(e){(!e.__d&&(e.__d=!0)&&Xt.push(e)&&!Ps.__r++||nu!==ae.debounceRendering)&&((nu=ae.debounceRendering)||Xd)(Ps)}function Ps(){var e,t,n,r=[],s=[];for(Xt.sort(vi);e=Xt.shift();)e.__d&&(n=Xt.length,t=nS(e,r,s)||t,n===0||Xt.length>n?(wi(r,t,s),s.length=r.length=0,t=void 0,Xt.sort(vi)):t&&ae.__c&&ae.__c(t,ha));t&&wi(r,t,s),Ps.__r=0}function Zd(e,t,n,r,s,o,i,a,c,u,d){var l,p,f,h,m,g=r&&r.__k||ha,y=t.length;for(n.__d=c,rS(n,t,g),c=n.__d,l=0;l<y;l++)(f=n.__k[l])!=null&&typeof f!="boolean"&&typeof f!="function"&&(p=f.__i===-1?ur:g[f.__i]||ur,f.__i=l,ga(e,f,p,s,o,i,a,c,u,d),h=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&_a(p.ref,null,f),d.push(f.ref,f.__c||h,f)),m==null&&h!=null&&(m=h),65536&f.__u||p.__k===f.__k?c=Qd(f,c,e):typeof f.type=="function"&&f.__d!==void 0?c=f.__d:h&&(c=h.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=c,n.__e=m}function rS(e,t,n){var r,s,o,i,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(s=e.__k[r]=(s=t[r])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?ps(null,s,null,null,s):ma(s)?ps(Ir,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?ps(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=e,s.__b=e.__b+1,a=sS(s,n,i=r+l,d),s.__i=a,o=null,a!==-1&&(d--,(o=n[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&l--,typeof s.type!="function"&&(s.__u|=65536)):a!==i&&(a===i+1?l++:a>i?d>c-i?l+=a-i:l--:l=a<i&&a==i-1?a-i:0,a!==r+l&&(s.__u|=65536))):(o=n[r])&&o.key==null&&o.__e&&(o.__e==e.__d&&(e.__d=Dn(o)),Ti(o,o,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(o=n[r])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=Dn(o)),Ti(o,o))}function Qd(e,t,n){var r,s;if(typeof e.type=="function"){for(r=e.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=e,t=Qd(r[s],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function sS(e,t,n,r){var s=e.key,o=e.type,i=n-1,a=n+1,c=t[n];if(c===null||c&&s==c.key&&o===c.type)return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;i>=0||a<t.length;){if(i>=0){if((c=t[i])&&!(131072&c.__u)&&s==c.key&&o===c.type)return i;i--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&s==c.key&&o===c.type)return a;a++}}return-1}function su(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||tS.test(t)?n:n+"px"}function Vr(e,t,n,r,s){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||su(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||su(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?iu:ou,o)):e.removeEventListener(t,o?iu:ou,o);else{if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function ou(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ae.event?ae.event(e):e)}}function iu(e){if(this.l)return this.l[e.type+!0](ae.event?ae.event(e):e)}function ga(e,t,n,r,s,o,i,a,c,u){var d,l,p,f,h,m,g,y,S,M,I,R,b,k,N,E=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),o=[a=t.__e=n.__e]),(d=ae.__b)&&d(t);e:if(typeof E=="function")try{if(y=t.props,S=(d=E.contextType)&&r[d.__c],M=d?S?S.props.value:d.__:r,n.__c?g=(l=t.__c=n.__c).__=l.__E:("prototype"in E&&E.prototype.render?t.__c=l=new E(y,M):(t.__c=l=new hs(y,M),l.constructor=E,l.render=iS),S&&S.sub(l),l.props=y,l.state||(l.state={}),l.context=M,l.__n=r,p=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),E.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Ot({},l.__s)),Ot(l.__s,E.getDerivedStateFromProps(y,l.__s))),f=l.props,h=l.state,l.__v=t,p)E.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(E.getDerivedStateFromProps==null&&y!==f&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,M),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,M)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=y,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(T){T&&(T.__=t)}),I=0;I<l._sb.length;I++)l.__h.push(l._sb[I]);l._sb=[],l.__h.length&&i.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,M),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(f,h,m)})}if(l.context=M,l.props=y,l.__P=e,l.__e=!1,R=ae.__r,b=0,"prototype"in E&&E.prototype.render){for(l.state=l.__s,l.__d=!1,R&&R(t),d=l.render(l.props,l.state,l.context),k=0;k<l._sb.length;k++)l.__h.push(l._sb[k]);l._sb=[]}else do l.__d=!1,R&&R(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++b<25);l.state=l.__s,l.getChildContext!=null&&(r=Ot(Ot({},r),l.getChildContext())),p||l.getSnapshotBeforeUpdate==null||(m=l.getSnapshotBeforeUpdate(f,h)),Zd(e,ma(N=d!=null&&d.type===Ir&&d.key==null?d.props.children:d)?N:[N],t,n,r,s,o,i,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&i.push(l),g&&(l.__E=l.__=null)}catch(T){t.__v=null,c||o!=null?(t.__e=a,t.__u|=c?160:32,o[o.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),ae.__e(T,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=oS(n.__e,t,n,r,s,o,i,c,u);(d=ae.diffed)&&d(t)}function wi(e,t,n){for(var r=0;r<n.length;r++)_a(n[r],n[++r],n[++r]);ae.__c&&ae.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(o){o.call(s)})}catch(o){ae.__e(o,s.__v)}})}function oS(e,t,n,r,s,o,i,a,c){var u,d,l,p,f,h,m,g=n.props,y=t.props,S=t.type;if(S==="svg"&&(s=!0),o!=null){for(u=0;u<o.length;u++)if((f=o[u])&&"setAttribute"in f==!!S&&(S?f.localName===S:f.nodeType===3)){e=f,o[u]=null;break}}if(e==null){if(S===null)return document.createTextNode(y);e=s?document.createElementNS("http://www.w3.org/2000/svg",S):document.createElement(S,y.is&&y),o=null,a=!1}if(S===null)g===y||a&&e.data===y||(e.data=y);else{if(o=o&&so.call(e.childNodes),g=n.props||ur,!a&&o!=null)for(g={},u=0;u<e.attributes.length;u++)g[(f=e.attributes[u]).name]=f.value;for(u in g)f=g[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=f:u==="key"||u in y||Vr(e,u,null,f,s));for(u in y)f=y[u],u=="children"?p=f:u=="dangerouslySetInnerHTML"?d=f:u=="value"?h=f:u=="checked"?m=f:u==="key"||a&&typeof f!="function"||g[u]===f||Vr(e,u,f,g[u],s);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),Zd(e,ma(p)?p:[p],t,n,r,s&&S!=="foreignObject",o,i,o?o[0]:n.__k&&Dn(n,0),a,c),o!=null)for(u=o.length;u--;)o[u]!=null&&Kd(o[u]);a||(u="value",h!==void 0&&(h!==e[u]||S==="progress"&&!h||S==="option"&&h!==g[u])&&Vr(e,u,h,g[u],!1),u="checked",m!==void 0&&m!==e[u]&&Vr(e,u,m,g[u],!1))}return e}function _a(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ae.__e(r,n)}}function Ti(e,t,n){var r,s;if(ae.unmount&&ae.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||_a(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){ae.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&Ti(r[s],t,n||typeof e.type!="function");n||e.__e==null||Kd(e.__e),e.__=e.__e=e.__d=void 0}function iS(e,t,n){return this.constructor(e,n)}function aS(e,t,n){var r,s,o,i;ae.__&&ae.__(e,t),s=(r=!1)?null:t.__k,o=[],i=[],ga(t,e=t.__k=X(Ir,null,[e]),s||ur,ur,t.ownerSVGElement!==void 0,s?null:t.firstChild?so.call(t.childNodes):null,o,s?s.__e:t.firstChild,r,i),e.__d=void 0,wi(o,e,i)}so=ha.slice,ae={__e:function(e,t,n,r){for(var s,o,i;t=t.__;)if((s=t.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(e)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,r||{}),i=s.__d),i)return s.__E=s}catch(a){e=a}throw e}},Yd=0,hs.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ot({},this.state),typeof e=="function"&&(e=e(Ot({},n),this.props)),e&&Ot(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),ru(this))},hs.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ru(this))},hs.prototype.render=Ir,Xt=[],Xd=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vi=function(e,t){return e.__v.__b-t.__v.__b},Ps.__r=0;var Tt,ie,Bo,au,$n=0,ef=[],ms=[],he=ae,cu=he.__b,uu=he.__r,lu=he.diffed,du=he.__c,fu=he.unmount,pu=he.__;function pn(e,t){he.__h&&he.__h(ie,e,$n||t),$n=0;var n=ie.__H||(ie.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:ms}),n.__[e]}function Kt(e){return $n=1,tf(rf,e)}function tf(e,t,n){var r=pn(Tt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):rf(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ie,!ie.u)){var s=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!o||o.call(this,a,c,u);var l=!1;return d.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!o||o.call(this,a,c,u))};ie.u=!0;var o=ie.shouldComponentUpdate,i=ie.componentWillUpdate;ie.componentWillUpdate=function(a,c,u){if(this.__e){var d=o;o=void 0,s(a,c,u),o=d}i&&i.call(this,a,c,u)},ie.shouldComponentUpdate=s}return r.__N||r.__}function cS(e,t){var n=pn(Tt++,3);!he.__s&&ya(n.__H,t)&&(n.__=e,n.i=t,ie.__H.__h.push(n))}function nf(e,t){var n=pn(Tt++,4);!he.__s&&ya(n.__H,t)&&(n.__=e,n.i=t,ie.__h.push(n))}function uS(e){return $n=5,kr(function(){return{current:e}},[])}function lS(e,t,n){$n=6,nf(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function kr(e,t){var n=pn(Tt++,7);return ya(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function kn(e,t){return $n=8,kr(function(){return e},t)}function dS(e){var t=ie.context[e.__c],n=pn(Tt++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ie)),t.props.value):e.__}function fS(e,t){he.useDebugValue&&he.useDebugValue(t?t(e):e)}function pS(e){var t=pn(Tt++,10),n=Kt();return t.__=e,ie.componentDidCatch||(ie.componentDidCatch=function(r,s){t.__&&t.__(r,s),n[1](r)}),[n[0],function(){n[1](void 0)}]}function hS(){var e=pn(Tt++,11);if(!e.__){for(var t=ie.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function mS(){for(var e;e=ef.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(gs),e.__H.__h.forEach(Ii),e.__H.__h=[]}catch(t){e.__H.__h=[],he.__e(t,e.__v)}}he.__b=function(e){ie=null,cu&&cu(e)},he.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),pu&&pu(e,t)},he.__r=function(e){uu&&uu(e),Tt=0;var t=(ie=e.__c).__H;t&&(Bo===ie?(t.__h=[],ie.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=ms,n.__N=n.i=void 0})):(t.__h.forEach(gs),t.__h.forEach(Ii),t.__h=[],Tt=0)),Bo=ie},he.diffed=function(e){lu&&lu(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(ef.push(t)!==1&&au===he.requestAnimationFrame||((au=he.requestAnimationFrame)||gS)(mS)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==ms&&(n.__=n.__V),n.i=void 0,n.__V=ms})),Bo=ie=null},he.__c=function(e,t){t.some(function(n){try{n.__h.forEach(gs),n.__h=n.__h.filter(function(r){return!r.__||Ii(r)})}catch(r){t.some(function(s){s.__h&&(s.__h=[])}),t=[],he.__e(r,n.__v)}}),du&&du(e,t)},he.unmount=function(e){fu&&fu(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{gs(r)}catch(s){t=s}}),n.__H=void 0,t&&he.__e(t,n.__v))};var hu=typeof requestAnimationFrame=="function";function gS(e){var t,n=function(){clearTimeout(r),hu&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);hu&&(t=requestAnimationFrame(n))}function gs(e){var t=ie,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ie=t}function Ii(e){var t=ie;e.__c=e.__(),ie=t}function ya(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function rf(e,t){return typeof t=="function"?t(e):t}const _S=Object.defineProperty({__proto__:null,useCallback:kn,useContext:dS,useDebugValue:fS,useEffect:cS,useErrorBoundary:pS,useId:hS,useImperativeHandle:lS,useLayoutEffect:nf,useMemo:kr,useReducer:tf,useRef:uS,useState:Kt},Symbol.toStringTag,{value:"Module"}),yS="http://www.w3.org/2000/svg";function SS(){const e=r=>oe.createElementNS(yS,r),t=ze(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=ze(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function bS({options:e}){const t=kr(()=>({__html:SS().outerHTML}),[]);return X("h2",{class:"dialog__header"},X("span",{class:"dialog__title"},e.formTitle),e.showBranding?X("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function ES(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function Ho(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function vS({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:s,onSubmitSuccess:o,onSubmitError:i,showEmail:a,showName:c,screenshotInput:u}){const{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:p,cancelButtonLabel:f,emailLabel:h,emailPlaceholder:m,isEmailRequired:g,isNameRequired:y,messageLabel:S,messagePlaceholder:M,nameLabel:I,namePlaceholder:R,submitButtonLabel:b,isRequiredLabel:k}=e,[N,E]=Kt(!1),[T,P]=Kt(null),[v,O]=Kt(!1),q=u==null?void 0:u.input,[L,z]=Kt(null),w=kn(V=>{z(V),O(!1)},[]),F=kn(V=>{const ne=ES(V,{emailLabel:h,isEmailRequired:g,isNameRequired:y,messageLabel:S,nameLabel:I});return ne.length>0?P(`Please enter in the following required fields: ${ne.join(", ")}`):P(null),ne.length===0},[h,g,y,S,I]),D=kn(async V=>{E(!0);try{if(V.preventDefault(),!(V.target instanceof HTMLFormElement))return;const ne=new FormData(V.target),ye=await(u&&v?u.value():void 0),xe={name:Ho(ne,"name"),email:Ho(ne,"email"),message:Ho(ne,"message"),attachments:ye?[ye]:void 0};if(!F(xe))return;try{const we=await s({name:xe.name,email:xe.email,message:xe.message,source:jy,tags:d},{attachments:xe.attachments});o(xe,we)}catch(we){fs&&_.error(we),P(we),i(we)}}finally{E(!1)}},[u&&v,o,i]);return X("form",{class:"form",onSubmit:D},q&&v?X(q,{onError:w}):null,X("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:N},X("div",{class:"form__top"},T?X("div",{class:"form__error-container"},T):null,c?X("label",{for:"name",class:"form__label"},X(Uo,{label:I,isRequiredLabel:k,isRequired:y}),X("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:R,required:y,type:"text"})):X("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?X("label",{for:"email",class:"form__label"},X(Uo,{label:h,isRequiredLabel:k,isRequired:g}),X("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:m,required:g,type:"email"})):X("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),X("label",{for:"message",class:"form__label"},X(Uo,{label:S,isRequiredLabel:k,isRequired:!0}),X("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:M,required:!0,rows:5})),q?X("label",{for:"screenshot",class:"form__label"},X("button",{class:"btn btn--default",disabled:N,type:"button",onClick:()=>{z(null),O(V=>!V)}},v?p:l),L?X("div",{class:"form__error-container"},L.message):null):null),X("div",{class:"btn-group"},X("button",{class:"btn btn--primary",disabled:N,type:"submit"},b),X("button",{class:"btn btn--default",disabled:N,type:"button",onClick:r},f))))}function Uo({label:e,isRequired:t,isRequiredLabel:n}){return X("span",{class:"form__label__text"},e,t&&X("span",{class:"form__label__text--required"},n))}const Yr=16,mu=17,wS="http://www.w3.org/2000/svg";function TS(){const e=c=>et.document.createElementNS(wS,c),t=ze(e("svg"),{width:`${Yr}`,height:`${mu}`,viewBox:`0 0 ${Yr} ${mu}`,fill:"inherit"}),n=ze(e("g"),{clipPath:"url(#clip0_57_156)"}),r=ze(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=ze(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const o=e("defs"),i=ze(e("clipPath"),{id:"clip0_57_156"}),a=ze(e("rect"),{width:`${Yr}`,height:`${Yr}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),t}function IS({open:e,onFormSubmitted:t,...n}){const r=n.options,s=kr(()=>({__html:TS().outerHTML}),[]),[o,i]=Kt(null),a=kn(()=>{o&&(clearTimeout(o),i(null)),t()},[o]),c=kn((u,d)=>{n.onSubmitSuccess(u,d),i(setTimeout(()=>{t(),i(null)},Gy))},[t]);return X(Ir,null,o?X("div",{class:"success__position",onClick:a},X("div",{class:"success__content"},r.successMessageText,X("span",{class:"success__icon",dangerouslySetInnerHTML:s}))):X("dialog",{class:"dialog",onClick:r.onFormClose,open:e},X("div",{class:"dialog__position"},X("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},X(bS,{options:r}),X(vS,{...n,onSubmitSuccess:c})))))}const kS=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,CS=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,RS=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,xS=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,MS=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function AS(e){const t=oe.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${kS}
${CS}
${RS}
${xS}
${MS}
`,e&&t.setAttribute("nonce",e),t}function NS(){const e=G().getUser(),t=Ie().getUser(),n=Zs().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}const OS=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const s=r,o=e.useSentryUser,i=NS(),a=oe.createElement("div"),c=AS(e.styleNonce);let u="";const d={get el(){return a},appendToDom(){!s.contains(c)&&!s.contains(a)&&(s.appendChild(c),s.appendChild(a))},removeFromDom(){a.remove(),c.remove(),oe.body.style.overflow=u},open(){var f,h;p(!0),(f=e.onFormOpen)==null||f.call(e),(h=x())==null||h.emit("openFeedbackWidget"),u=oe.body.style.overflow,oe.body.style.overflow="hidden"},close(){p(!1),oe.body.style.overflow=u}},l=t==null?void 0:t.createInput({h:X,hooks:_S,dialog:d,options:e}),p=f=>{aS(X(IS,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:o&&(i==null?void 0:i[o.name])||"",defaultEmail:o&&(i==null?void 0:i[o.email])||"",onFormClose:()=>{var h;p(!1),(h=e.onFormClose)==null||h.call(e)},onSubmit:n,onSubmitSuccess:(h,m)=>{var g;p(!1),(g=e.onSubmitSuccess)==null||g.call(e,h,m)},onSubmitError:h=>{var m;(m=e.onSubmitError)==null||m.call(e,h)},onFormSubmitted:()=>{var h;(h=e.onFormSubmitted)==null||h.call(e)},open:f}),a)};return d}});function LS({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function PS(e){const t=oe.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function DS({h:e}){return function({action:n,setAction:r,options:s}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},s.highlightToolText),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},s.hideToolText)))}}function $S({hooks:e}){function t(){const[n,r]=e.useState(et.devicePixelRatio??1);return e.useEffect(()=>{const s=()=>{r(et.devicePixelRatio)},o=matchMedia(`(resolution: ${et.devicePixelRatio}dppx)`);return o.addEventListener("change",s),()=>{o.removeEventListener("change",s)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:s,onAfterScreenshot:o,onError:i}){const a=t();e.useEffect(()=>{(async()=>{r();const u=await nr.mediaDevices.getDisplayMedia({video:{width:et.innerWidth*a,height:et.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=oe.createElement("video");await new Promise((l,p)=>{d.srcObject=u,d.onloadedmetadata=()=>{s(d,a),u.getTracks().forEach(f=>f.stop()),l()},d.play().catch(p)}),o()})().catch(i)},[])}}function FS(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function Mt(e,t,n){if(!e)return;const r=e.getContext("2d",t);r&&n(e,r)}function Wo(e,t){Mt(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function zo(e,t,n){Mt(e,{alpha:!0},(r,s)=>{n.length&&(s.fillStyle="rgba(0, 0, 0, 0.25)",s.fillRect(0,0,r.width,r.height)),n.forEach(o=>{FS(o,s,t)})})}function BS({h:e,hooks:t,outputBuffer:n,dialog:r,options:s}){const o=$S({hooks:t}),i=DS({h:e}),a=LS({h:e}),c={__html:PS(s.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{const[p,f]=t.useState("highlight"),[h,m]=t.useState([]),g=t.useRef(null),y=t.useRef(null),S=t.useRef(null),M=t.useRef(null),[I,R]=t.useState(1),b=t.useMemo(()=>{const v=oe.getElementById(s.id);if(!v)return"white";const O=getComputedStyle(v);return O.getPropertyValue("--button-primary-background")||O.getPropertyValue("--accent-background")},[s.id]);t.useLayoutEffect(()=>{const v=()=>{const O=g.current;O&&(Mt(l.canvas,{alpha:!1},q=>{const L=Math.min(O.clientWidth/q.width,O.clientHeight/q.height);R(L)}),(O.clientHeight===0||O.clientWidth===0)&&setTimeout(v,0))};return v(),et.addEventListener("resize",v),()=>{et.removeEventListener("resize",v)}},[l]);const k=t.useCallback((v,O)=>{Mt(v,{alpha:!0},(q,L)=>{L.scale(O,O),q.width=l.canvas.width,q.height=l.canvas.height})},[l]);t.useEffect(()=>{k(y.current,l.dpi),Wo(y.current,l.canvas)},[l]),t.useEffect(()=>{k(S.current,l.dpi),Mt(S.current,{alpha:!0},(v,O)=>{O.clearRect(0,0,v.width,v.height)}),zo(S.current,b,h)},[h,b]),t.useEffect(()=>{k(n,l.dpi),Wo(n,l.canvas),Mt(oe.createElement("canvas"),{alpha:!0},(v,O)=>{O.scale(l.dpi,l.dpi),v.width=l.canvas.width,v.height=l.canvas.height,zo(v,b,h),Wo(n,v)})},[h,l,b]);const N=v=>{if(!p||!M.current)return;const O=M.current.getBoundingClientRect(),q={type:p,x:v.offsetX/I,y:v.offsetY/I},L=(F,D)=>{const V=(D.clientX-O.x)/I,ne=(D.clientY-O.y)/I;return{type:F.type,x:Math.min(F.x,V),y:Math.min(F.y,ne),w:Math.abs(V-F.x),h:Math.abs(ne-F.y)}},z=F=>{Mt(S.current,{alpha:!0},(D,V)=>{V.clearRect(0,0,D.width,D.height)}),zo(S.current,b,[...h,L(q,F)])},w=F=>{const D=L(q,F);D.w*I>=1&&D.h*I>=1&&m(V=>[...V,D]),oe.removeEventListener("mousemove",z),oe.removeEventListener("mouseup",w)};oe.addEventListener("mousemove",z),oe.addEventListener("mouseup",w)},E=t.useCallback(v=>O=>{O.preventDefault(),O.stopPropagation(),m(q=>{const L=[...q];return L.splice(v,1),L})},[]),T={width:`${l.canvas.width*I}px`,height:`${l.canvas.height*I}px`},P=v=>{v.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:s.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:g},e("canvas",{ref:y,id:"background",style:T}),e("canvas",{ref:S,id:"foreground",style:T}),e("div",{ref:M,onMouseDown:N,style:T},h.map((v,O)=>e("div",{key:O,class:"editor__rect",style:{top:`${v.y*I}px`,left:`${v.x*I}px`,width:`${v.w*I}px`,height:`${v.h*I}px`}},e("button",{"aria-label":s.removeHighlightText,onClick:E(O),onMouseDown:P,onMouseUp:P,type:"button"},e(a,null))))))),e(i,{options:s,action:p,setAction:f}))};return function({onError:p}){const[f,h]=t.useState();return o({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((m,g)=>{Mt(oe.createElement("canvas"),{alpha:!1},(y,S)=>{S.scale(g,g),y.width=m.videoWidth,y.height=m.videoHeight,S.drawImage(m,0,0,y.width,y.height),h({canvas:y,dpi:g})}),n.width=m.videoWidth,n.height=m.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(m=>{u.display="block",p(m)},[])}),f?e(d,{screenshot:f}):e("div",null)}}const HS=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const s=oe.createElement("canvas");return{input:BS({h:e,hooks:t,outputBuffer:s,dialog:n,options:r}),value:async()=>{const o=await new Promise(i=>{s.toBlob(i,"image/png")});if(o)return{data:new Uint8Array(await o.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}),A=W;let ki=0;function sf(){return ki>0}function US(){ki++,setTimeout(()=>{ki--})}function Fn(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(Xi(e))return e}catch{return e}const r=function(...s){try{const o=s.map(i=>Fn(i,t));return e.apply(this,o)}catch(o){throw US(),je(i=>{i.addEventProcessor(a=>(t.mechanism&&(ai(a,void 0),bt(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),on(o)}),o}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}Fl(r,e),Re(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Sa(){const e=un(),{referrer:t}=A.document||{},{userAgent:n}=A.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}const WS={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},gu=A;async function zS(e,t){const n=WS[e],r=gu.Sentry=gu.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const s=r[e];if(typeof s=="function"&&!("_isShim"in s))return s;const o=jS(n),i=A.document.createElement("script");i.src=o,i.crossOrigin="anonymous",i.referrerPolicy="strict-origin",t&&i.setAttribute("nonce",t);const a=new Promise((l,p)=>{i.addEventListener("load",()=>l()),i.addEventListener("error",p)}),c=A.document.currentScript,u=A.document.body||A.document.head||(c==null?void 0:c.parentElement);if(u)u.appendChild(i);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}const d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function jS(e){var r;const t=x(),n=((r=t==null?void 0:t.getOptions())==null?void 0:r.cdnBaseUrl)||"https://browser.sentry-cdn.com";return new URL(`/${Lt}/${e}.min.js`,n).toString()}const sC=Vd({lazyLoadIntegration:zS}),oC=Vd({getModalIntegration:()=>OS,getScreenshotIntegration:()=>HS});function Xn(e,t,n,r){_i({level:e,message:t,attributes:n,severityNumber:r})}function qS(e,t){Xn("trace",e,t)}function GS(e,t){Xn("debug",e,t)}function VS(e,t){Xn("info",e,t)}function YS(e,t){Xn("warn",e,t)}function XS(e,t){Xn("error",e,t)}function KS(e,t){Xn("fatal",e,t)}const iC=Object.freeze(Object.defineProperty({__proto__:null,debug:GS,error:XS,fatal:KS,fmt:Gg,info:VS,trace:qS,warn:YS},Symbol.toStringTag,{value:"Module"}));function ba(e,t){const n=Ea(e,t),r={type:tb(t),value:nb(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function JS(e,t,n,r){const s=x(),o=s==null?void 0:s.getOptions().normalizeDepth,i=ab(t),a={__serialized__:cd(t,o)};if(i)return{exception:{values:[ba(e,i)]},extra:a};const c={exception:{values:[{type:Js(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:ob(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=Ea(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function jo(e,t){return{exception:{values:[ba(e,t)]}}}function Ea(e,t){const n=t.stacktrace||t.stack||"",r=QS(t),s=eb(t);try{return e(n,r,s)}catch{}return[]}const ZS=/Minified React error #\d+;/i;function QS(e){return e&&ZS.test(e.message)?1:0}function eb(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function of(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function tb(e){const t=e==null?void 0:e.name;return!t&&of(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function nb(e){const t=e==null?void 0:e.message;return of(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function rb(e,t,n,r){const s=(n==null?void 0:n.syntheticException)||void 0,o=va(e,t,s,r);return bt(o),o.level="error",n!=null&&n.event_id&&(o.event_id=n.event_id),wt(o)}function sb(e,t,n="info",r,s){const o=(r==null?void 0:r.syntheticException)||void 0,i=Ci(e,t,o,s);return i.level=n,r!=null&&r.event_id&&(i.event_id=r.event_id),wt(i)}function va(e,t,n,r,s){let o;if(Ll(t)&&t.error)return jo(e,t.error);if(lc(t)||Sh(t)){const i=t;if("stack"in t)o=jo(e,t);else{const a=i.name||(lc(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;o=Ci(e,c,n,r),ai(o,c)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return mt(t)?jo(e,t):yt(t)||Js(t)?(o=JS(e,t,n,s),bt(o,{synthetic:!0}),o):(o=Ci(e,t,n,r),ai(o,`${t}`),bt(o,{synthetic:!0}),o)}function Ci(e,t,n,r){const s={};if(r&&n){const o=Ea(e,n);o.length&&(s.exception={values:[{value:t,stacktrace:{frames:o}}]}),bt(s,{synthetic:!0})}if(Ks(t)){const{__sentry_template_string__:o,__sentry_template_values__:i}=t;return s.logentry={message:o,params:i},s}return s.message=t,s}function ob(e,{isUnhandledRejection:t}){const n=Ih(e),r=t?"promise rejection":"exception";return Ll(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Js(e)?`Event \`${ib(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function ib(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function ab(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}const cb=5e3;class ub extends Sg{constructor(t){var a;const n=lb(t),r=A.SENTRY_SDK_SOURCE||Ty();Od(n,"browser",["browser"],r),(a=n._metadata)!=null&&a.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:o,enableLogs:i}=this._options;A.document&&(o||i)&&A.document.addEventListener("visibilitychange",()=>{A.document.visibilityState==="hidden"&&(o&&this._flushOutcomes(),i&&ds(this))}),i&&(this.on("flush",()=>{ds(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{ds(this)},cb)})),s&&this.on("beforeSendSession",Vg)}eventFromException(t,n){return rb(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return sb(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function lb(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=A.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const Bn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,U=W,db=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Cr=(e,t,n,r)=>{let s,o;return i=>{t.value>=0&&(i||r)&&(o=t.value-(s??0),(o||s===void 0)&&(s=t.value,t.delta=o,t.rating=db(t.value,n),e(t)))}},fb=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Rr=(e=!0)=>{var n,r;const t=(r=(n=U.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Kn=()=>{const e=Rr();return(e==null?void 0:e.activationStart)??0},xr=(e,t=-1)=>{var o,i;const n=Rr();let r="navigate";return n&&((o=U.document)!=null&&o.prerendering||Kn()>0?r="prerender":(i=U.document)!=null&&i.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:fb(),navigationType:r}},qo=new WeakMap;function wa(e,t){return qo.get(e)||qo.set(e,new t),qo.get(e)}class Ds{constructor(){Ds.prototype.__init.call(this),Ds.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var s;if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(s=this._onAfterProcessingUnexpectedShift)==null||s.call(this,t)}}const Jn=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Ta=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let rr=-1;const pb=()=>{var e,t;return((e=U.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=U.document)!=null&&t.prerendering)?0:1/0},$s=e=>{U.document.visibilityState==="hidden"&&rr>-1&&(rr=e.type==="visibilitychange"?e.timeStamp:0,mb())},hb=()=>{addEventListener("visibilitychange",$s,!0),addEventListener("prerenderingchange",$s,!0)},mb=()=>{removeEventListener("visibilitychange",$s,!0),removeEventListener("prerenderingchange",$s,!0)},Ia=()=>{var e;if(U.document&&rr<0){const t=Kn();rr=(U.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0])==null?void 0:e.startTime)??pb(),hb()}return{get firstHiddenTime(){return rr}}},oo=e=>{var t;(t=U.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},gb=[1800,3e3],_b=(e,t={})=>{oo(()=>{const n=Ia(),r=xr("FCP");let s;const i=Jn("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(i.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Kn(),0),r.entries.push(c),s(!0)))});i&&(s=Cr(e,r,gb,t.reportAllChanges))})},yb=[.1,.25],Sb=(e,t={})=>{_b(Ta(()=>{var a,c;const n=xr("CLS",0);let r;const s=wa(t,Ds),o=u=>{for(const d of u)s._processEntry(d);s._sessionValue>n.value&&(n.value=s._sessionValue,n.entries=s._sessionEntries,r())},i=Jn("layout-shift",o);i&&(r=Cr(e,n,yb,t.reportAllChanges),(a=U.document)==null||a.addEventListener("visibilitychange",()=>{var u;((u=U.document)==null?void 0:u.visibilityState)==="hidden"&&(o(i.takeRecords()),r(!0))}),(c=U==null?void 0:U.setTimeout)==null||c.call(U,r))}))};let af=0,Go=1/0,Xr=0;const bb=e=>{e.forEach(t=>{t.interactionId&&(Go=Math.min(Go,t.interactionId),Xr=Math.max(Xr,t.interactionId),af=Xr?(Xr-Go)/7+1:0)})};let Ri;const cf=()=>Ri?af:performance.interactionCount||0,Eb=()=>{"interactionCount"in performance||Ri||(Ri=Jn("event",bb,{type:"event",buffered:!0,durationThreshold:0}))},Vo=10;let uf=0;const vb=()=>cf()-uf;class Fs{constructor(){Fs.prototype.__init.call(this),Fs.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){uf=cf(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(vb()/50));return this._longestInteractionList[t]}_processEntry(t){var s,o;if((s=this._onBeforeProcessingEntry)==null||s.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Vo||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((i,a)=>a._latency-i._latency),this._longestInteractionList.length>Vo){const i=this._longestInteractionList.splice(Vo);for(const a of i)this._longestInteractionMap.delete(a.id)}(o=this._onAfterProcessingINPCandidate)==null||o.call(this,r)}}}const ka=e=>{const t=n=>{var r;(n.type==="pagehide"||((r=U.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};U.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},lf=e=>{var n;const t=U.requestIdleCallback||U.setTimeout;((n=U.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=Ta(e),t(e),ka(e))},wb=[200,500],Tb=40,Ib=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&oo(()=>{Eb();const n=xr("INP");let r;const s=wa(t,Fs),o=a=>{lf(()=>{for(const u of a)s._processEntry(u);const c=s._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},i=Jn("event",o,{durationThreshold:t.durationThreshold??Tb});r=Cr(e,n,wb,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),ka(()=>{o(i.takeRecords()),r(!0)}))})};class kb{_processEntry(t){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,t)}}const Cb=[2500,4e3],Rb=(e,t={})=>{oo(()=>{const n=Ia(),r=xr("LCP");let s;const o=wa(t,kb),i=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)o._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-Kn(),0),r.entries=[u],s())},a=Jn("largest-contentful-paint",i);if(a){s=Cr(e,r,Cb,t.reportAllChanges);const c=Ta(()=>{i(a.takeRecords()),a.disconnect(),s(!0)});for(const u of["keydown","click","visibilitychange"])U.document&&addEventListener(u,()=>lf(c),{capture:!0,once:!0})}})},xb=[800,1800],xi=e=>{var t,n;(t=U.document)!=null&&t.prerendering?oo(()=>xi(e)):((n=U.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>xi(e),!0):setTimeout(e)},Mb=(e,t={})=>{const n=xr("TTFB"),r=Cr(e,n,xb,t.reportAllChanges);xi(()=>{const s=Rr();s&&(n.value=Math.max(s.responseStart-Kn(),0),n.entries=[s],r(!0))})},sr={},Bs={};let df,ff,pf,hf;function Ca(e,t=!1){return io("cls",e,Nb,df,t)}function Ra(e,t=!1){return io("lcp",e,Ob,ff,t)}function Ab(e){return io("ttfb",e,Lb,pf)}function mf(e){return io("inp",e,Pb,hf)}function an(e,t){return gf(e,t),Bs[e]||(Db(e),Bs[e]=!0),_f(e,t)}function Mr(e,t){const n=sr[e];if(n!=null&&n.length)for(const r of n)try{r(t)}catch(s){Bn&&_.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${_t(r)}
Error:`,s)}}function Nb(){return Sb(e=>{Mr("cls",{metric:e}),df=e},{reportAllChanges:!0})}function Ob(){return Rb(e=>{Mr("lcp",{metric:e}),ff=e},{reportAllChanges:!0})}function Lb(){return Mb(e=>{Mr("ttfb",{metric:e}),pf=e})}function Pb(){return Ib(e=>{Mr("inp",{metric:e}),hf=e})}function io(e,t,n,r,s=!1){gf(e,t);let o;return Bs[e]||(o=n(),Bs[e]=!0),r&&t({metric:r}),_f(e,t,s?o:void 0)}function Db(e){const t={};e==="event"&&(t.durationThreshold=0),Jn(e,n=>{Mr(e,{entries:n})},t)}function gf(e,t){sr[e]=sr[e]||[],sr[e].push(t)}function _f(e,t,n){return()=>{n&&n();const r=sr[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function $b(e){return"duration"in e}function Yo(e){return typeof e=="number"&&isFinite(e)}function Ut(e,t,n,{...r}){const s=$(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Nn(e,()=>{const o=rt({startTime:t,...r});return o&&o.end(n),o})}function xa(e){var g;const t=x();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:o}=e,{release:i,environment:a,sendDefaultPii:c}=t.getOptions(),u=t.getIntegrationByName("Replay"),d=u==null?void 0:u.getReplayId(),l=G(),p=l.getUser(),f=p!==void 0?p.email||p.id||p.ip_address:void 0;let h;try{h=l.getScopeData().contexts.profile.profile_id}catch{}const m={release:i,environment:a,user:f||void 0,profile_id:h||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":(g=U.navigator)==null?void 0:g.userAgent,"client.address":c?"{{auto}}":void 0,...s};return rt({name:n,attributes:m,startTime:o,experimental:{standalone:!0}})}function ao(){return U.addEventListener&&U.performance}function _e(e){return e/1e3}function yf(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function Sf(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function bf(e,t){let n,r=!1;function s(a){!r&&n&&t(a,n),r=!0}ka(()=>{s("pagehide")});const o=e.on("beforeStartNavigationSpan",(a,c)=>{c!=null&&c.isRedirect||(s("navigation"),_u(o,i))}),i=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,_u(i)})}function _u(...e){e.forEach(t=>t&&setTimeout(t,0))}function Fb(e){let t=0,n;if(!Sf("layout-shift"))return;const r=Ca(({metric:s})=>{const o=s.entries[s.entries.length-1];o&&(t=s.value,n=o)},!0);bf(e,(s,o)=>{Bb(t,n,o,s),r()})}function Bb(e,t,n,r){var u;Bn&&_.log(`Sending CLS span (${e})`);const s=_e(($e()||0)+((t==null?void 0:t.startTime)||0)),o=G().getScopeData().transactionName,i=t?Ke((u=t.sources[0])==null?void 0:u.node):"Layout shift",a={[Q]:"auto.http.browser.cls",[ve]:"ui.webvital.cls",[Yn]:(t==null?void 0:t.duration)||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t!=null&&t.sources&&t.sources.forEach((d,l)=>{a[`cls.source.${l+1}`]=Ke(d.node)});const c=xa({name:i,transaction:o,attributes:a,startTime:s});c&&(c.addEvent("cls",{[Er]:"",[vr]:e}),c.end(s))}function Hb(e){let t=0,n;if(!Sf("largest-contentful-paint"))return;const r=Ra(({metric:s})=>{const o=s.entries[s.entries.length-1];o&&(t=s.value,n=o)},!0);bf(e,(s,o)=>{Ub(t,n,o,s),r()})}function Ub(e,t,n,r){Bn&&_.log(`Sending LCP span (${e})`);const s=_e(($e()||0)+((t==null?void 0:t.startTime)||0)),o=G().getScopeData().transactionName,i=t?Ke(t.element):"Largest contentful paint",a={[Q]:"auto.http.browser.lcp",[ve]:"ui.webvital.lcp",[Yn]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=Ke(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url.trim().slice(0,200)),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=xa({name:i,transaction:o,attributes:a,startTime:s});c&&(c.addEvent("lcp",{[Er]:"millisecond",[vr]:e}),c.end(s))}const Wb=2147483647;let yu=0,Qe={},He,Sn;function zb({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=ao();if(r&&$e()){r.mark&&U.performance.mark("sentry-tracing-init");const s=t?Hb(n):Yb(),o=Xb(),i=e?Fb(n):Vb();return()=>{s==null||s(),o(),i==null||i()}}return()=>{}}function jb(){an("longtask",({entries:e})=>{const t=Se();if(!t)return;const{op:n,start_timestamp:r}=$(t);for(const s of e){const o=_e($e()+s.startTime),i=_e(s.duration);n==="navigation"&&r&&o<r||Ut(t,o,o+i,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Q]:"auto.ui.browser.metrics"}})}})}function qb(){new PerformanceObserver(t=>{const n=Se();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=_e($e()+r.startTime),{start_timestamp:o,op:i}=$(n);if(i==="navigation"&&o&&s<o)continue;const a=_e(r.duration),c={[Q]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:p,sourceFunctionName:f,sourceCharPosition:h}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,p&&(c["code.filepath"]=p),f&&(c["code.function"]=f),h!==-1&&(c["browser.script.source_char_position"]=h),Ut(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function Gb(){an("event",({entries:e})=>{const t=Se();if(t){for(const n of e)if(n.name==="click"){const r=_e($e()+n.startTime),s=_e(n.duration),o={name:Ke(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Q]:"auto.ui.browser.metrics"}},i=$l(n.target);i&&(o.attributes["ui.component_name"]=i),Ut(t,r,r+s,o)}}})}function Vb(){return Ca(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Qe.cls={value:e.value,unit:""},Sn=t)},!0)}function Yb(){return Ra(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Qe.lcp={value:e.value,unit:"millisecond"},He=t)},!0)}function Xb(){return Ab(({metric:e})=>{e.entries[e.entries.length-1]&&(Qe.ttfb={value:e.value,unit:"millisecond"})})}function Kb(e,t){const n=ao(),r=$e();if(!(n!=null&&n.getEntries)||!r)return;const s=_e(r),o=n.getEntries(),{op:i,start_timestamp:a}=$(e);o.slice(yu).forEach(c=>{const u=_e(c.startTime),d=_e(Math.max(0,c.duration));if(!(i==="navigation"&&a&&s+u<a))switch(c.entryType){case"navigation":{Qb(e,c,s);break}case"mark":case"paint":case"measure":{Jb(e,c,u,d,s,t.ignorePerformanceApiSpans);const l=Ia(),p=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&p&&(Qe.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&p&&(Qe.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{nE(e,c,c.name,u,d,s,t.ignoreResourceSpans);break}}}),yu=Math.max(o.length-1,0),rE(e),i==="pageload"&&(oE(Qe),t.recordClsOnPageloadSpan||delete Qe.cls,t.recordLcpOnPageloadSpan||delete Qe.lcp,Object.entries(Qe).forEach(([c,u])=>{Mm(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",Kn()),sE(e,t)),He=void 0,Sn=void 0,Qe={}}function Jb(e,t,n,r,s,o){if(["mark","measure"].includes(t.entryType)&&nt(t.name,o))return;const i=Rr(!1),a=_e(i?i.requestStart:0),c=s+Math.max(n,a),u=s+n,d=u+r,l={[Q]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),Zb(l,t),c<=d&&Ut(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function Zb(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&Rn(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(Rn(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function Qb(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Kr(e,t,r,n)}),Kr(e,t,"secureConnection",n,"TLS/SSL"),Kr(e,t,"fetch",n,"cache"),Kr(e,t,"domainLookup",n,"DNS"),tE(e,t,n)}function Kr(e,t,n,r,s=n){const o=eE(n),i=t[o],a=t[`${n}Start`];!a||!i||Ut(e,r+_e(a),r+_e(i),{op:`browser.${s}`,name:t.name,attributes:{[Q]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function eE(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function tE(e,t,n){const r=n+_e(t.requestStart),s=n+_e(t.responseEnd),o=n+_e(t.responseStart);t.responseEnd&&(Ut(e,r,s,{op:"browser.request",name:t.name,attributes:{[Q]:"auto.ui.browser.metrics"}}),Ut(e,o,s,{op:"browser.response",name:t.name,attributes:{[Q]:"auto.ui.browser.metrics"}}))}function nE(e,t,n,r,s,o,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(i!=null&&i.includes(a))return;const c=tn(n),u={[Q]:"auto.resource.browser.metrics"};Xo(u,t,"transferSize","http.response_transfer_size"),Xo(u,t,"encodedBodySize","http.response_content_length"),Xo(u,t,"decodedBodySize","http.decoded_response_content_length");const d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);const l=t.renderBlockingStatus;if(l&&(u["resource.render_blocking_status"]=l),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(U.location.origin),t.nextHopProtocol!=null){const{name:h,version:m}=yf(t.nextHopProtocol);u["network.protocol.name"]=h,u["network.protocol.version"]=m}const p=o+r,f=p+s;Ut(e,p,f,{name:n.replace(U.location.origin,""),op:a,attributes:u})}function rE(e){const t=U.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Yo(n.rtt)&&(Qe["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Yo(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Yo(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function sE(e,t){He&&t.recordLcpOnPageloadSpan&&(He.element&&e.setAttribute("lcp.element",Ke(He.element)),He.id&&e.setAttribute("lcp.id",He.id),He.url&&e.setAttribute("lcp.url",He.url.trim().slice(0,200)),He.loadTime!=null&&e.setAttribute("lcp.loadTime",He.loadTime),He.renderTime!=null&&e.setAttribute("lcp.renderTime",He.renderTime),e.setAttribute("lcp.size",He.size)),Sn!=null&&Sn.sources&&t.recordClsOnPageloadSpan&&Sn.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Ke(n.node)))}function Xo(e,t,n,r){const s=t[n];s!=null&&s<Wb&&(e[r]=s)}function oE(e){const t=Rr(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function iE(){return ao()&&$e()?an("element",aE):()=>{}}const aE=({entries:e})=>{const t=Se(),n=t?Ee(t):void 0,r=n?$(n).description:G().getScopeData().transactionName;e.forEach(s=>{var f,h;const o=s;if(!o.identifier)return;const i=o.name,a=o.renderTime,c=o.loadTime,[u,d]=c?[_e(c),"load-time"]:a?[_e(a),"render-time"]:[pe(),"entry-emission"],l=i==="image-paint"?_e(Math.max(0,(a??0)-(c??0))):0,p={[Q]:"auto.ui.browser.elementtiming",[ve]:"ui.elementtiming",[fe]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":o.id,"element.type":((h=(f=o.element)==null?void 0:f.tagName)==null?void 0:h.toLowerCase())||"unknown","element.size":o.naturalWidth&&o.naturalHeight?`${o.naturalWidth}x${o.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":o.url||void 0,"element.identifier":o.identifier,"element.paint_type":i};sa({name:`element[${o.identifier}]`,attributes:p,startTime:u,onlyIfParent:!0},m=>{m.end(u+l)})})},cE=1e3;let Su,Mi,Ai;function Ef(e){const t="dom";zt(t,e),jt(t,uE)}function uE(){if(!U.document)return;const e=Xe.bind(null,"dom"),t=bu(e,!0);U.document.addEventListener("click",t,!1),U.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var o,i;const s=(o=U[n])==null?void 0:o.prototype;(i=s==null?void 0:s.hasOwnProperty)!=null&&i.call(s,"addEventListener")&&(Pe(s,"addEventListener",function(a){return function(c,u,d){if(c==="click"||c=="keypress")try{const l=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},p=l[c]=l[c]||{refCount:0};if(!p.handler){const f=bu(e);p.handler=f,a.call(this,c,f,d)}p.refCount++}catch{}return a.call(this,c,u,d)}}),Pe(s,"removeEventListener",function(a){return function(c,u,d){if(c==="click"||c=="keypress")try{const l=this.__sentry_instrumentation_handlers__||{},p=l[c];p&&(p.refCount--,p.refCount<=0&&(a.call(this,c,p.handler,d),p.handler=void 0,delete l[c]),Object.keys(l).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,c,u,d)}}))})}function lE(e){if(e.type!==Mi)return!1;try{if(!e.target||e.target._sentryId!==Ai)return!1}catch{}return!0}function dE(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function bu(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=fE(n);if(dE(n.type,r))return;Re(n,"_sentryCaptured",!0),r&&!r._sentryId&&Re(r,"_sentryId",De());const s=n.type==="keypress"?"input":n.type;lE(n)||(e({event:n,name:s,global:t}),Mi=n.type,Ai=r?r._sentryId:void 0),clearTimeout(Su),Su=U.setTimeout(()=>{Ai=void 0,Mi=void 0},cE)}}function fE(e){try{return e.target}catch{return null}}let Jr;function co(e){const t="history";zt(t,e),jt(t,pE)}function pE(){if(U.addEventListener("popstate",()=>{const t=U.location.href,n=Jr;if(Jr=t,n===t)return;Xe("history",{from:n,to:t})}),!my())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=Jr,o=hE(String(r));if(Jr=o,s===o)return t.apply(this,n);Xe("history",{from:s,to:o})}return t.apply(this,n)}}Pe(U.history,"pushState",e),Pe(U.history,"replaceState",e)}function hE(e){try{return new URL(e,U.location.origin).toString()}catch{return e}}const _s={};function Ma(e){const t=_s[e];if(t)return t;let n=U[e];if(Si(n))return _s[e]=n.bind(U);const r=U.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const o=s.contentWindow;o!=null&&o[e]&&(n=o[e]),r.head.removeChild(s)}catch(s){Bn&&_.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(_s[e]=n.bind(U))}function Eu(e){_s[e]=void 0}function Ar(...e){return Ma("setTimeout")(...e)}const ht="__sentry_xhr_v3__";function Aa(e){const t="xhr";zt(t,e),jt(t,mE)}function mE(){if(!U.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,o=pe()*1e3,i=tt(r[0])?r[0].toUpperCase():void 0,a=gE(r[1]);if(!i||!a)return t.apply(n,r);n[ht]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[ht];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:pe()*1e3,startTimestamp:o,xhr:n,virtualError:s};Xe("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[p,f]=l,h=d[ht];return h&&tt(p)&&tt(f)&&(h.request_headers[p.toLowerCase()]=f),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[ht];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const o={startTimestamp:pe()*1e3,xhr:n};return Xe("xhr",o),t.apply(n,r)}})}function gE(e){if(tt(e))return e;try{return e.toString()}catch{}}function vf(e){return new URLSearchParams(e).toString()}function Hs(e,t=_){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[vf(e)];if(!e)return[void 0]}catch(n){return Bn&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Bn&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Na(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}const Ko=[],ys=new Map,_E=60;function yE(){if(ao()&&$e()){const t=SE();return()=>{t()}}return()=>{}}const vu={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function SE(){return mf(bE)}const bE=({metric:e})=>{if(e.value==null)return;const t=_e(e.value);if(t>_E)return;const n=e.entries.find(h=>h.duration===e.value&&vu[h.name]);if(!n)return;const{interactionId:r}=n,s=vu[n.name],o=_e($e()+n.startTime),i=Se(),a=i?Ee(i):void 0,u=(r!=null?ys.get(r):void 0)||a,d=u?$(u).description:G().getScopeData().transactionName,l=Ke(n.target),p={[Q]:"auto.http.browser.inp",[ve]:`ui.interaction.${s}`,[Yn]:n.duration},f=xa({name:l,transaction:d,attributes:p,startTime:o});f&&(f.addEvent("inp",{[Er]:"millisecond",[vr]:e.value}),f.end(o+t))};function EE(){const e=({entries:t})=>{const n=Se(),r=n&&Ee(n);t.forEach(s=>{if(!$b(s)||!r)return;const o=s.interactionId;if(o!=null&&!ys.has(o)){if(Ko.length>10){const i=Ko.shift();ys.delete(i)}Ko.push(o),ys.set(o,r)}})};an("event",e),an("first-input",e)}function wf(e,t=Ma("fetch")){let n=0,r=0;function s(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Eu("fetch"),Ns("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=i,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Eu("fetch"),n-=i,r--,Ns(c)}}return Dg(e,s)}const vE=10,wE=20,TE=30,IE=40,kE=50;function Hn(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?ct:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const CE=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,RE=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,xE=/\((\S*)(?::(\d+))(?::(\d+))\)/,ME=/at (.+?) ?\(data:(.+?),/,AE=e=>{const t=e.match(ME);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=CE.exec(e);if(n){const[,s,o,i]=n;return Hn(s,ct,+o,+i)}const r=RE.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=xE.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[o,i]=Tf(r[1]||ct,r[2]);return Hn(i,o,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},NE=[TE,AE],OE=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,LE=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,PE=e=>{const t=OE.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=LE.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],s=t[1]||ct;return[s,r]=Tf(s,r),Hn(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},DE=[kE,PE],$E=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,FE=e=>{const t=$E.exec(e);return t?Hn(t[2],t[1]||ct,+t[3],t[4]?+t[4]:void 0):void 0},aC=[IE,FE],BE=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,HE=e=>{const t=BE.exec(e);return t?Hn(t[2],t[3]||ct,+t[1]):void 0},cC=[vE,HE],UE=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,WE=e=>{const t=UE.exec(e);return t?Hn(t[5],t[3]||t[4]||ct,+t[1],+t[2]):void 0},uC=[wE,WE],zE=[NE,DE],jE=Ml(...zE),Tf=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:ct,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function lC(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...(t==null?void 0:t.sdk)&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:dn(r)}},o=qE(e);return kt(s,[o])}function qE(e){return[{type:"user_report"},e]}const K=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Zr=1024,GE="Breadcrumbs",VE=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:GE,setup(n){t.console&&da(JE(n)),t.dom&&Ef(KE(n,t.dom)),t.xhr&&Aa(ZE(n)),t.fetch&&pa(QE(n)),t.history&&co(ev(n)),t.sentry&&n.on("beforeSendEvent",XE(n))}}},YE=VE;function XE(e){return function(n){x()===e&&lt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Yt(n)},{event:n})}}function KE(e,t){return function(r){if(x()!==e)return;let s,o,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Zr&&(K&&_.warn(`\`dom.maxStringLength\` cannot exceed ${Zr}, but a value of ${a} was configured. Sentry will use ${Zr} instead.`),a=Zr),typeof i=="string"&&(i=[i]);try{const u=r.event,d=tv(u)?u.target:u;s=Ke(d,{keyAttrs:i,maxStringLength:a}),o=$l(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};o&&(c.data={"ui.component_name":o}),lt(c,{event:r.event,name:r.name,global:r.global})}}function JE(e){return function(n){if(x()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:fa(n.level),message:Is(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Is(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;lt(r,{input:n.args,level:n.level})}}function ZE(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,o=n.xhr[ht];if(!r||!s||!o)return;const{method:i,url:a,status_code:c,body:u}=o,d={method:i,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},p={category:"xhr",data:d,type:"http",level:Wd(c)};e.emit("beforeOutgoingRequestBreadcrumb",p,l),lt(p,l)}}function QE(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const o=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:o,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,i),lt(a,i)}else{const o=n.response,i={...n.fetchData,status_code:o==null?void 0:o.status};n.fetchData.request_body_size,n.fetchData.response_body_size,o==null||o.status;const a={input:n.args,response:o,startTimestamp:r,endTimestamp:s},c={category:"fetch",data:i,type:"http",level:Wd(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),lt(c,a)}}}function ev(e){return function(n){if(x()!==e)return;let r=n.from,s=n.to;const o=tn(A.location.href);let i=r?tn(r):void 0;const a=tn(s);i!=null&&i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(s=a.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),lt({category:"navigation",data:{from:r,to:s}})}}function tv(e){return!!e&&!!e.target}const nv=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],rv="BrowserApiErrors",sv=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:rv,setupOnce(){t.setTimeout&&Pe(A,"setTimeout",wu),t.setInterval&&Pe(A,"setInterval",wu),t.requestAnimationFrame&&Pe(A,"requestAnimationFrame",iv),t.XMLHttpRequest&&"XMLHttpRequest"in A&&Pe(XMLHttpRequest.prototype,"send",av);const n=t.eventTarget;n&&(Array.isArray(n)?n:nv).forEach(s=>cv(s,t))}}},ov=sv;function wu(e){return function(...t){const n=t[0];return t[0]=Fn(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${_t(e)}`}}),e.apply(this,t)}}function iv(e){return function(t){return e.apply(this,[Fn(t,{mechanism:{data:{handler:_t(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function av(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Pe(n,s,function(o){const i={mechanism:{data:{handler:_t(o)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},a=Xi(o);return a&&(i.mechanism.data.handler=_t(a)),Fn(o,i)})}),e.apply(this,t)}}function cv(e,t){var s,o;const r=(s=A[e])==null?void 0:s.prototype;(o=r==null?void 0:r.hasOwnProperty)!=null&&o.call(r,"addEventListener")&&(Pe(r,"addEventListener",function(i){return function(a,c,u){try{uv(c)&&(c.handleEvent=Fn(c.handleEvent,{mechanism:{data:{handler:_t(c),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&lv(this,a,c),i.apply(this,[a,Fn(c,{mechanism:{data:{handler:_t(c),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),u])}}),Pe(r,"removeEventListener",function(i){return function(a,c,u){try{const d=c.__sentry_wrapped__;d&&i.call(this,a,d,u)}catch{}return i.call(this,a,c,u)}}))}function uv(e){return typeof e.handleEvent=="function"}function lv(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const dv=()=>({name:"BrowserSession",setupOnce(){if(typeof A.document>"u"){K&&_.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Mc({ignoreDuration:!0}),Ac(),co(({from:e,to:t})=>{e!==void 0&&e!==t&&(Mc({ignoreDuration:!0}),Ac())})}}),fv="GlobalHandlers",pv=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:fv,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(mv(n),Tu("onerror")),t.onunhandledrejection&&(gv(n),Tu("onunhandledrejection"))}}},hv=pv;function mv(e){Al(t=>{const{stackParser:n,attachStacktrace:r}=If();if(x()!==e||sf())return;const{msg:s,url:o,line:i,column:a,error:c}=t,u=Sv(va(n,c||s,void 0,r,!1),o,i,a);u.level="error",to(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function gv(e){Nl(t=>{const{stackParser:n,attachStacktrace:r}=If();if(x()!==e||sf())return;const s=_v(t),o=Rn(s)?yv(s):va(n,s,void 0,r,!0);o.level="error",to(o,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function _v(e){if(Rn(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function yv(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Sv(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=bv(t)??un();return c.length===0&&c.push({colno:u,filename:l,function:ct,in_app:!0,lineno:d}),e}function Tu(e){K&&_.log(`Global Handler attached: ${e}`)}function If(){const e=x();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function bv(e){if(!(!tt(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e.slice(0,1024)}}const Ev=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!A.navigator&&!A.location&&!A.document)return;const t=Sa(),n={...t.headers,...(r=e.request)==null?void 0:r.headers};e.request={...t,...e.request,headers:n}}}),vv="cause",wv=5,Tv="LinkedErrors",Iv=(e={})=>{const t=e.limit||wv,n=e.key||vv;return{name:Tv,preprocessEvent(r,s,o){const i=o.getOptions();f_(ba,i.stackParser,n,t,r,s)}}},kv=Iv;function Cv(){return Rv()?(K&&Wt(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function Rv(){var o;if(typeof A.window>"u")return!1;const e=A;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((o=t==null?void 0:t.runtime)!=null&&o.id))return!1;const n=un(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(A===A.top&&r.some(i=>n.startsWith(`${i}://`)))}function xv(e){return[s_(),e_(),ov(),YE(),hv(),kv(),E_(),Ev(),dv()]}function Mv(e={}){const t=!e.skipBrowserExtensionCheck&&Cv(),n={...e,enabled:t?!1:e.enabled,stackParser:mh(e.stackParser||jE),integrations:hg({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?xv():e.defaultIntegrations}),transport:e.transport||wf};return Mg(ub,n)}function dC(){}function fC(e){e()}function Iu(e={}){const t=A.document,n=(t==null?void 0:t.head)||(t==null?void 0:t.body);if(!n){K&&_.error("[showReportDialog] Global document not defined");return}const r=G(),s=x(),o=s==null?void 0:s.getDsn();if(!o){K&&_.error("[showReportDialog] DSN not configured");return}const i={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||ig()},a=A.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=fg(o,i);const{onLoad:c,onClose:u}=i;if(c&&(a.onload=c),u){const d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{A.removeEventListener("message",d)}};A.addEventListener("message",d)}n.appendChild(a)}const Av=W,Nv="ReportingObserver",ku=new WeakMap,Ov=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(ku.has(x()))for(const s of r)je(o=>{o.setExtra("url",s.url);const i=`ReportingObserver [${s.type}]`;let a="No details available";if(s.body){const c={};for(const u in s.body)c[u]=s.body[u];if(o.setExtra("body",c),s.type==="crash"){const u=s.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=s.body.message||a}mi(`${i}: ${a}`)})}return{name:Nv,setupOnce(){if(!_y())return;new Av.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){ku.set(r,!0)}}},pC=Ov,Lv="HttpClient",Pv=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:Lv,setup(n){zv(n,t),jv(n,t)}}},hC=Pv;function Dv(e,t,n,r,s){if(Cf(e,n.status,n.url)){const o=qv(t,r);let i,a,c,u;xf()&&([i,c]=Cu("Cookie",o),[a,u]=Cu("Set-Cookie",n));const d=Rf({url:o.url,method:o.method,status:n.status,requestHeaders:i,responseHeaders:a,requestCookies:c,responseCookies:u,error:s,type:"fetch"});to(d)}}function Cu(e,t){const n=Bv(t.headers);let r;try{const s=n[e]||n[e.toLowerCase()]||void 0;s&&(r=kf(s))}catch{}return[n,r]}function $v(e,t,n,r,s){if(Cf(e,t.status,t.responseURL)){let o,i,a;if(xf()){try{const u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(i=kf(u))}catch{}try{a=Hv(t)}catch{}o=r}const c=Rf({url:t.responseURL,method:n,status:t.status,requestHeaders:o,responseHeaders:a,responseCookies:i,error:s,type:"xhr"});to(c)}}function Fv(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function kf(e){return e.split("; ").reduce((t,n)=>{const[r,s]=n.split("=");return r&&s&&(t[r]=s),t},{})}function Bv(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Hv(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return s&&o&&(n[s]=o),n},{}):{}}function Uv(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function Wv(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function zv(e,t){zd()&&pa(n=>{if(x()!==e)return;const{response:r,args:s,error:o,virtualError:i}=n,[a,c]=s;r&&Dv(t,a,r,c,o||i)},!1)}function jv(e,t){"XMLHttpRequest"in W&&Aa(n=>{if(x()!==e)return;const{error:r,virtualError:s}=n,o=n.xhr,i=o[ht];if(!i)return;const{method:a,request_headers:c}=i;try{$v(t,o,a,c,r||s)}catch(u){K&&_.warn("Error while extracting response event form XHR response",u)}})}function Cf(e,t,n){return Wv(e.failedRequestStatusCodes,t)&&Uv(e.failedRequestTargets,n)&&!Nd(n,x())}function Rf(e){const t=x(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,s=`HTTP Client Error with status code: ${e.status}`,o={message:s,exception:{values:[{type:"Error",value:s,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:Fv(e.responseHeaders)}}};return bt(o,{type:`auto.http.client.${e.type}`,handled:!1}),o}function qv(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function xf(){const e=x();return e?!!e.getOptions().sendDefaultPii:!1}const Jo=W,Gv=7,Vv="ContextLines",Yv=(e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:Gv;return{name:Vv,processEvent(n){return Xv(n,t)}}},mC=Yv;function Xv(e,t){var a;const n=Jo.document,r=Jo.location&&Ad(Jo.location.href);if(!n||!r)return e;const s=(a=e.exception)==null?void 0:a.values;if(!(s!=null&&s.length))return e;const o=n.documentElement.innerHTML;if(!o)return e;const i=["<!DOCTYPE html>","<html>",...o.split(`
`),"</html>"];return s.forEach(c=>{const u=c.stacktrace;u!=null&&u.frames&&(u.frames=u.frames.map(d=>Kv(d,i,r,t)))}),e}function Kv(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Ch(t,e,r),e}const Jv="GraphQLClient",Zv=e=>({name:Jv,setup(t){Qv(t,e),e0(t,e)}});function Qv(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{const o=$(n).data||{};if(!(o[ve]==="http.client"))return;const c=o[Wh]||o["http.url"],u=o[Uh]||o["http.method"];if(!tt(c)||!tt(u))return;const{endpoints:d}=t,l=nt(c,d),p=Af(r);if(l&&p){const f=Nf(p);if(f){const h=Mf(f);n.updateName(`${u} ${c} (${h})`),n.setAttribute("graphql.document",p)}}})}function e0(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{const{category:s,type:o,data:i}=n;if(o==="http"&&(s==="fetch"||s==="xhr")){const d=i==null?void 0:i.url,{endpoints:l}=t,p=nt(d,l),f=Af(r);if(p&&i&&f){const h=Nf(f);if(!i.graphql&&h){const m=Mf(h);i["graphql.document"]=h.query,i["graphql.operation"]=m}}}})}function Mf(e){const{query:t,operationName:n}=e,{operationName:r=n,operationType:s}=t0(t);return r?`${s} ${r}`:`${s}`}function Af(e){const t="xhr"in e;let n;if(t){const r=e.xhr[ht];n=r&&Hs(r.body)[0]}else{const r=Na(e.input);n=Hs(r)[0]}return n}function t0(e){const t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};const s=e.match(n);return s?{operationType:s[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function Nf(e){let t;try{const n=JSON.parse(e);!!n.query&&(t=n)}finally{return t}}const gC=Zv,ue=W,Oa="sentryReplaySession",n0="replay_event",La="Unable to send Replay",r0=3e5,s0=9e5,o0=5e3,i0=5500,a0=6e4,c0=5e3,u0=3,Ru=15e4,Qr=5e3,l0=3e3,d0=300,Pa=2e7,f0=4999,p0=15e3,xu=36e5;var h0=Object.defineProperty,m0=(e,t,n)=>t in e?h0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mu=(e,t,n)=>m0(e,typeof t!="symbol"?t+"":t,n),be=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(be||{});function g0(e){return e.nodeType===e.ELEMENT_NODE}function or(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function ir(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function _0(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function y0(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Us(e){try{const t=e.rules||e.cssRules;return t?_0(Array.from(t,Of).join("")):null}catch{return null}}function S0(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],o=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function Of(e){let t;if(E0(e))try{t=Us(e.styleSheet)||y0(e)}catch{}else if(v0(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=S0(e)),r&&(n=b0(n)),r||s)return n}return t||e.cssText}function b0(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function E0(e){return"styleSheet"in e}function v0(e){return"selectorText"in e}let Lf=class{constructor(){Mu(this,"idNodeMap",new Map),Mu(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function w0(){return new Lf}function uo({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function lr({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function Un(e){return e.toLowerCase()}function Ni(e){return e.toUpperCase()}const Au="__rrweb_original__";function T0(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const o=t.getImageData,i=Au in o?o[Au]:o;if(new Uint32Array(i.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function Da(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Un(t):null}function Ws(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Pf(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return(s==null?void 0:s[1])??null}const Nu={};function Df(e){const t=Nu[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Nu[e]=r.bind(window)}function Oi(...e){return Df("setTimeout")(...e)}function $f(...e){return Df("clearTimeout")(...e)}function Ff(e){try{return e.contentDocument}catch{}}let I0=1;const k0=new RegExp("[^a-z0-9-_:]"),dr=-2;function $a(){return I0++}function C0(e){if(e instanceof HTMLFormElement)return"form";const t=Un(e.tagName);return k0.test(t)?"div":t}function R0(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let mn,Ou;const x0=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,M0=/^(?:[a-z+]+:)?\/\//i,A0=/^www\..*/i,N0=/^(data:)([^,]*),(.*)/i;function zs(e,t){return(e||"").replace(x0,(n,r,s,o,i,a)=>{const c=s||i||a,u=r||o||"";if(!c)return n;if(M0.test(c)||A0.test(c))return`url(${u}${c}${u})`;if(N0.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${R0(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const p of l)p!=="."&&(p===".."?d.pop():d.push(p));return`url(${u}${d.join("/")}${u})`})}const O0=/^[^ \t\n\r\u000c]+/,L0=/^[, \t\n\r\u000c]+/;function P0(e,t){if(t.trim()==="")return t;let n=0;function r(o){let i;const a=o.exec(t.substring(n));return a?(i=a[0],n+=i.length,i):""}const s=[];for(;r(L0),!(n>=t.length);){let o=r(O0);if(o.slice(-1)===",")o=bn(e,o.substring(0,o.length-1)),s.push(o);else{let i="";o=bn(e,o);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((o+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((o+i).trim());break}else c==="("&&(a=!0);i+=c,n+=1}}}return s.join(", ")}const Lu=new WeakMap;function bn(e,t){return!t||t.trim()===""?t:lo(e,t)}function D0(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function lo(e,t){let n=Lu.get(e);if(n||(n=e.createElement("a"),Lu.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Bf(e,t,n,r,s,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?bn(e,r):n==="srcset"?P0(e,r):n==="style"?zs(r,lo(e)):t==="object"&&n==="data"?bn(e,r):typeof o=="function"?o(n,r,s):r)}function Hf(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function $0(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const o=e.classList[s];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function F0(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Jt(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Jt(e.parentNode,t,n,r+1)}function En(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(F0(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Wn(e,t,n,r,s,o){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){const u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(o){if(c=Jt(i,En(r,s)),c<0)return!0;a=Jt(i,En(t,n),c>=0?c:1/0)}else{if(a=Jt(i,En(t,n)),a<0)return!1;c=Jt(i,En(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!o}catch{}return!!o}function B0(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const a=Oi(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{$f(a),s=!0,t()});return}const i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return Oi(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function H0(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const o=Oi(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{$f(o),r=!0,t()})}function U0(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:h={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:S,recordCanvas:M,keepIframeSrcFn:I,newlyAddedElement:R=!1}=t,b=W0(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:be.Document,childNodes:[],compatMode:e.compatMode}:{type:be.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:be.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:b};case e.ELEMENT_NODE:return j0(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:f,maskAttributeFn:c,maskInputOptions:h,maskInputFn:g,dataURLOptions:y,inlineImages:S,recordCanvas:M,keepIframeSrcFn:I,newlyAddedElement:R,rootId:b,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p});case e.TEXT_NODE:return z0(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p,maskTextFn:m,maskInputOptions:h,maskInputFn:g,rootId:b});case e.CDATA_SECTION_NODE:return{type:be.CDATA,textContent:"",rootId:b};case e.COMMENT_NODE:return{type:be.Comment,textContent:e.textContent||"",rootId:b};default:return!1}}function W0(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function z0(e,t){var y;const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const f=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,m=l==="TEXTAREA"?!0:void 0;if(f&&p){try{e.nextSibling||e.previousSibling||(y=e.parentNode.sheet)!=null&&y.cssRules&&(p=Us(e.parentNode.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}p=zs(p,lo(t.doc))}h&&(p="SCRIPT_PLACEHOLDER");const g=Wn(e,r,o,s,i,n);if(!f&&!h&&!m&&p&&g&&(p=a?a(p,e.parentElement):p.replace(/[\S]/g,"*")),m&&p&&(c.textarea||g)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*")),l==="OPTION"&&p){const S=uo({type:null,tagName:l,maskInputOptions:c});p=lr({isMasked:Wn(e,r,o,s,i,S),element:e,value:p,maskInputFn:u})}return{type:be.Text,textContent:p||"",isStyle:f,rootId:d}}function j0(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:h=!1,rootId:m,maskTextClass:g,unmaskTextClass:y,maskTextSelector:S,unmaskTextSelector:M}=t,I=$0(e,r,s,o),R=C0(e);let b={};const k=e.attributes.length;for(let E=0;E<k;E++){const T=e.attributes[E];T.name&&!Hf(R,T.name,T.value)&&(b[T.name]=Bf(n,R,Un(T.name),T.value,e,c))}if(R==="link"&&i){const E=Array.from(n.styleSheets).find(P=>P.href===e.href);let T=null;E&&(T=Us(E)),T&&(b.rel=null,b.href=null,b.crossorigin=null,b._cssText=zs(T,E.href))}if(R==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const E=Us(e.sheet);E&&(b._cssText=zs(E,lo(n)))}if(R==="input"||R==="textarea"||R==="select"||R==="option"){const E=e,T=Da(E),P=Ws(E,Ni(R),T),v=E.checked;if(T!=="submit"&&T!=="button"&&P){const O=Wn(E,g,S,y,M,uo({type:T,tagName:Ni(R),maskInputOptions:a}));b.value=lr({isMasked:O,element:E,value:P,maskInputFn:u})}v&&(b.checked=v)}if(R==="option"&&(e.selected&&!a.select?b.selected=!0:delete b.selected),R==="canvas"&&p){if(e.__context==="2d")T0(e)||(b.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const E=e.toDataURL(d.type,d.quality),T=n.createElement("canvas");T.width=e.width,T.height=e.height;const P=T.toDataURL(d.type,d.quality);E!==P&&(b.rr_dataURL=E)}}if(R==="img"&&l){mn||(mn=n.createElement("canvas"),Ou=mn.getContext("2d"));const E=e,T=E.currentSrc||E.getAttribute("src")||"<unknown-src>",P=E.crossOrigin,v=()=>{E.removeEventListener("load",v);try{mn.width=E.naturalWidth,mn.height=E.naturalHeight,Ou.drawImage(E,0,0),b.rr_dataURL=mn.toDataURL(d.type,d.quality)}catch(O){if(E.crossOrigin!=="anonymous"){E.crossOrigin="anonymous",E.complete&&E.naturalWidth!==0?v():E.addEventListener("load",v);return}else console.warn(`Cannot inline img src=${T}! Error: ${O}`)}E.crossOrigin==="anonymous"&&(P?b.crossOrigin=P:E.removeAttribute("crossorigin"))};E.complete&&E.naturalWidth!==0?v():E.addEventListener("load",v)}if((R==="audio"||R==="video")&&(b.rr_mediaState=e.paused?"paused":"played",b.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(b.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(b.rr_scrollTop=e.scrollTop)),I){const{width:E,height:T}=e.getBoundingClientRect();b={class:b.class,rr_width:`${E}px`,rr_height:`${T}px`}}R==="iframe"&&!f(b.src)&&(!I&&!Ff(e)&&(b.rr_src=b.src),delete b.src);let N;try{customElements.get(R)&&(N=!0)}catch{}return{type:be.Element,tagName:R,attributes:b,childNodes:[],isSVG:D0(e)||void 0,needBlock:I,rootId:m,isCustom:N}}function ce(e){return e==null?"":e.toLowerCase()}function q0(e,t){if(t.comment&&e.type===be.Comment)return!0;if(e.type===be.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Pf(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ce(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ce(e.attributes.name)==="application-name"||ce(e.attributes.rel)==="icon"||ce(e.attributes.rel)==="apple-touch-icon"||ce(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ce(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ce(e.attributes.property).match(/^(og|twitter|fb):/)||ce(e.attributes.name).match(/^(og|twitter):/)||ce(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ce(e.attributes.name)==="robots"||ce(e.attributes.name)==="googlebot"||ce(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ce(e.attributes.name)==="author"||ce(e.attributes.name)==="generator"||ce(e.attributes.name)==="framework"||ce(e.attributes.name)==="publisher"||ce(e.attributes.name)==="progid"||ce(e.attributes.property).match(/^article:/)||ce(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ce(e.attributes.name)==="google-site-verification"||ce(e.attributes.name)==="yandex-verification"||ce(e.attributes.name)==="csrf-token"||ce(e.attributes.name)==="p:domain_verify"||ce(e.attributes.name)==="verify-v1"||ce(e.attributes.name)==="verification"||ce(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function vn(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:h={},maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:S,dataURLOptions:M={},inlineImages:I=!1,recordCanvas:R=!1,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:N=5e3,onBlockedImageLoad:E,onStylesheetLoad:T,stylesheetLoadTimeout:P=5e3,keepIframeSrcFn:v=()=>!1,newlyAddedElement:O=!1}=t;let{preserveWhiteSpace:q=!0}=t;const L=U0(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,dataURLOptions:M,inlineImages:I,recordCanvas:R,keepIframeSrcFn:v,newlyAddedElement:O});if(!L)return console.warn(e,"not serialized"),null;let z;r.hasNode(e)?z=r.getId(e):q0(L,S)||!q&&L.type===be.Text&&!L.isStyle&&!L.textContent.replace(/^\s+|\s+$/gm,"").length?z=dr:z=$a();const w=Object.assign(L,{id:z});if(r.add(e,w),z===dr)return null;b&&b(e);let F=!p;if(w.type===be.Element){F=F&&!w.needBlock;const D=e.shadowRoot;D&&ir(D)&&(w.isShadowHost=!0)}if((w.type===be.Document||w.type===be.Element)&&F){S.headWhitespace&&w.type===be.Element&&w.tagName==="head"&&(q=!1);const D={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:p,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:S,dataURLOptions:M,inlineImages:I,recordCanvas:R,preserveWhiteSpace:q,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:N,onBlockedImageLoad:E,onStylesheetLoad:T,stylesheetLoadTimeout:P,keepIframeSrcFn:v},V=e.childNodes?Array.from(e.childNodes):[];for(const ne of V){const ye=vn(ne,D);ye&&w.childNodes.push(ye)}if(g0(e)&&e.shadowRoot)for(const ne of Array.from(e.shadowRoot.childNodes)){const ye=vn(ne,D);ye&&(ir(e.shadowRoot)&&(ye.isShadow=!0),w.childNodes.push(ye))}}if(e.parentNode&&or(e.parentNode)&&ir(e.parentNode)&&(w.isShadow=!0),w.type===be.Element&&w.tagName==="iframe"&&!w.needBlock&&B0(e,()=>{const D=Ff(e);if(D&&k){const V=vn(D,{doc:D,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:S,dataURLOptions:M,inlineImages:I,recordCanvas:R,preserveWhiteSpace:q,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:N,onStylesheetLoad:T,stylesheetLoadTimeout:P,keepIframeSrcFn:v});V&&k(e,V)}},N),w.type===be.Element&&w.tagName==="img"&&!e.complete&&w.needBlock){const D=e,V=()=>{if(D.isConnected&&!D.complete&&E)try{const ne=D.getBoundingClientRect();ne.width>0&&ne.height>0&&E(D,w,ne)}catch{}D.removeEventListener("load",V)};D.isConnected&&D.addEventListener("load",V)}return w.type===be.Element&&w.tagName==="link"&&typeof w.attributes.rel=="string"&&(w.attributes.rel==="stylesheet"||w.attributes.rel==="preload"&&typeof w.attributes.href=="string"&&Pf(w.attributes.href)==="css")&&H0(e,()=>{if(T){const D=vn(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:S,dataURLOptions:M,inlineImages:I,recordCanvas:R,preserveWhiteSpace:q,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:N,onStylesheetLoad:T,stylesheetLoadTimeout:P,keepIframeSrcFn:v});D&&T(e,D)}},P),w.type===be.Element&&delete w.needBlock,w}function G0(e,t){const{mirror:n=new Lf,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:p=!1,recordCanvas:f=!1,maskAllInputs:h=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:S=!1,dataURLOptions:M,preserveWhiteSpace:I,onSerialize:R,onIframeLoad:b,iframeLoadTimeout:k,onBlockedImageLoad:N,onStylesheetLoad:E,stylesheetLoadTimeout:T,keepIframeSrcFn:P=()=>!1}=t||{};return vn(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:S==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:S===!1?{}:S,dataURLOptions:M,inlineImages:p,recordCanvas:f,preserveWhiteSpace:I,onSerialize:R,onIframeLoad:b,iframeLoadTimeout:k,onBlockedImageLoad:N,onStylesheetLoad:E,stylesheetLoadTimeout:T,keepIframeSrcFn:P,newlyAddedElement:!1})}function Le(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const gn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Pu={map:{},getId(){return console.error(gn),-1},getNode(){return console.error(gn),null},removeNodeFromMap(){console.error(gn)},has(){return console.error(gn),!1},reset(){console.error(gn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Pu=new Proxy(Pu,{get(e,t,n){return t==="map"&&console.error(gn),Reflect.get(e,t,n)}}));function fr(e,t,n={}){let r=null,s=0;return function(...o){const i=Date.now();!s&&n.leading===!1&&(s=i);const a=t-(i-s),c=this;a<=0||a>t?(r&&(Q0(r),r=null),s=i,e.apply(c,o)):!r&&n.trailing!==!1&&(r=fo(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,o)},a))}}function Uf(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){fo(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>Uf(e,t,o||{},!0)}function Fa(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let js=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(js=()=>new Date().getTime());function Wf(e){var n,r,s,o,i,a;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((s=t==null?void 0:t.body)==null?void 0:s.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((i=(o=t==null?void 0:t.body)==null?void 0:o.parentElement)==null?void 0:i.scrollTop)||((a=t==null?void 0:t.body)==null?void 0:a.scrollTop)||0}}function zf(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function jf(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function qf(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function We(e,t,n,r,s){if(!e)return!1;const o=qf(e);if(!o)return!1;const i=En(t,n);if(!s){const u=r&&o.matches(r);return i(o)&&!u}const a=Jt(o,i);let c=-1;return a<0?!1:(r&&(c=Jt(o,En(null,r))),a>-1&&c<0?!0:a<c)}function V0(e,t){return t.getId(e)!==-1}function Zo(e,t){return t.getId(e)===dr}function Gf(e,t){if(or(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Gf(e.parentNode,t):!0:!0}function Li(e){return!!e.changedTouches}function Y0(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Vf(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Yf(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Pi(e){return!!(e!=null&&e.shadowRoot)}class X0{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Xf(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function K0(e){let t=e,n;for(;n=Xf(t);)t=n;return t}function J0(e){const t=e.ownerDocument;if(!t)return!1;const n=K0(e);return t.contains(n)}function Kf(e){const t=e.ownerDocument;return t?t.contains(e)||J0(e):!1}const Du={};function Ba(e){const t=Du[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Du[e]=r.bind(window)}function Z0(...e){return Ba("requestAnimationFrame")(...e)}function fo(...e){return Ba("setTimeout")(...e)}function Q0(...e){return Ba("clearTimeout")(...e)}var Y=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Y||{}),j=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(j||{}),Oe=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Oe||{}),pt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(pt||{}),_n=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(_n||{});function Ha(e){try{return e.contentDocument}catch{}}function ew(e){try{return e.contentWindow}catch{}}function $u(e){return"__ln"in e}class tw{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&$u(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&$u(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Fu=(e,t)=>`${e}@${t}`;class nw{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new tw,s=c=>{let u=c,d=dr;for(;d===dr;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},o=c=>{if(!c.parentNode||!Kf(c))return;const u=or(c.parentNode)?this.mirror.getId(Xf(c)):this.mirror.getId(c.parentNode),d=s(c);if(u===-1||d===-1)return r.addNode(c);const l=vn(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{Vf(p,this.mirror)&&!We(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(p),Yf(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),Pi(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(p,f)=>{We(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(p,f),p.contentWindow&&this.canvasManager.addWindow(p.contentWindow),this.shadowDomManager.observeAttachShadow(p))},onStylesheetLoad:(p,f)=>{this.stylesheetManager.attachLinkElement(p,f)},onBlockedImageLoad:(p,f,{width:h,height:m})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:f.id,attributes:{style:{width:`${h}px`,height:`${m}px`}}}]})}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)Bu(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||o(c);for(const c of this.addedSet)!Hu(this.droppedSet,c)&&!Bu(this.removes,c,this.mirror)||Hu(this.movedSet,c)?o(c):this.droppedSet.add(c);let i=null;for(;r.length;){let c=null;if(i){const u=this.mirror.getId(i.value.parentNode),d=s(i.value);u!==-1&&d!==-1&&(c=i)}if(!c){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(l!==-1){c=d;break}else{const f=d.value;if(f.parentNode&&f.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=f.parentNode.host;if(this.mirror.getId(h)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}i=c.previous,r.removeNode(c.value),o(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Zo(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!We(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Wn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,qf(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const i=Da(n),a=n.tagName;s=Ws(n,a,i);const c=uo({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=Wn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=lr({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(We(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!Ha(n))r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Hf(n.tagName,r)&&(o.attributes[r]=Bf(this.doc,Un(n.tagName),Un(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?o.styleDiff[a]=c:o.styleDiff[a]=[c,u]:o._unchangedStyles[a]=[c,u]}for(const a of Array.from(i.style))n.style.getPropertyValue(a)===""&&(o.styleDiff[a]=!1)}break}case"childList":{if(We(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=or(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);We(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Zo(n,this.mirror)||!V0(n,this.mirror)||(this.addedSet.has(n)?(Di(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Gf(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Fu(r,s)]?Di(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:or(t.target)&&ir(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Zo(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Fu(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);We(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),Pi(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Di(e,t){var n;e.delete(t),(n=t.childNodes)==null||n.forEach(r=>Di(e,r))}function Bu(e,t,n){return e.length===0?!1:rw(e,t,n)}function rw(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(o=>o.id===s))return!0;r=r.parentNode}return!1}function Hu(e,t){return e.size===0?!1:Jf(e,t)}function Jf(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Jf(e,n):!1}let ar;function sw(e){ar=e}function ow(){ar=void 0}const te=e=>ar?(...n)=>{try{return e(...n)}catch(r){if(ar&&ar(r)===!0)return()=>{};throw r}}:e,wn=[];function Nr(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Zf(e,t){var i,a;const n=new nw;wn.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=(a=(i=window==null?void 0:window.Zone)==null?void 0:i.__symbol__)==null?void 0:a.call(i,"MutationObserver");s&&window[s]&&(r=window[s]);const o=new r(te(c=>{e.onMutation&&e.onMutation(c)===!1||n.processMutations.bind(n)(c)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function iw({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let i=[],a;const c=fr(te(l=>{const p=Date.now()-a;e(i.map(f=>(f.timeOffset-=p,f)),l),i=[],a=null}),o),u=te(fr(te(l=>{const p=Nr(l),{clientX:f,clientY:h}=Li(l)?l.changedTouches[0]:l;a||(a=js()),i.push({x:f,y:h,id:r.getId(p),timeOffset:js()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?j.Drag:l instanceof MouseEvent?j.MouseMove:j.TouchMove)}),s,{trailing:!1})),d=[Le("mousemove",u,n),Le("touchmove",u,n),Le("drag",u,n)];return te(()=>{d.forEach(l=>l())})}function aw({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[];let u=null;const d=l=>p=>{const f=Nr(p);if(We(f,r,s,o,!0))return;let h=null,m=l;if("pointerType"in p){switch(p.pointerType){case"mouse":h=pt.Mouse;break;case"touch":h=pt.Touch;break;case"pen":h=pt.Pen;break}h===pt.Touch?Oe[l]===Oe.MouseDown?m="TouchStart":Oe[l]===Oe.MouseUp&&(m="TouchEnd"):pt.Pen}else Li(p)&&(h=pt.Touch);h!==null?(u=h,(m.startsWith("Touch")&&h===pt.Touch||m.startsWith("Mouse")&&h===pt.Mouse)&&(h=null)):Oe[l]===Oe.Click&&(h=u,u=null);const g=Li(p)?p.changedTouches[0]:p;if(!g)return;const y=n.getId(f),{clientX:S,clientY:M}=g;te(e)({type:Oe[m],id:y,x:S,y:M,...h!==null&&{pointerType:h}})};return Object.keys(Oe).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let p=Un(l);const f=d(l);if(window.PointerEvent)switch(Oe[l]){case Oe.MouseDown:case Oe.MouseUp:p=p.replace("mouse","pointer");break;case Oe.TouchStart:case Oe.TouchEnd:return}c.push(Le(p,f,t))}),te(()=>{c.forEach(l=>l())})}function Qf({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){const a=te(fr(te(c=>{const u=Nr(c);if(!u||We(u,r,s,o,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=Wf(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return Le("scroll",a,t)}function cw({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=te(fr(te(()=>{const o=zf(),i=jf();(n!==o||r!==i)&&(e({width:Number(i),height:Number(o)}),n=o,r=i)}),200));return Le("resize",s,t)}const uw=["INPUT","TEXTAREA","SELECT"],Uu=new WeakMap;function lw({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:p,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:m}){function g(k){let N=Nr(k);const E=k.isTrusted,T=N&&Ni(N.tagName);if(T==="OPTION"&&(N=N.parentElement),!N||!T||uw.indexOf(T)<0||We(N,r,s,o,!0))return;const P=N;if(P.classList.contains(i)||a&&P.matches(a))return;const v=Da(N);let O=Ws(P,T,v),q=!1;const L=uo({maskInputOptions:c,tagName:T,type:v}),z=Wn(N,p,h,f,m,L);(v==="radio"||v==="checkbox")&&(q=N.checked),O=lr({isMasked:z,element:N,value:O,maskInputFn:u}),y(N,l?{text:O,isChecked:q,userTriggered:E}:{text:O,isChecked:q});const w=N.name;v==="radio"&&w&&q&&t.querySelectorAll(`input[type="radio"][name="${w}"]`).forEach(F=>{if(F!==N){const D=lr({isMasked:z,element:F,value:Ws(F,T,v),maskInputFn:u});y(F,l?{text:D,isChecked:!q,userTriggered:!1}:{text:D,isChecked:!q})}})}function y(k,N){const E=Uu.get(k);if(!E||E.text!==N.text||E.isChecked!==N.isChecked){Uu.set(k,N);const T=n.getId(k);te(e)({...N,id:T})}}const M=(d.input==="last"?["change"]:["input","change"]).map(k=>Le(k,te(g),t)),I=t.defaultView;if(!I)return()=>{M.forEach(k=>k())};const R=I.Object.getOwnPropertyDescriptor(I.HTMLInputElement.prototype,"value"),b=[[I.HTMLInputElement.prototype,"value"],[I.HTMLInputElement.prototype,"checked"],[I.HTMLSelectElement.prototype,"value"],[I.HTMLTextAreaElement.prototype,"value"],[I.HTMLSelectElement.prototype,"selectedIndex"],[I.HTMLOptionElement.prototype,"selected"]];return R&&R.set&&M.push(...b.map(k=>Uf(k[0],k[1],{set(){te(g)({target:this,isTrusted:!1})}},!1,I))),te(()=>{M.forEach(k=>k())})}function qs(e){const t=[];function n(r,s){if(es("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||es("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||es("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||es("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(i)}return s}return n(e,t)}function At(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function dw({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:te((d,l,p)=>{const[f,h]=p,{id:m,styleId:g}=At(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,adds:[{rule:f,index:h}]}),d.apply(l,p)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:te((d,l,p)=>{const[f]=p,{id:h,styleId:m}=At(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,removes:[{index:f}]}),d.apply(l,p)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:te((d,l,p)=>{const[f]=p,{id:h,styleId:m}=At(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replace:f}),d.apply(l,p)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:te((d,l,p)=>{const[f]=p,{id:h,styleId:m}=At(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replaceSync:f}),d.apply(l,p)})}));const c={};ts("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(ts("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),ts("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),ts("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:te((p,f,h)=>{const[m,g]=h,{id:y,styleId:S}=At(f.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||S&&S!==-1)&&e({id:y,styleId:S,adds:[{rule:m,index:[...qs(f),g||0]}]}),p.apply(f,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:te((p,f,h)=>{const[m]=h,{id:g,styleId:y}=At(f.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,removes:[{index:[...qs(f),m]}]}),p.apply(f,h)})})}),te(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function ep({mirror:e,stylesheetManager:t},n){var i,a,c;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?(i=n.defaultView)==null?void 0:i.Document:(c=(a=n.ownerDocument)==null?void 0:a.defaultView)==null?void 0:c.ShadowRoot,o=s!=null&&s.prototype?Object.getOwnPropertyDescriptor(s==null?void 0:s.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){var u;return(u=o.get)==null?void 0:u.call(this)},set(u){var l;const d=(l=o.set)==null?void 0:l.call(this,u);if(r!==null&&r!==-1)try{t.adoptStyleSheets(u,r)}catch{}return d}}),te(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function fw({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:te((a,c,u)=>{var m;const[d,l,p]=u;if(n.has(d))return o.apply(c,[d,l,p]);const{id:f,styleId:h}=At((m=c.parentRule)==null?void 0:m.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||h&&h!==-1)&&e({id:f,styleId:h,set:{property:d,value:l,priority:p},index:qs(c.parentRule)}),a.apply(c,u)})});const i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:te((a,c,u)=>{var f;const[d]=u;if(n.has(d))return i.apply(c,[d]);const{id:l,styleId:p}=At((f=c.parentRule)==null?void 0:f.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||p&&p!==-1)&&e({id:l,styleId:p,remove:{property:d},index:qs(c.parentRule)}),a.apply(c,u)})}),te(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i})}function pw({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:i}){const a=te(u=>fr(te(d=>{const l=Nr(d);if(!l||We(l,t,n,r,!0))return;const{currentTime:p,volume:f,muted:h,playbackRate:m}=l;e({type:u,id:s.getId(l),currentTime:p,volume:f,muted:h,playbackRate:m})}),o.media||500)),c=[Le("play",a(_n.Play),i),Le("pause",a(_n.Pause),i),Le("seeked",a(_n.Seeked),i),Le("volumechange",a(_n.VolumeChange),i),Le("ratechange",a(_n.RateChange),i)];return te(()=>{c.forEach(u=>u())})}function hw({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(c,u,d){const l=new o(c,u,d);return s.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const i=Fa(t.fonts,"add",function(a){return function(c){return fo(te(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=o}),r.push(i),te(()=>{r.forEach(a=>a())})}function mw(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:i}=e;let a=!0;const c=te(()=>{const u=t.getSelection();if(!u||a&&(u!=null&&u.isCollapsed))return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let p=0;p<l;p++){const f=u.getRangeAt(p),{startContainer:h,startOffset:m,endContainer:g,endOffset:y}=f;We(h,r,s,o,!0)||We(g,r,s,o,!0)||d.push({start:n.getId(h),startOffset:m,end:n.getId(g),endOffset:y})}i({ranges:d})});return c(),Le("selectionchange",c)}function gw({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Fa(n.customElements,"define",function(s){return function(o,i,a){try{t({define:{name:o}})}catch{}return s.apply(this,[o,i,a])}})}function _w(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Zf(e,e.doc));const s=iw(e),o=aw(e),i=Qf(e),a=cw(e,{win:n}),c=lw(e),u=pw(e);let d=()=>{},l=()=>{},p=()=>{},f=()=>{};e.recordDOM&&(d=dw(e,{win:n}),l=ep(e,e.doc),p=fw(e,{win:n}),e.collectFonts&&(f=hw(e)));const h=mw(e),m=gw(e),g=[];for(const y of e.plugins)g.push(y.observer(y.callback,n,y.options));return te(()=>{wn.forEach(y=>y.reset()),r==null||r.disconnect(),s(),o(),i(),a(),c(),u(),d(),l(),p(),f(),h(),m(),g.forEach(y=>y())})}function es(e){return typeof window[e]<"u"}function ts(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class $i{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const o=r||this.getIdToRemoteIdMap(t),i=s||this.getRemoteIdToIdMap(t);let a=o.get(n);return a||(a=this.generateIdFn(),o.set(n,a),i.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=s.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class yw{constructor(){this.crossOriginIframeMirror=new $i($a),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Sw{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new $i($a),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new $i(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var s,o;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((s=t.contentWindow)==null||s.addEventListener("message",this.handleMessage.bind(this))),(o=this.loadListener)==null||o.call(this,t);const r=Ha(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case Y.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:Y.IncrementalSnapshot,data:{source:j.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Y.Meta:case Y.Load:case Y.DomContentLoaded:return!1;case Y.Plugin:return n;case Y.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Y.IncrementalSnapshot:switch(n.data.source){case j.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(s.node,o)}),n.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case j.Drag:case j.TouchMove:case j.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case j.ViewportResize:return!1;case j.MediaInteraction:case j.MouseInteraction:case j.Scroll:case j.CanvasMutation:case j.Input:return this.replaceIds(n.data,t,["id"]),n;case j.StyleSheetRule:case j.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case j.Font:return n;case j.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),n;case j.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),n}}return!1}replace(t,n,r,s){for(const o of s)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==be.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class bw{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Ew{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!ir(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Zf({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Qf({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),fo(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(ep({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=Ha(t),r=ew(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Fa(t.prototype,"attachShadow",function(s){return function(o){const i=s.call(this,o);return this.shadowRoot&&Kf(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var Wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ns=0;ns<Wu.length;ns++)vw[Wu.charCodeAt(ns)]=ns;class zu{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class ww{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new X0,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const o of t){let i;this.styleMirror.has(o)?i=this.styleMirror.getId(o):(i=this.styleMirror.add(o),s.push({styleId:i,rules:Array.from(o.rules||CSSRule,(a,c)=>({rule:Of(a),index:c}))})),r.styleIds.push(i)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Tw{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,Z0(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let me,Gs;var Il;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((Il=e.contentWindow)==null?void 0:Il.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Ze=w0();function gt(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:p=null,unmaskTextSelector:f=null,inlineStylesheet:h=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:y,maskAttributeFn:S,maskInputFn:M,maskTextFn:I,maxCanvasSize:R=null,packFn:b,sampling:k={},dataURLOptions:N={},mousemoveWait:E,recordDOM:T=!0,recordCanvas:P=!1,recordCrossOriginIframes:v=!1,recordAfter:O=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:q=!1,collectFonts:L=!1,inlineImages:z=!1,plugins:w,keepIframeSrcFn:F=()=>!1,ignoreCSSAttributes:D=new Set([]),errorHandler:V,onMutation:ne,getCanvasManager:ye}=e;sw(V);const xe=v?window.parent===window:!0;let we=!1;if(!xe)try{window.parent.document&&(we=!1)}catch{we=!0}if(xe&&!t)throw new Error("emit function is required");if(!xe&&!we)return()=>{};E!==void 0&&k.mousemove===void 0&&(k.mousemove=E),Ze.reset();const Ct=m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:g!==void 0?g:{},Gt=y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:y==="all",headMetaDescKeywords:y==="all"}:y||{};Y0();let dt,Je=0;const Rt=J=>{for(const Ae of w||[])Ae.eventProcessor&&(J=Ae.eventProcessor(J));return b&&!we&&(J=b(J)),J};me=(J,Ae)=>{var Be;const Z=J;if(Z.timestamp=js(),(Be=wn[0])!=null&&Be.isFrozen()&&Z.type!==Y.FullSnapshot&&!(Z.type===Y.IncrementalSnapshot&&Z.data.source===j.Mutation)&&wn.forEach(Ge=>Ge.unfreeze()),xe)t==null||t(Rt(Z),Ae);else if(we){const Ge={type:"rrweb",event:Rt(Z),origin:window.location.origin,isCheckout:Ae};window.parent.postMessage(Ge,"*")}if(Z.type===Y.FullSnapshot)dt=Z,Je=0;else if(Z.type===Y.IncrementalSnapshot){if(Z.data.source===j.Mutation&&Z.data.isAttachIframe)return;Je++;const Ge=r&&Je>=r,re=n&&dt&&Z.timestamp-dt.timestamp>n;(Ge||re)&&Me(!0)}};const xt=J=>{me({type:Y.IncrementalSnapshot,data:{source:j.Mutation,...J}})},Qn=J=>me({type:Y.IncrementalSnapshot,data:{source:j.Scroll,...J}}),Br=J=>me({type:Y.IncrementalSnapshot,data:{source:j.CanvasMutation,...J}}),er=J=>me({type:Y.IncrementalSnapshot,data:{source:j.AdoptedStyleSheet,...J}}),ee=new ww({mutationCb:xt,adoptedStyleSheetCb:er}),le=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new yw:new Sw({mirror:Ze,mutationCb:xt,stylesheetManager:ee,recordCrossOriginIframes:v,wrappedEmit:me});for(const J of w||[])J.getMirror&&J.getMirror({nodeMirror:Ze,crossOriginIframeMirror:le.crossOriginIframeMirror,crossOriginIframeStyleMirror:le.crossOriginIframeStyleMirror});const Fe=new Tw,Ce=kw(ye,{mirror:Ze,win:window,mutationCb:J=>me({type:Y.IncrementalSnapshot,data:{source:j.CanvasMutation,...J}}),recordCanvas:P,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:R,sampling:k.canvas,dataURLOptions:N,errorHandler:V}),de=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new bw:new Ew({mutationCb:xt,scrollCb:Qn,bypassOptions:{onMutation:ne,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:h,maskInputOptions:Ct,dataURLOptions:N,maskAttributeFn:S,maskTextFn:I,maskInputFn:M,recordCanvas:P,inlineImages:z,sampling:k,slimDOMOptions:Gt,iframeManager:le,stylesheetManager:ee,canvasManager:Ce,keepIframeSrcFn:F,processedNodeManager:Fe},mirror:Ze}),Me=(J=!1)=>{if(!T)return;me({type:Y.Meta,data:{href:window.location.href,width:jf(),height:zf()}},J),ee.reset(),de.init(),wn.forEach(Z=>Z.lock());const Ae=G0(document,{mirror:Ze,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:h,maskAllInputs:Ct,maskAttributeFn:S,maskInputFn:M,maskTextFn:I,slimDOM:Gt,dataURLOptions:N,recordCanvas:P,inlineImages:z,onSerialize:Z=>{Vf(Z,Ze)&&le.addIframe(Z),Yf(Z,Ze)&&ee.trackLinkElement(Z),Pi(Z)&&de.addShadowRoot(Z.shadowRoot,document)},onIframeLoad:(Z,Be)=>{le.attachIframe(Z,Be),Z.contentWindow&&Ce.addWindow(Z.contentWindow),de.observeAttachShadow(Z)},onStylesheetLoad:(Z,Be)=>{ee.attachLinkElement(Z,Be)},onBlockedImageLoad:(Z,Be,{width:Ge,height:re})=>{xt({adds:[],removes:[],texts:[],attributes:[{id:Be.id,attributes:{style:{width:`${Ge}px`,height:`${re}px`}}}]})},keepIframeSrcFn:F});if(!Ae)return console.warn("Failed to snapshot the document");me({type:Y.FullSnapshot,data:{node:Ae,initialOffset:Wf(window)}}),wn.forEach(Z=>Z.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ee.adoptStyleSheets(document.adoptedStyleSheets,Ze.getId(document))};Gs=Me;try{const J=[],Ae=Be=>{var Ge;return te(_w)({onMutation:ne,mutationCb:xt,mousemoveCb:(re,xo)=>me({type:Y.IncrementalSnapshot,data:{source:xo,positions:re}}),mouseInteractionCb:re=>me({type:Y.IncrementalSnapshot,data:{source:j.MouseInteraction,...re}}),scrollCb:Qn,viewportResizeCb:re=>me({type:Y.IncrementalSnapshot,data:{source:j.ViewportResize,...re}}),inputCb:re=>me({type:Y.IncrementalSnapshot,data:{source:j.Input,...re}}),mediaInteractionCb:re=>me({type:Y.IncrementalSnapshot,data:{source:j.MediaInteraction,...re}}),styleSheetRuleCb:re=>me({type:Y.IncrementalSnapshot,data:{source:j.StyleSheetRule,...re}}),styleDeclarationCb:re=>me({type:Y.IncrementalSnapshot,data:{source:j.StyleDeclaration,...re}}),canvasMutationCb:Br,fontCb:re=>me({type:Y.IncrementalSnapshot,data:{source:j.Font,...re}}),selectionCb:re=>{me({type:Y.IncrementalSnapshot,data:{source:j.Selection,...re}})},customElementCb:re=>{me({type:Y.IncrementalSnapshot,data:{source:j.CustomElement,...re}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,maskInputOptions:Ct,inlineStylesheet:h,sampling:k,recordDOM:T,recordCanvas:P,inlineImages:z,userTriggeredOnInput:q,collectFonts:L,doc:Be,maskAttributeFn:S,maskInputFn:M,maskTextFn:I,keepIframeSrcFn:F,blockSelector:o,unblockSelector:i,slimDOMOptions:Gt,dataURLOptions:N,mirror:Ze,iframeManager:le,stylesheetManager:ee,shadowDomManager:de,processedNodeManager:Fe,canvasManager:Ce,ignoreCSSAttributes:D,plugins:((Ge=w==null?void 0:w.filter(re=>re.observer))==null?void 0:Ge.map(re=>({observer:re.observer,options:re.options,callback:xo=>me({type:Y.Plugin,data:{plugin:re.name,payload:xo}})})))||[]},{})};le.addLoadListener(Be=>{try{J.push(Ae(Be.contentDocument))}catch(Ge){console.warn(Ge)}});const Z=()=>{Me(),J.push(Ae(document))};return document.readyState==="interactive"||document.readyState==="complete"?Z():(J.push(Le("DOMContentLoaded",()=>{me({type:Y.DomContentLoaded,data:{}}),O==="DOMContentLoaded"&&Z()})),J.push(Le("load",()=>{me({type:Y.Load,data:{}}),O==="load"&&Z()},window))),()=>{J.forEach(Be=>Be()),Fe.destroy(),Gs=void 0,ow()}}catch(J){console.warn(J)}}function Iw(e){if(!Gs)throw new Error("please take full snapshot after start recording");Gs(e)}gt.mirror=Ze;gt.takeFullSnapshot=Iw;function kw(e,t){try{return e?e(t):new zu}catch{return console.warn("Unable to initialize CanvasManager"),new zu}}var ju;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(ju||(ju={}));const Cw=3,Rw=5;function Ua(e){return e>9999999999?e:e*1e3}function Qo(e){return e>9999999999?e/1e3:e}function Or(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Y.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Ue(t,10,1e3)}}),t.category==="console")))}const xw="button,a";function tp(e){return e.closest(xw)||e}function np(e){const t=rp(e);return!t||!(t instanceof Element)?t:tp(t)}function rp(e){return Mw(e)?e.target:e}function Mw(e){return typeof e=="object"&&!!e&&"target"in e}let Nt;function Aw(e){return Nt||(Nt=[],Nw()),Nt.push(e),()=>{const t=Nt?Nt.indexOf(e):-1;t>-1&&Nt.splice(t,1)}}function Nw(){Pe(ue,"open",function(e){return function(...t){if(Nt)try{Nt.forEach(n=>n())}catch{}return e.apply(ue,t)}})}const Ow=new Set([j.Mutation,j.StyleSheetRule,j.StyleDeclaration,j.AdoptedStyleSheet,j.CanvasMutation,j.Selection,j.MediaInteraction]);function Lw(e,t,n){e.handleClick(t,n)}class Pw{constructor(t,n,r=Or){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=Aw(()=>{this._lastMutation=qu()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if($w(n,this._ignoreSelector)||!Fw(t))return;const r={timestamp:Qo(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Qo(t)}registerScroll(t=Date.now()){this._lastScroll=Qo(t)}registerClick(t){const n=tp(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=qu();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!s,{clickCount:i,clickBreadcrumb:a}=t;if(o){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:ue.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:i||1}};this._addBreadcrumbEvent(n,d);return}if(i>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:ue.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Ar(()=>this._checkClicks(),1e3)}}const Dw=["A","BUTTON","INPUT"];function $w(e,t){return!!(!Dw.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function Fw(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function qu(){return Date.now()/1e3}function Bw(e,t){try{if(!Hw(t))return;const{source:n}=t.data;if(Ow.has(n)&&e.registerMutation(t.timestamp),n===j.Scroll&&e.registerScroll(t.timestamp),Uw(t)){const{type:r,id:s}=t.data,o=gt.mirror.getNode(s);o instanceof HTMLElement&&r===Oe.Click&&e.registerClick(o)}}catch{}}function Hw(e){return e.type===Cw}function Uw(e){return e.data.source===j.MouseInteraction}function at(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Wa=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Wa||{});const Ww=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function zw(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(Ww.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const jw=e=>t=>{if(!e.isEnabled())return;const n=qw(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&(s!=null&&s.target)&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&Lw(e.clickDetector,n,np(t.event)),Or(e,n)};function sp(e,t){const n=gt.mirror.getId(e),r=n&&gt.mirror.getNode(n),s=r&&gt.mirror.getMeta(r),o=s&&Vw(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(i=>i.type===Wa.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:zw(o.attributes)}}:{}}}function qw(e){const{target:t,message:n}=Gw(e);return at({category:`ui.${e.name}`,...sp(t,n)})}function Gw(e){const t=e.name==="click";let n,r=null;try{r=t?np(e.event):rp(e.event),n=Ke(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function Vw(e){return e.type===Wa.Element}function Yw(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=Xw(t);n&&Or(e,n)}function Xw(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:i}=e;if(!i||Kw(i)||!o)return null;const a=t||r||s,c=o.length===1;if(!a&&c)return null;const u=Ke(i,{maxStringLength:200})||"<unknown>",d=sp(i,u);return at({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}function Kw(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const Jw={resource:nT,paint:eT,navigation:tT};function ei(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function Zw(e){return e.map(Qw).filter(Boolean)}function Qw(e){const t=Jw[e.entryType];return t?t(e):null}function zn(e){return(($e()||ue.performance.timeOrigin)+e)/1e3}function eT(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=zn(s);return{type:n,name:r,start:o,end:o+t,data:void 0}}function tT(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:p,startTime:f,transferSize:h,type:m}=e;return s===0?null:{type:`${t}.${m}`,start:zn(f),end:zn(o),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:i,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:o,redirectCount:p}}}function nT(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:zn(o),end:zn(s),name:r,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function rT(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return za(e,"largest-contentful-paint",n)}function sT(e){return e.sources!==void 0}function oT(e){const t=[],n=[];for(const r of e.entries)if(sT(r)){const s=[];for(const o of r.sources)if(o.node){n.push(o.node);const i=gt.mirror.getId(o.node);i&&s.push(i)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return za(e,"cumulative-layout-shift",n,t)}function iT(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return za(e,"interaction-to-next-paint",n)}function za(e,t,n,r){const s=e.value,o=e.rating,i=zn(s);return{type:"web-vital",name:t,start:i,end:i,data:{value:s,size:s,rating:o,nodeIds:n?n.map(a=>gt.mirror.getId(a)):void 0,attributions:r}}}function aT(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(an(s,n))}),r.push(Ra(ei(rT,e)),Ca(ei(oT,e)),mf(ei(iT,e))),()=>{r.forEach(s=>s())}}const B=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,cT='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function uT(){const e=new Blob([cT]);return URL.createObjectURL(e)}const Gu=["log","warn","error"],Ss="[Replay] ";function ti(e,t="info"){lt({category:"console",data:{logger:"replay"},level:t,message:`${Ss}${e}`},{level:t})}function lT(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return B?(Gu.forEach(r=>{n[r]=(...s)=>{_[r](Ss,...s),t&&ti(s.join(""),fa(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),_.error(Ss,r),e?on(r):t&&ti(r,"error")},n.infoTick=(...r)=>{_.log(Ss,...r),t&&setTimeout(()=>ti(r[0]),0)}):Gu.forEach(r=>{n[r]=()=>{}}),n}const H=lT();class ja extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Pa}.`)}}class op{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Pa)throw new ja;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Ua(t):null}}class dT{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){B&&H.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const i=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",i),!c.success){B&&H.error("Error in compression worker: ",c.response),o(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class fT{constructor(t){this._worker=new dT(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Ua(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Pa?Promise.reject(new ja):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{B&&H.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class pT{constructor(t){this._fallback=new op,this._compression=new fT(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){B&&H.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const o of t)s.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(o){B&&H.exception(o,"Failed to add events when switching buffers.")}}}function hT({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=mT(t);if(n)return n}return B&&H.log("Using simple buffer"),new op}function mT(e){try{const t=e||gT();if(!t)return;B&&H.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new pT(n)}catch(t){B&&H.exception(t,"Failed to create compression worker")}}function gT(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?uT():""}function qa(){try{return"sessionStorage"in ue&&!!ue.sessionStorage}catch{return!1}}function _T(e){yT(),e.session=void 0}function yT(){if(qa())try{ue.sessionStorage.removeItem(Oa)}catch{}}function ip(e){return e===void 0?!1:Math.random()<e}function Ga(e){if(qa())try{ue.sessionStorage.setItem(Oa,JSON.stringify(e))}catch{}}function ap(e){const t=Date.now(),n=e.id||De(),r=e.started||t,s=e.lastActivity||t,o=e.segmentId||0,i=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:o,sampled:i,previousSessionId:a}}function ST(e,t){return ip(e)?"session":t?"buffer":!1}function Vu({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=ST(e,t),o=ap({sampled:s,previousSessionId:r});return n&&Ga(o),o}function bT(){if(!qa())return null;try{const e=ue.sessionStorage.getItem(Oa);if(!e)return null;const t=JSON.parse(e);return B&&H.infoTick("Loading existing session"),ap(t)}catch{return null}}function Fi(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function cp(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Fi(e.started,t,r)||Fi(e.lastActivity,n,r)}function up(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!cp(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function ni({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&bT();return s?up(s,{sessionIdleExpire:e,maxReplayDuration:t})?(B&&H.infoTick("Session in sessionStorage is expired, creating new one..."),Vu(r,{previousSessionId:s.id})):s:(B&&H.infoTick("Creating new session"),Vu(r,{previousSessionId:n}))}function ET(e){return e.type===Y.Custom}function Va(e,t,n){return dp(e,t)?(lp(e,t,n),!0):!1}function vT(e,t,n){return dp(e,t)?lp(e,t,n):Promise.resolve(null)}async function lp(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=e.getOptions(),i=wT(t,o.beforeAddRecordingEvent);return i?await r.addEvent(i):void 0}catch(o){const i=o&&o instanceof ja,a=i?"addEventSizeExceeded":"addEvent";if(i&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:a});const c=x();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function dp(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Ua(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(B&&H.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function wT(e,t){try{if(typeof t=="function"&&ET(e))return t(e)}catch(n){return B&&H.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Ya(e){return!e.type}function Bi(e){return e.type==="transaction"}function TT(e){return e.type==="replay_event"}function Yu(e){return e.type==="feedback"}function IT(e){return(t,n)=>{if(!e.isEnabled()||!Ya(t)&&!Bi(t))return;const r=n==null?void 0:n.statusCode;if(!(!r||r<200||r>=300)){if(Bi(t)){kT(e,t);return}CT(e,t)}}}function kT(e,t){var r,s;const n=e.getContext();(s=(r=t.contexts)==null?void 0:r.trace)!=null&&s.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function CT(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Ar(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function RT(e){return t=>{!e.isEnabled()||!Ya(t)||xT(e,t)}}function xT(e,t){var r,s,o;const n=(o=(s=(r=t.exception)==null?void 0:r.values)==null?void 0:s[0])==null?void 0:o.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const i=at({category:"replay.hydrate-error",data:{url:un()}});Or(e,i)}}function MT(e){const t=x();t&&t.on("beforeAddBreadcrumb",n=>AT(e,n))}function AT(e,t){if(!e.isEnabled()||!fp(t))return;const n=NT(t);n&&Or(e,n)}function NT(e){return!fp(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?OT(e):at(e)}function OT(e){var s;const t=(s=e.data)==null?void 0:s.arguments;if(!Array.isArray(t)||t.length===0)return at(e);let n=!1;const r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Qr?(n=!0,`${o.slice(0,Qr)}…`):o;if(typeof o=="object")try{const i=Ue(o,7);return JSON.stringify(i).length>Qr?(n=!0,`${JSON.stringify(i,null,2).slice(0,Qr)}…`):i}catch{}return o});return at({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function fp(e){return!!e.category}function LT(e,t){var n,r,s;return e.type||!((r=(n=e.exception)==null?void 0:n.values)!=null&&r.length)?!1:!!((s=t.originalException)!=null&&s.__rrweb__)}function pp(){const e=G().getPropagationContext().dsc;e&&delete e.replay_id;const t=Se();if(t){const n=st(t);delete n.replay_id}}function PT(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function DT(e,t){return e.recordingMode!=="buffer"||t.message===La||!t.exception||t.type?!1:ip(e.getOptions().errorSampleRate)}function $T(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:TT(t)?(delete t.breadcrumbs,t):!Ya(t)&&!Bi(t)&&!Yu(t)?t:e.checkAndHandleExpiredSession()?Yu(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),PT(e,t),t):LT(t,n)&&!e.getOptions()._experiments.captureExceptions?(B&&H.log("Ignoring error from rrweb internals",t),null):((DT(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(pp(),t),{id:"Replay"})}function po(e,t){return t.map(({type:n,start:r,end:s,name:o,data:i})=>{const a=e.throttledAddEvent({type:Y.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function FT(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function BT(e){return t=>{if(!e.isEnabled())return;const n=FT(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(po(e,[n]),!1)))}}function HT(e,t){return B&&e.getOptions()._experiments.traceInternals?!1:Nd(t,x())}function hp(e,t){e.isEnabled()&&t!==null&&(HT(e,t.name)||e.addUpdate(()=>(po(e,[t]),!0)))}function ho(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=vf(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function mp(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Vs(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function gp(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:{method:o,statusCode:i,request:a,response:c}}}function pr(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Pt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=UT(n);return r.body=s,o!=null&&o.length&&(r._meta={warnings:o}),r}function Hi(e,t){return Object.entries(e).reduce((n,[r,s])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=s),n},{})}function UT(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Ru,n=WT(e);if(t){const r=e.slice(0,Ru);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function WT(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Ys(e,t){const n=zT(e);return nt(n,t)}function zT(e,t=ue.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(ue.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function jT(e,t,n){try{const r=await GT(e,t,n),s=gp("resource.fetch",r);hp(n.replay,s)}catch(r){B&&H.exception(r,"Failed to capture fetch breadcrumb")}}function qT(e,t){const{input:n,response:r}=t,s=n?Na(n):void 0,o=ho(s),i=r?mp(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}async function GT(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=Ys(i,n.networkDetailAllowUrls)&&!Ys(i,n.networkDetailDenyUrls),p=l?VT(n,t.input,u):pr(u),f=await YT(l,n,t.response,d);return{startTimestamp:s,endTimestamp:o,url:i,method:a,statusCode:c,request:p,response:f}}function VT({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?JT(n,t):{};if(!e)return Pt(s,r,void 0);const o=Na(n),[i,a]=Hs(o,H),c=Pt(s,r,i);return a?Vs(c,a):c}async function YT(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return pr(s);const o=r?_p(r.headers,n):{};if(!r||!t&&s!==void 0)return Pt(o,s,void 0);const[i,a]=await KT(r),c=XT(i,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:o});return a?Vs(c,a):c}function XT(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const o=e!=null&&e.length&&n===void 0?ho(e):n;return r?t?Pt(s,o,e):Pt(s,o,void 0):pr(o)}catch(o){return B&&H.exception(o,"Failed to serialize response body"),Pt(s,n,void 0)}}async function KT(e){const t=ZT(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await QT(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(B&&H.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(B&&H.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function _p(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function JT(e,t){return e.length===1&&typeof e[0]!="string"?Xu(e[0],t):e.length===2?Xu(e[1],t):{}}function Xu(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?_p(n,t):Array.isArray(n)?{}:Hi(n,t):{}}function ZT(e){try{return e.clone()}catch(t){B&&H.exception(t,"Failed to clone response body")}}function QT(e){return new Promise((t,n)=>{const r=Ar(()=>n(new Error("Timeout while trying to read response body")),500);eI(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function eI(e){return await e.text()}async function tI(e,t,n){try{const r=rI(e,t,n),s=gp("resource.xhr",r);hp(n.replay,s)}catch(r){B&&H.exception(r,"Failed to capture xhr breadcrumb")}}function nI(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=ho(r),o=n.getResponseHeader("content-length")?mp(n.getResponseHeader("content-length")):aI(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}function rI(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:i,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:p}=e.data;if(!c)return null;if(!a||!Ys(c,n.networkDetailAllowUrls)||Ys(c,n.networkDetailDenyUrls)){const b=pr(l),k=pr(p);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:b,response:k}}const f=a[ht],h=f?Hi(f.request_headers,n.networkRequestHeaders):{},m=Hi(sI(a),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?Hs(i,H):[void 0],[S,M]=n.networkCaptureBodies?oI(a):[void 0],I=Pt(h,l,g),R=Pt(m,p,S);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:y?Vs(I,y):I,response:M?Vs(R,M):R}}function sI(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return o&&(n[s.toLowerCase()]=o),n},{}):{}}function oI(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return iI(e.response,e.responseType)}catch(n){t.push(n)}return B&&H.warn("Failed to get xhr response body",...t),[void 0]}function iI(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return B&&H.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return B&&H.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function aI(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return ho(n)}catch{return}}function cI(e){const t=x();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i};t&&t.on("beforeAddBreadcrumb",(c,u)=>uI(a,c,u))}catch{}}function uI(e,t,n){if(t.data)try{lI(t)&&fI(n)&&(nI(t,n),tI(t,n,e)),dI(t)&&pI(n)&&(qT(t,n),jT(t,n,e))}catch(r){B&&H.exception(r,"Error when enriching network breadcrumb")}}function lI(e){return e.category==="xhr"}function dI(e){return e.category==="fetch"}function fI(e){return e==null?void 0:e.xhr}function pI(e){return e==null?void 0:e.response}function hI(e){const t=x();Ef(jw(e)),co(BT(e)),MT(e),cI(e);const n=$T(e);cg(n),t&&(t.on("beforeSendEvent",RT(e)),t.on("afterSendEvent",IT(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,s)=>{var i;const o=e.getSessionId();s!=null&&s.includeReplay&&e.isEnabled()&&o&&((i=r.contexts)!=null&&i.feedback)&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=o)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function mI(e){try{return Promise.all(po(e,[gI(ue.performance.memory)]))}catch{return[]}}function gI(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function _I(e,t,n){return Kg(e,t,{...n,setTimeoutImpl:Ar})}const Ve=W.navigator;function yI(){return/iPhone|iPad|iPod/i.test((Ve==null?void 0:Ve.userAgent)??"")||/Macintosh/i.test((Ve==null?void 0:Ve.userAgent)??"")&&(Ve!=null&&Ve.maxTouchPoints)&&(Ve==null?void 0:Ve.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function SI(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){B&&H.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&Bw(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!Va(e,n,s))return!0;if(!s)return!1;const o=e.session;if(EI(e,s),e.recordingMode==="buffer"&&o&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(B&&H.log(`Updating session start time to earliest event in buffer to ${new Date(i)}`),o.started=i,e.getOptions().stickySession&&Ga(o))}return o!=null&&o.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function bI(e){const t=e.getOptions();return{type:Y.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function EI(e,t){!t||!e.session||e.session.segmentId!==0||Va(e,bI(e),!1)}function vI(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function wI(e,t,n,r){return kt(ud(e,ra(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function TI({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function II({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:s};e.emit("preprocessEvent",r,o);const i=await hd(e.getOptions(),r,o,t,e,Ie());if(!i)return null;e.emit("postprocessEvent",i,o),i.platform=i.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u,settings:d}=(a==null?void 0:a.sdk)||{};return i.sdk={...i.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0",settings:d},i}async function kI({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const i=TI({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=x(),p=G(),f=l==null?void 0:l.getTransport(),h=l==null?void 0:l.getDsn();if(!l||!f||!h||!o.sampled)return wt({});const m={type:n0,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},g=await II({scope:p,client:l,replayId:t,event:m});if(!g)return l.recordDroppedEvent("event_processor","replay"),B&&H.log("An event processor returned `null`, will not send event."),wt({});delete g.sdkProcessingMetadata;const y=wI(g,i,h,l.getOptions().tunnel);let S;try{S=await f.send(y)}catch(I){const R=new Error(La);try{R.cause=I}catch{}throw R}if(typeof S.statusCode=="number"&&(S.statusCode<200||S.statusCode>=300))throw new yp(S.statusCode);const M=xd({},S);if(Rd(M,"replay"))throw new Xa(M);return S}class yp extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Xa extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function Sp(e,t={count:0,interval:c0}){const{recordingData:n,onError:r}=e;if(n.length)try{return await kI(e),!0}catch(s){if(s instanceof yp||s instanceof Xa)throw s;if(md("Replays",{_retryCount:t.count}),r&&r(s),t.count>=u0){const o=new Error(`${La} - max retries exceeded`);try{o.cause=s}catch{}throw o}return t.interval*=++t.count,new Promise((o,i)=>{Ar(async()=>{try{await Sp(e,t),o(!0)}catch(a){i(a)}},t.interval)})}}const bp="__THROTTLED",CI="__SKIPPED";function RI(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},o=()=>[...r.values()].reduce((a,c)=>a+c,0);let i=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),o()>=t){const d=i;return i=!0,d?CI:bp}i=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class xI{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:r0,sessionIdleExpire:s0},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=_I(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=RI((i,a)=>vT(this,i,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),o=r?{threshold:Math.min(l0,r),timeout:r,scrollTimeout:d0,ignoreSelector:s?s.join(","):""}:void 0;if(o&&(this.clickDetector=new Pw(this,o)),B){const i=t._experiments;H.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}this._handleVisibilityChange=()=>{ue.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const i=at({category:"ui.blur"});this._doChangeToBackgroundTasks(i)},this._handleWindowFocus=()=>{const i=at({category:"ui.focus"});this._doChangeToForegroundTasks(i)},this._handleKeyboardEvent=i=>{Yw(this,i)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){B&&H.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){B&&H.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",B&&H.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){B&&H.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){B&&H.log("Buffering is in progress, call `flush()` to save the replay");return}B&&H.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=ni({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){B&&H.log("Buffering is in progress, call `flush()` to save the replay");return}B&&H.infoTick("Starting replay in buffer mode");const t=ni({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=gt({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:a0}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:SI(this),...yI(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{B&&H.log(`Stopping Replay${n?` triggered by ${n}`:""}`),pp(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,_T(this)}catch(s){this.handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),B&&H.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),B&&H.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();B&&H.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){var t;return(t=this.session)==null?void 0:t.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Fi(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${ue.location.pathname}${ue.location.hash}${ue.location.search}`,n=`${ue.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===bp){const s=at({category:"replay.throttled"});this.addUpdate(()=>!Va(this,{type:Rw,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||Se(),n=t&&Ee(t),s=(n&&$(n).data||{})[fe];if(!(!n||!s||!["route","custom"].includes(s)))return $(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=hT({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=ni({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return up(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{ue.document.addEventListener("visibilitychange",this._handleVisibilityChange),ue.addEventListener("blur",this._handleWindowBlur),ue.addEventListener("focus",this._handleWindowFocus),ue.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(hI(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=aT(this)}_removeListeners(){try{ue.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ue.removeEventListener("blur",this._handleWindowBlur),ue.removeEventListener("focus",this._handleWindowFocus),ue.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||cp(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){B&&H.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=Zw(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(po(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){B&&H.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await mI(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const s=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await Sp({replayId:t,recordingData:i,segmentId:o,eventContext:s,session:this.session,timestamp:r,onError:a=>this.handleException(a)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const s=x();if(s){const o=r instanceof Xa?"ratelimit_backoff":"send_error";s.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){B&&H.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration,i=s>this._options.maxReplayDuration+5e3;if(o||i){B&&H.log(`Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&B&&H.log("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Ga(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n!=null&&n.length&&t.some(a=>{const c=vI(a.target),u=n.join(",");return c==null?void 0:c.matches(u)}))return!1;const r=t.length,s=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,i=s&&r>s;if(r>o||i){const a=at({category:"replay.mutations",data:{count:r,limit:i}});this._createCustomBreadcrumb(a)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function tr(e,t){return[...e,...t].join(",")}function MI({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const o=["base","iframe[srcdoc]:not([src])"],i=tr(e,[".sentry-mask","[data-sentry-mask]"]),a=tr(t,[]);return{maskTextSelector:i,unmaskTextSelector:a,blockSelector:tr(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:tr(r,[]),ignoreSelector:tr(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function AI({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const Ku='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',NI=["content-length","content-type","accept"];let Ju=!1;const yC=e=>new OI(e);class OI{constructor({flushMinDelay:t=o0,flushMaxDelay:n=i0,minReplayDuration:r=f0,maxReplayDuration:s=xu,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:p=750,mutationLimit:f=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:g=[],networkDetailDenyUrls:y=[],networkCaptureBodies:S=!0,networkRequestHeaders:M=[],networkResponseHeaders:I=[],mask:R=[],maskAttributes:b=["title","placeholder","aria-label"],unmask:k=[],block:N=[],unblock:E=[],ignore:T=[],maskFn:P,beforeAddRecordingEvent:v,beforeErrorSampling:O,onError:q}={}){this.name="Replay";const L=MI({mask:R,unmask:k,block:N,unblock:E,ignore:T});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:P,maskInputFn:P,maskAttributeFn:(z,w,F)=>AI({maskAttributes:b,maskAllText:u,privacyOptions:L,key:z,value:w,el:F}),...L,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:z=>{try{z.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,p0),maxReplayDuration:Math.min(s,xu),stickySession:o,useCompression:i,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:p,mutationLimit:f,slowClickTimeout:h,slowClickIgnoreSelectors:m,networkDetailAllowUrls:g,networkDetailDenyUrls:y,networkCaptureBodies:S,networkRequestHeaders:Zu(M),networkResponseHeaders:Zu(I),beforeAddRecordingEvent:v,beforeErrorSampling:O,onError:q,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Ku}`:Ku),this._isInitialized&&Ei())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Ju}set _isInitialized(t){Ju=t}afterAllSetup(t){!Ei()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.getSessionId()}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=LI(this._initialOptions,t);this._replay=new xI({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function LI(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},s=rn(n.replaysSessionSampleRate),o=rn(n.replaysOnErrorSampleRate);return s==null&&o==null&&Wt(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),o!=null&&(r.errorSampleRate=o),r}function Zu(e){return[...NI,...e.map(t=>t.toLowerCase())]}function SC(){const e=x();return e==null?void 0:e.getIntegrationByName("Replay")}var PI=Object.defineProperty,DI=(e,t,n)=>t in e?PI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qu=(e,t,n)=>DI(e,typeof t!="symbol"?t+"":t,n);class $I{constructor(){Qu(this,"idNodeMap",new Map),Qu(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function FI(){return new $I}function BI(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Ui(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Ui(e.parentNode,t,n,r+1)}function el(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(BI(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const yn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let tl={map:{},getId(){return console.error(yn),-1},getNode(){return console.error(yn),null},removeNodeFromMap(){console.error(yn)},has(){return console.error(yn),!1},reset(){console.error(yn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(tl=new Proxy(tl,{get(e,t,n){return t==="map"&&console.error(yn),Reflect.get(e,t,n)}}));function Ka(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){vp(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>Ka(e,t,o||{},!0)}function Ja(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}Date.now().toString();function HI(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function mo(e,t,n,r,s){if(!e)return!1;const o=HI(e);if(!o)return!1;const i=el(t,n),a=Ui(o,i);let c=-1;return a<0?!1:(r&&(c=Ui(o,el(null,r))),a>-1&&c<0?!0:a<c)}const nl={};function Ep(e){const t=nl[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return nl[e]=r.bind(window)}function Vt(...e){return Ep("requestAnimationFrame")(...e)}function vp(...e){return Ep("setTimeout")(...e)}var jn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(jn||{});let bs;function UI(e){bs=e}const ri=e=>bs?(...n)=>{try{return e(...n)}catch(r){if(bs&&bs(r)===!0)return()=>{};throw r}}:e;var Tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",WI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rs=0;rs<Tn.length;rs++)WI[Tn.charCodeAt(rs)]=rs;var zI=function(e){var t=new Uint8Array(e),n,r=t.length,s="";for(n=0;n<r;n+=3)s+=Tn[t[n]>>2],s+=Tn[(t[n]&3)<<4|t[n+1]>>4],s+=Tn[(t[n+1]&15)<<2|t[n+2]>>6],s+=Tn[t[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};const rl=new Map;function jI(e,t){let n=rl.get(e);return n||(n=new Map,rl.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const wp=(e,t,n)=>{if(!e||!(Ip(e,t)||typeof e=="object"))return;const r=e.constructor.name,s=jI(n,r);let o=s.indexOf(e);return o===-1&&(o=s.length,s.push(e)),o};function Es(e,t,n){if(e instanceof Array)return e.map(r=>Es(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,s=zI(e);return{rr_type:r,base64:s}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[Es(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:s}=e;return{rr_type:r,src:s}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",s=e.toDataURL();return{rr_type:r,src:s}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[Es(e.data,t,n),e.width,e.height]};if(Ip(e,t)||typeof e=="object"){const r=e.constructor.name,s=wp(e,t,n);return{rr_type:r,index:s}}}}return e}const Tp=(e,t,n)=>e.map(r=>Es(r,t,n)),Ip=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof t[s]=="function").find(s=>e instanceof t[s]);function qI(e,t,n,r,s){const o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=Ja(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return mo(this.canvas,n,r,s,!0)||vp(()=>{const l=Tp(d,t,this);e(this.canvas,{type:jn["2D"],property:a,args:l})},0),u.apply(this,d)}});o.push(c)}catch{const c=Ka(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:jn["2D"],property:a,args:[u],setter:!0})}});o.push(c)}return()=>{o.forEach(a=>a())}}function GI(e){return e==="experimental-webgl"?"webgl":e}function sl(e,t,n,r,s){const o=[];try{const i=Ja(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!mo(this,t,n,r,!0)){const d=GI(c);if("__context"in this||(this.__context=d),s&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){const l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});o.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach(i=>i())}}function ol(e,t,n,r,s,o,i,a){const c=[],u=Object.getOwnPropertyNames(e);for(const d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;const l=Ja(e,d,function(p){return function(...f){const h=p.apply(this,f);if(wp(h,a,this),"tagName"in this.canvas&&!mo(this.canvas,r,s,o,!0)){const m=Tp(f,a,this),g={type:t,property:d,args:m};n(this.canvas,g)}return h}});c.push(l)}catch{const l=Ka(e,d,{set(p){n(this.canvas,{type:t,property:d,args:[p],setter:!0})}});c.push(l)}return c}function VI(e,t,n,r,s,o){const i=[];return i.push(...ol(t.WebGLRenderingContext.prototype,jn.WebGL,e,n,r,s,o,t)),typeof t.WebGL2RenderingContext<"u"&&i.push(...ol(t.WebGL2RenderingContext.prototype,jn.WebGL2,e,n,r,s,o,t)),()=>{i.forEach(a=>a())}}const YI='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w?.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function XI(){const e=new Blob([YI]);return URL.createObjectURL(e)}class KI{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(a,c)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(a)||this.pendingCanvasMutations.set(a,[]),this.pendingCanvasMutations.get(a).push(c)};const{enableManualSnapshot:n,sampling:r="all",win:s,recordCanvas:o,errorHandler:i}=t;t.sampling=r,this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,i&&UI(i),(o&&typeof r=="number"||n)&&(this.worker=this.initFPSWorker()),this.addWindow(s),!n&&ri(()=>{o&&r==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),o&&typeof r=="number"&&this.initCanvasFPSObserver()})()}reset(){var t;this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(n=>{try{n()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,(t=this.worker)==null||t.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(t){const{sampling:n="all",blockClass:r,blockSelector:s,unblockSelector:o,recordCanvas:i,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}ri(()=>{if(i&&n==="all"&&this.initCanvasMutationObserver(t,r,s,o),i&&typeof n=="number"){const c=sl(t,r,s,o,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}snapshot(t,n){if(n!=null&&n.skipRequestAnimationFrame){this.takeSnapshot(performance.now(),!0,t);return}Vt(r=>this.takeSnapshot(r,!0,t))}initFPSWorker(){const t=new Worker(XI());return t.onmessage=n=>{const r=n.data,{id:s}=r;if(this.snapshotInProgressMap.set(s,!1),!("base64"in r))return;const{base64:o,type:i,width:a,height:c}=r;this.mutationCb({id:s,type:jn["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:o}],type:i}]},0,0,a,c]}]})},t}initCanvasFPSObserver(){let t;if(!this.windows.length&&!this.shadowDoms.size)return;const n=r=>{this.takeSnapshot(r,!1),t=Vt(n)};t=Vt(n),this.restoreHandlers.push(()=>{t&&cancelAnimationFrame(t)})}initCanvasMutationObserver(t,n,r,s){const o=sl(t,n,r,s,!1),i=qI(this.processMutation.bind(this),t,n,r,s),a=VI(this.processMutation.bind(this),t,n,r,s,this.mirror);this.restoreHandlers.push(()=>{o(),i(),a()})}getCanvasElements(t,n,r){const s=[],o=i=>{i.querySelectorAll("canvas").forEach(a=>{mo(a,t,n,r)||s.push(a)})};for(const i of this.windows){const a=i.deref();let c;try{c=a&&a.document}catch{}c&&o(c)}for(const i of this.shadowDoms){const a=i.deref();a&&o(a)}return s}takeSnapshot(t,n,r){const{sampling:s,blockClass:o,blockSelector:i,unblockSelector:a,dataURLOptions:c,maxCanvasSize:u}=this.options,l=1e3/(s==="all"?2:s||2);return this.lastSnapshotTime&&t-this.lastSnapshotTime<l?!1:(this.lastSnapshotTime=t,(r?[r]:this.getCanvasElements(o,i,a)).forEach(h=>{var g;const m=this.mirror.getId(h);if(!(!this.mirror.hasNode(h)||!h.width||!h.height||this.snapshotInProgressMap.get(m))){if(this.snapshotInProgressMap.set(m,!0),!n&&["webgl","webgl2"].includes(h.__context)){const y=h.getContext(h.__context);((g=y==null?void 0:y.getContextAttributes())==null?void 0:g.preserveDrawingBuffer)===!1&&y.clear(y.COLOR_BUFFER_BIT)}createImageBitmap(h).then(y=>{var S;(S=this.worker)==null||S.postMessage({id:m,bitmap:y,width:h.width,height:h.height,dataURLOptions:c,maxCanvasSize:u},[y])}).catch(y=>{ri(()=>{throw this.snapshotInProgressMap.delete(m),y})()})}}),!0)}startPendingCanvasMutationFlusher(){Vt(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,Vt(t)};Vt(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Vt(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const s=r.map(i=>{const{type:a,...c}=i;return c}),{type:o}=r[0];this.mutationCb({id:n,type:o,commands:s}),this.pendingCanvasMutations.delete(t)}}var kl;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((kl=e.contentWindow)==null?void 0:kl.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}FI();var il;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(il||(il={}));const al={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},JI="ReplayCanvas",ss=1280,ZI=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,ss):ss,n?Math.min(n,ss):ss]};let s;const o=new Promise(i=>s=i);return{name:JI,getOptions(){const{quality:i,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const d=new KI({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return s(d),d},...al[i]||al.medium}},async snapshot(i,a){(await o).snapshot(i,a)}}},bC=ZI;function it(e=0){return(($e()||performance.timeOrigin)+e)/1e3}function QI(e){const t=[];if(e.nextHopProtocol!=null){const{name:n,version:r}=yf(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return $e()?[...t,["http.request.redirect_start",it(e.redirectStart)],["http.request.fetch_start",it(e.fetchStart)],["http.request.domain_lookup_start",it(e.domainLookupStart)],["http.request.domain_lookup_end",it(e.domainLookupEnd)],["http.request.connect_start",it(e.connectStart)],["http.request.secure_connection_start",it(e.secureConnectionStart)],["http.request.connection_end",it(e.connectEnd)],["http.request.request_start",it(e.requestStart)],["http.request.response_start",it(e.responseStart)],["http.request.response_end",it(e.responseEnd)]]:t}const cl=new WeakMap,si=new Map,kp={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function e1(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:o,enableHTTPTimings:i,tracePropagationTargets:a,onRequestSpanStart:c}={...kp,...t},u=typeof o=="function"?o:f=>!0,d=f=>n1(f,a),l={},p=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(h=>{if(h.op==="http.client"){const m=si.get(h.span_id);m&&(h.timestamp=m/1e3,si.delete(h.span_id))}}),f)),s&&yy(f=>{if(f.response){const h=cl.get(f.response);h&&f.endTimestamp&&si.set(h,f.endTimestamp)}}),pa(f=>{const h=oy(f,u,d,l,{propagateTraceparent:p});if(f.response&&f.fetchData.__span&&cl.set(f.response,f.fetchData.__span),h){const m=Cp(f.fetchData.url),g=m?tn(m).host:void 0;h.setAttributes({"http.url":m,"server.address":g}),i&&ul(h),c==null||c(h,{headers:f.headers})}})),r&&Aa(f=>{var m;const h=r1(f,u,d,l,p);if(h){i&&ul(h);let g;try{g=new Headers((m=f.xhr.__sentry_xhr_v3__)==null?void 0:m.request_headers)}catch{}c==null||c(h,{headers:g})}})}function t1(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function ul(e){const{url:t}=$(e).data;if(!t||typeof t!="string")return;const n=an("resource",({entries:r})=>{r.forEach(s=>{t1(s)&&s.name.endsWith(t)&&(QI(s).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function n1(e,t){const n=un();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const o=r.origin===s;return t?nt(r.toString(),t)||o&&nt(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?nt(e,t):r}}function r1(e,t,n,r,s){const o=e.xhr,i=o==null?void 0:o[ht];if(!o||o.__sentry_own_request__||!i)return;const{url:a,method:c}=i,u=Bt()&&t(a);if(e.endTimestamp&&u){const g=o.__sentry_xhr_span_id__;if(!g)return;const y=r[g];y&&i.status_code!==void 0&&(Cs(y,i.status_code),y.end(),delete r[g]);return}const d=Cp(a),l=tn(d||a),p=Ad(a),f=!!Se(),h=u&&f?rt({name:`${c} ${p}`,attributes:{url:a,type:"xhr","http.method":c,"http.url":d,"server.address":l==null?void 0:l.host,[Q]:"auto.http.browser",[ve]:"http.client",...(l==null?void 0:l.search)&&{"http.query":l==null?void 0:l.search},...(l==null?void 0:l.hash)&&{"http.fragment":l==null?void 0:l.hash}}}):new vt;o.__sentry_xhr_span_id__=h.spanContext().spanId,r[o.__sentry_xhr_span_id__]=h,n(a)&&s1(o,Bt()&&f?h:void 0,s);const m=x();return m&&m.emit("beforeOutgoingRequestSpan",h,e),h}function s1(e,t,n){const{"sentry-trace":r,baggage:s,traceparent:o}=Ld({span:t,propagateTraceparent:n});r&&o1(e,r,s,o)}function o1(e,t,n,r){var o;const s=(o=e.__sentry_xhr_v3__)==null?void 0:o.request_headers;if(!(s!=null&&s["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!(s!=null&&s.traceparent)&&e.setRequestHeader("traceparent",r),n){const i=s==null?void 0:s.baggage;(!i||!i1(i))&&e.setRequestHeader("baggage",n)}}catch{}}function i1(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function Cp(e){try{return new URL(e,A.location.origin).href}catch{return}}function a1(){A.document?A.document.addEventListener("visibilitychange",()=>{const e=Se();if(!e)return;const t=Ee(e);if(A.document.hidden&&t){const n="cancelled",{op:r,status:s}=$(t);K&&_.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:ge,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):K&&_.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const c1=3600,Rp="sentry_previous_trace",u1="sentry.previous_trace";function l1(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?p1():void 0;e.on("spanStart",i=>{if(Ee(i)!==i)return;const a=G().getPropagationContext();s=d1(s,i,a),r&&f1(s)});let o=!0;n&&e.on("beforeSampling",i=>{if(!s)return;const a=G(),c=a.getPropagationContext();if(o&&c.parentSpanId){o=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(s.sampleRate),sampled:String(Wi(s.spanContext))},sampleRand:s.sampleRand}),i.parentSampled=Wi(s.spanContext),i.parentSampleRate=s.sampleRate,i.spanAttributes={...i.spanAttributes,[zl]:s.sampleRate}})}function d1(e,t,n){const r=$(t);function s(){var a,c;try{return Number((a=n.dsc)==null?void 0:a.sample_rate)??Number((c=r.data)==null?void 0:c[Ki])}catch{return 0}}const o={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return o;const i=e.spanContext;return i.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=c1&&(K&&_.log(`Adding previous_trace ${i} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:i,attributes:{[zh]:"previous_trace"}}),t.setAttribute(u1,`${i.traceId}-${i.spanId}-${Wi(i)?1:0}`)),o)}function f1(e){try{A.sessionStorage.setItem(Rp,JSON.stringify(e))}catch(t){K&&_.warn("Could not store previous trace in sessionStorage",t)}}function p1(){var e;try{const t=(e=A.sessionStorage)==null?void 0:e.getItem(Rp);return JSON.parse(t)}catch{return}}function Wi(e){return e.traceFlags===1}const h1="BrowserTracing",m1={...us,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...kp},Lr=(e={})=>{const t={name:void 0,source:void 0},n=A.document,{enableInp:r,enableElementTiming:s,enableLongTask:o,enableLongAnimationFrame:i,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:p,childSpanTimeout:f,markBackgroundSpan:h,traceFetch:m,traceXHR:g,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:S,enableHTTPTimings:M,ignoreResourceSpans:I,ignorePerformanceApiSpans:R,instrumentPageLoad:b,instrumentNavigation:k,detectRedirects:N,linkPreviousTrace:E,consistentTraceSampling:T,onRequestSpanStart:P}={...m1,...e};let v,O;function q(L,z,w=!0){const F=z.op==="pageload",D=z.name,V=d?d(z):z,ne=V.attributes||{};if(D!==V.name&&(ne[fe]="custom",V.attributes=ne),!w){const we=ln();rt({...V,startTime:we}).end(we);return}t.name=V.name,t.source=ne[fe];const ye=fd(V,{idleTimeout:l,finalTimeout:p,childSpanTimeout:f,disableAutoFinish:F,beforeSpanEnd:we=>{v==null||v(),Kb(we,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:I,ignorePerformanceApiSpans:R}),dl(L,void 0);const Ct=G(),Gt=Ct.getPropagationContext();Ct.setPropagationContext({...Gt,traceId:ye.spanContext().traceId,sampled:fn(ye),dsc:st(we)})}});dl(L,ye);function xe(){n&&["interactive","complete"].includes(n.readyState)&&L.emit("idleSpanEnableAutoFinish",ye)}F&&n&&(n.addEventListener("readystatechange",()=>{xe()}),xe())}return{name:h1,setup(L){if(um(),v=zb({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:L}),r&&yE(),s&&iE(),i&&W.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?qb():o&&jb(),a&&Gb(),N&&n){const w=()=>{O=pe()};addEventListener("click",w,{capture:!0}),addEventListener("keydown",w,{capture:!0,passive:!0})}function z(){const w=hr(L);w&&!$(w).timestamp&&(K&&_.log(`[Tracing] Finishing current active span with op: ${$(w).op}`),w.setAttribute(ks,"cancelled"),w.end())}L.on("startNavigationSpan",(w,F)=>{if(x()!==L)return;if(F!=null&&F.isRedirect){K&&_.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),q(L,{op:"navigation.redirect",...w},!1);return}O=void 0,z(),Ie().setPropagationContext({traceId:Et(),sampleRand:Math.random()});const D=G();D.setPropagationContext({traceId:Et(),sampleRand:Math.random()}),D.setSDKProcessingMetadata({normalizedRequest:void 0}),q(L,{op:"navigation",...w})}),L.on("startPageLoadSpan",(w,F={})=>{if(x()!==L)return;z();const D=F.sentryTrace||ll("sentry-trace"),V=F.baggage||ll("baggage"),ne=Ql(D,V),ye=G();ye.setPropagationContext(ne),ye.setSDKProcessingMetadata({normalizedRequest:Sa()}),q(L,{op:"pageload",...w})})},afterAllSetup(L){let z=un();if(E!=="off"&&l1(L,{linkPreviousTrace:E,consistentTraceSampling:T}),A.location){if(b){const w=$e();Pr(L,{name:A.location.pathname,startTime:w?w/1e3:void 0,attributes:{[fe]:"url",[Q]:"auto.pageload.browser"}})}k&&co(({to:w,from:F})=>{if(F===void 0&&(z==null?void 0:z.indexOf(w))!==-1){z=void 0;return}z=void 0;const D=la(w),V=hr(L),ne=V&&N&&_1(V,O);Dr(L,{name:(D==null?void 0:D.pathname)||A.location.pathname,attributes:{[fe]:"url",[Q]:"auto.navigation.browser"}},{url:w,isRedirect:ne})})}h&&a1(),a&&g1(L,l,p,f,t),r&&EE(),e1(L,{traceFetch:m,traceXHR:g,trackFetchStreamPerformance:y,tracePropagationTargets:L.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:S,enableHTTPTimings:M,onRequestSpanStart:P})}}};function Pr(e,t,n){e.emit("startPageLoadSpan",t,n),G().setTransactionName(t.name);const r=hr(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function Dr(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const o=G();return o.setTransactionName(t.name),r&&!s&&o.setSDKProcessingMetadata({normalizedRequest:{...Sa(),url:r}}),hr(e)}function ll(e){const t=A.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function g1(e,t,n,r,s){const o=A.document;let i;const a=()=>{const c="ui.action.click",u=hr(e);if(u){const d=$(u).op;if(["navigation","pageload"].includes(d)){K&&_.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(ks,"interactionInterrupted"),i.end(),i=void 0),!s.name){K&&_.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}i=fd({name:s.name,op:c,attributes:{[fe]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};o&&addEventListener("click",a,{capture:!0})}const xp="_sentry_idleSpan";function hr(e){return e[xp]}function dl(e,t){Re(e,xp,t)}const fl=1.5;function _1(e,t){const n=$(e),r=ln(),s=n.start_timestamp;return!(r-s>fl||t&&r-t<=fl)}function qn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function y1(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=qn(n);return s=>r.then(o=>s(o.transaction(t,"readwrite").objectStore(t)))}function Za(e){return qn(e.getAllKeys())}function S1(e,t,n){return e(r=>Za(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.max(...s,0)+1),qn(r.transaction)}))}function b1(e,t,n){return e(r=>Za(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.min(...s,0)-1),qn(r.transaction)}))}function E1(e){return e(t=>Za(t).then(n=>{const r=n[0];if(r!=null)return qn(t.get(r)).then(s=>(t.delete(r),qn(t.transaction).then(()=>s)))}))}function v1(e){let t;function n(){return t==null&&(t=y1(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{const s=await Ms(r);await S1(n(),s,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{const s=await Ms(r);await b1(n(),s,e.maxQueueSize||30)}catch{}},shift:async()=>{try{const r=await E1(n());if(r)return ym(r)}catch{}}}}function w1(e){return t=>{const n=e({...t,createStore:v1});return A.addEventListener("online",async r=>{await n.flush()}),n}}function EC(e=wf){return w1(Fg(e))}const pl=1e6,vs=String(0),T1="main",Ye=A.navigator;let Mp="",Ap="",Np="",zi=(Ye==null?void 0:Ye.userAgent)||"",Op="";var Cl;const I1=(Ye==null?void 0:Ye.language)||((Cl=Ye==null?void 0:Ye.languages)==null?void 0:Cl[0])||"";function k1(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const hl=Ye==null?void 0:Ye.userAgentData;k1(hl)&&hl.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{var t;if(Mp=e.platform||"",Np=e.architecture||"",Op=e.model||"",Ap=e.platformVersion||"",(t=e.fullVersionList)!=null&&t.length){const n=e.fullVersionList[e.fullVersionList.length-1];zi=`${n.brand} ${n.version}`}}).catch(e=>{});function C1(e){return!("thread_metadata"in e)}function R1(e){return C1(e)?A1(e):e}function x1(e){var n,r;const t=(r=(n=e.contexts)==null?void 0:n.trace)==null?void 0:r.trace_id;return typeof t=="string"&&t.length!==32&&K&&_.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function M1(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=x1(r),o=R1(n),i=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:pe()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:pe()*1e3;return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Qs,runtime:{name:"javascript",version:A.navigator.userAgent},os:{name:Mp,version:Ap,build_number:zi},device:{locale:I1,model:Op,manufacturer:zi,architecture:Np,is_emulator:!1},debug_meta:{images:L1(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||De(),trace_id:s,active_thread_id:vs,relative_start_ns:"0",relative_end_ns:((a-i)*1e6).toFixed(0)}]}}function Lp(e){return $(e).op==="pageload"}function A1(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[vs]:{name:T1}}},s=e.samples[0];if(!s)return r;const o=s.timestamp,i=$e(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:i||0,c=a-(i||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-o)*pl).toFixed(0),stack_id:t,thread_id:vs};return}let l=e.stacks[u.stackId];const p=[];for(;l;){p.push(l.frameId);const h=e.frames[l.frameId];h&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:h.name,abs_path:typeof h.resourceId=="number"?e.resources[h.resourceId]:void 0,lineno:h.line,colno:h.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}const f={elapsed_since_start_ns:((u.timestamp+c-o)*pl).toFixed(0),stack_id:n,thread_id:vs};r.stacks[n]=p,r.samples[d]=f,n++}),r}function N1(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function O1(e){const t=[];return sn(e,(n,r)=>{var s,o;if(r==="transaction")for(let i=1;i<n.length;i++){const a=n[i];(o=(s=a==null?void 0:a.contexts)==null?void 0:s.profile)!=null&&o.profile_id&&t.push(n[i])}}),t}function L1(e){const t=x(),n=t==null?void 0:t.getOptions(),r=n==null?void 0:n.stackParser;return r?Xm(r,e):[]}function P1(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(K&&_.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(K&&_.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function D1(e){return e.samples.length<2?(K&&_.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(K&&_.log("[Profiling] Discarding profile because it contains no frames"),!1)}let Pp=!1;const Dp=3e4;function $1(e){return typeof e=="function"}function F1(){const e=A.Profiler;if(!$1(e)){K&&_.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(Dp/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{K&&(_.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),_.log("[Profiling] Disabling profiling for current user session.")),Pp=!0}}function ml(e){if(Pp)return K&&_.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return K&&_.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=x(),n=t==null?void 0:t.getOptions();if(!n)return K&&_.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return P1(r)?r?(r===!0?!0:Math.random()<r)?!0:(K&&_.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(K&&_.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(K&&_.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function B1(e,t,n,r){return D1(n)?M1(e,t,n,r):null}const Zt=new Map;function H1(){return Zt.size}function U1(e){const t=Zt.get(e);return t&&Zt.delete(e),t}function W1(e,t){if(Zt.set(e,t),Zt.size>30){const n=Zt.keys().next().value;Zt.delete(n)}}function gl(e){let t;Lp(e)&&(t=pe()*1e3);const n=F1();if(!n)return;K&&_.log(`[Profiling] started profiling span: ${$(e).description}`);const r=De();G().setContext("profile",{profile_id:r,start_timestamp:t});async function s(){if(e&&n)return n.stop().then(c=>{if(o&&(A.clearTimeout(o),o=void 0),K&&_.log(`[Profiling] stopped profiling of span: ${$(e).description}`),!c){K&&_.log(`[Profiling] profiler returned null profile for: ${$(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}W1(r,c)}).catch(c=>{K&&_.log("[Profiling] error while stopping profiler:",c)})}let o=A.setTimeout(()=>{K&&_.log("[Profiling] max profile duration elapsed, stopping profiling for:",$(e).description),s()},Dp);const i=e.end.bind(e);function a(){return e?(s().then(()=>{i()},()=>{i()}),e):i()}e.end=a}const z1="BrowserProfiling",j1=()=>({name:z1,setup(e){const t=Se(),n=t&&Ee(t);n&&Lp(n)&&ml(n)&&gl(n),e.on("spanStart",r=>{r===Ee(r)&&ml(r)&&gl(r)}),e.on("beforeEnvelope",r=>{var i,a;if(!H1())return;const s=O1(r);if(!s.length)return;const o=[];for(const c of s){const u=c==null?void 0:c.contexts,d=(i=u==null?void 0:u.profile)==null?void 0:i.profile_id,l=(a=u==null?void 0:u.profile)==null?void 0:a.start_timestamp;if(typeof d!="string"){K&&_.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!d){K&&_.log("[Profiling] cannot find profile for a span without a profile context");continue}u!=null&&u.profile&&delete u.profile;const p=U1(d);if(!p){K&&_.log(`[Profiling] Could not retrieve profile for span: ${d}`);continue}const f=B1(d,l,p,c);f&&o.push(f)}N1(r,o)})}}),vC=j1,q1="SpotlightBrowser",G1=(e={})=>{const t=e.sidecarUrl||"http://localhost:8969/stream";return{name:q1,setup:()=>{K&&_.log("Using Sidecar URL",t)},processEvent:n=>Y1(n)?null:n,afterAllSetup:n=>{V1(n,t)}}};function V1(e,t){const n=Ma("fetch");let r=0;e.on("beforeEnvelope",s=>{if(r>3){_.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:Ms(s),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(o=>{o.status>=200&&o.status<400&&(r=0)},o=>{r++,_.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",o)})})}const wC=G1;function Y1(e){var t;return!!(e.type==="transaction"&&e.spans&&((t=e.contexts)!=null&&t.trace)&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:n})=>n==null?void 0:n.includes("#sentry-spotlight")))}const TC=()=>({name:"LaunchDarkly",processEvent(e,t,n){return Tr(e)}});function IC(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{On(e,t.value),Ln(e,t.value)}}}const kC=()=>({name:"OpenFeature",processEvent(e,t,n){return Tr(e)}});class CC{after(t,n){On(n.flagKey,n.value),Ln(n.flagKey,n.value)}error(t,n,r){On(t.flagKey,t.defaultValue),Ln(t.flagKey,t.defaultValue)}}const RC=({featureFlagClientClass:e})=>({name:"Unleash",setupOnce(){const t=e.prototype;Pe(t,"isEnabled",X1)},processEvent(t,n,r){return Tr(t)}});function X1(e){return function(...t){const n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?(On(n,r),Ln(n,r)):K&&_.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}const xC=({featureFlagClient:e})=>({name:"Statsig",setup(t){e.on("gate_evaluation",n=>{On(n.gate.name,n.gate.value),Ln(n.gate.name,n.gate.value)})},processEvent(t,n,r){return Tr(t)}});async function MC(){const e=x();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await Pm(()=>fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"}))}catch{return"sentry-unreachable"}}const K1="WebWorker",AC=({worker:e})=>({name:K1,setupOnce:()=>{(Array.isArray(e)?e:[e]).forEach(t=>_l(t))},addWorker:t=>_l(t)});function _l(e){e.addEventListener("message",t=>{J1(t.data)&&(t.stopImmediatePropagation(),K&&_.log("Sentry debugId web worker message received",t.data),A._sentryDebugIds={...t.data._sentryDebugIds,...A._sentryDebugIds})})}function NC({self:e}){e.postMessage({_sentryMessage:!0,_sentryDebugIds:e._sentryDebugIds??void 0})}function J1(e){return yt(e)&&e._sentryMessage===!0&&"_sentryDebugIds"in e&&(yt(e._sentryDebugIds)||e._sentryDebugIds===void 0)}function OC(e){const t={...e};return Od(t,"react"),md("react",{version:Te.version}),Mv(t)}function Z1(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function Q1(e,t){const n=new WeakSet;function r(s,o){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,o);s.cause=o}}r(e,t)}function $p(e,{componentStack:t},n){if(Z1(Te.version)&&mt(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,Q1(e,r)}return je(r=>(r.setContext("react",{componentStack:t}),on(e,n)))}function LC(e){return(t,n)=>{const r=$p(t,n);e&&e(t,n,r)}}const Fp="ui.react.render",ek="ui.react.update",Bp="ui.react.mount";var Hp={exports:{}},se={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ke=typeof Symbol=="function"&&Symbol.for,Qa=ke?Symbol.for("react.element"):60103,ec=ke?Symbol.for("react.portal"):60106,go=ke?Symbol.for("react.fragment"):60107,_o=ke?Symbol.for("react.strict_mode"):60108,yo=ke?Symbol.for("react.profiler"):60114,So=ke?Symbol.for("react.provider"):60109,bo=ke?Symbol.for("react.context"):60110,tc=ke?Symbol.for("react.async_mode"):60111,Eo=ke?Symbol.for("react.concurrent_mode"):60111,vo=ke?Symbol.for("react.forward_ref"):60112,wo=ke?Symbol.for("react.suspense"):60113,tk=ke?Symbol.for("react.suspense_list"):60120,To=ke?Symbol.for("react.memo"):60115,Io=ke?Symbol.for("react.lazy"):60116,nk=ke?Symbol.for("react.block"):60121,rk=ke?Symbol.for("react.fundamental"):60117,sk=ke?Symbol.for("react.responder"):60118,ok=ke?Symbol.for("react.scope"):60119;function qe(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Qa:switch(e=e.type,e){case tc:case Eo:case go:case yo:case _o:case wo:return e;default:switch(e=e&&e.$$typeof,e){case bo:case vo:case Io:case To:case So:return e;default:return t}}case ec:return t}}}function Up(e){return qe(e)===Eo}se.AsyncMode=tc;se.ConcurrentMode=Eo;se.ContextConsumer=bo;se.ContextProvider=So;se.Element=Qa;se.ForwardRef=vo;se.Fragment=go;se.Lazy=Io;se.Memo=To;se.Portal=ec;se.Profiler=yo;se.StrictMode=_o;se.Suspense=wo;se.isAsyncMode=function(e){return Up(e)||qe(e)===tc};se.isConcurrentMode=Up;se.isContextConsumer=function(e){return qe(e)===bo};se.isContextProvider=function(e){return qe(e)===So};se.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qa};se.isForwardRef=function(e){return qe(e)===vo};se.isFragment=function(e){return qe(e)===go};se.isLazy=function(e){return qe(e)===Io};se.isMemo=function(e){return qe(e)===To};se.isPortal=function(e){return qe(e)===ec};se.isProfiler=function(e){return qe(e)===yo};se.isStrictMode=function(e){return qe(e)===_o};se.isSuspense=function(e){return qe(e)===wo};se.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===go||e===Eo||e===yo||e===_o||e===wo||e===tk||typeof e=="object"&&e!==null&&(e.$$typeof===Io||e.$$typeof===To||e.$$typeof===So||e.$$typeof===bo||e.$$typeof===vo||e.$$typeof===rk||e.$$typeof===sk||e.$$typeof===ok||e.$$typeof===nk)};se.typeOf=qe;Hp.exports=se;var ik=Hp.exports,nc=ik,ak={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ck={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},uk={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Wp={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rc={};rc[nc.ForwardRef]=uk;rc[nc.Memo]=Wp;function yl(e){return nc.isMemo(e)?Wp:rc[e.$$typeof]||ak}var lk=Object.defineProperty,dk=Object.getOwnPropertyNames,Sl=Object.getOwnPropertySymbols,fk=Object.getOwnPropertyDescriptor,pk=Object.getPrototypeOf,bl=Object.prototype;function zp(e,t,n){if(typeof t!="string"){if(bl){var r=pk(t);r&&r!==bl&&zp(e,r,n)}var s=dk(t);Sl&&(s=s.concat(Sl(t)));for(var o=yl(e),i=yl(t),a=0;a<s.length;++a){var c=s[a];if(!ck[c]&&!(n&&n[c])&&!(i&&i[c])&&!(o&&o[c])){var u=fk(t,c);try{lk(e,c,u)}catch{}}}}return e}var jp=zp;const qp=ah(jp),hk=ch({__proto__:null,default:qp},[jp]),ko=qp||hk,mk="unknown";class Gp extends Te.Component{constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=rt({name:`<${n}>`,onlyIfParent:!0,op:Bp,attributes:{[Q]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(s=>t[s]!==this.props.updateProps[s]);if(r.length>0){const s=pe();this._updateSpan=Nn(this._mountSpan,()=>rt({name:`<${this.props.name}>`,onlyIfParent:!0,op:ek,startTime:s,attributes:{[Q]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=pe(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const s=$(this._mountSpan).timestamp;Nn(this._mountSpan,()=>{const o=rt({onlyIfParent:!0,name:`<${n}>`,op:Fp,startTime:s,attributes:{[Q]:"auto.ui.react.profiler","ui.component_name":n}});o&&o.end(t)})}}render(){return this.props.children}}Object.assign(Gp,{defaultProps:{disabled:!1,includeRender:!0,includeUpdates:!0}});function PC(e,t){const n=(t==null?void 0:t.name)||e.displayName||e.name||mk,r=s=>Te.createElement(Gp,{...t,name:n,updateProps:s},Te.createElement(e,{...s}));return r.displayName=`profiler(${n})`,ko(r,e),r}function DC(e,t={disabled:!1,hasRenderSpan:!0}){const[n]=Te.useState(()=>{if(!(t!=null&&t.disabled))return rt({name:`<${e}>`,onlyIfParent:!0,op:Bp,attributes:{[Q]:"auto.ui.react.profiler","ui.component_name":e}})});Te.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){const r=$(n).timestamp,s=pe(),o=rt({name:`<${e}>`,onlyIfParent:!0,op:Fp,startTime:r,attributes:{[Q]:"auto.ui.react.profiler","ui.component_name":e}});o&&o.end(s)}}),[])}const Zn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,gk="unknown",oi={componentStack:null,error:null,eventId:null};class _k extends Te.Component{constructor(t){super(t),this.state=oi,this._openFallbackReportDialog=!0;const n=x();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&Iu({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,{beforeCapture:s,onError:o,showDialog:i,dialogOptions:a}=this.props;je(c=>{s&&s(c,t,r);const u=this.props.handled!=null?this.props.handled:!!this.props.fallback,d=$p(t,n,{mechanism:{handled:u}});o&&o(t,r,d),i&&(this._lastEventId=d,this._openFallbackReportDialog&&Iu({...a,eventId:d})),this.setState({error:t,componentStack:r,eventId:d})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&(this.state===oi?s(null,null,null):s(t,n,r)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(oi)}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.componentStack===null)return typeof n=="function"?n():n;const s=typeof t=="function"?Te.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:r.eventId}):t;return Te.isValidElement(s)?s:(t&&Zn&&_.warn("fallback did not produce a valid ReactElement"),null)}}function $C(e,t){const n=e.displayName||e.name||gk,r=Te.memo(s=>Te.createElement(_k,{...t},Te.createElement(e,{...s})));return r.displayName=`errorBoundary(${n})`,ko(r,e),r}const yk="redux.action",Sk="info",bk={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};function FC(e){const t={...bk,...e};return n=>(r,s)=>{t.attachReduxState&&Zs().addEventProcessor((a,c)=>{try{a.type===void 0&&a.contexts.state.state.type==="redux"&&(c.attachments=[...c.attachments||[],{filename:"redux_state.json",data:JSON.stringify(a.contexts.state.state.value)}])}catch{}return a});function o(a){return(c,u)=>{const d=a(c,u),l=G(),p=t.actionTransformer(u);typeof p<"u"&&p!==null&&lt({category:yk,data:p,type:Sk});const f=t.stateTransformer(d);if(typeof f<"u"&&f!==null){const m=x(),g=m==null?void 0:m.getOptions(),y=(g==null?void 0:g.normalizeDepth)||3,S={state:{type:"redux",value:f}};Re(S,"__sentry_override_normalization_depth__",3+y),l.setContext("state",S)}else l.setContext("state",null);const{configureScopeWithState:h}=t;return typeof h=="function"&&h(l,d),d}}const i=n(o(r),s);return i.replaceReducer=new Proxy(i.replaceReducer,{apply:function(a,c,u){a.apply(c,[o(u[0])])}}),i}}function BC(e){const t=Lr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),o&&A.location&&El(r,A.location,s,(c,u="url")=>{Pr(a,{name:c,attributes:{[ve]:"pageload",[Q]:"auto.pageload.react.reactrouter_v3",[fe]:u}})}),i&&n.listen&&n.listen(c=>{(c.action==="PUSH"||c.action==="POP")&&El(r,c,s,(u,d="url")=>{Dr(a,{name:u,attributes:{[ve]:"navigation",[Q]:"auto.navigation.react.reactrouter_v3",[fe]:d}})})})}}}function El(e,t,n,r){let s=t.pathname;n({location:t,routes:e},(o,i,a)=>{if(o||!a)return r(s);const c=Ek(a.routes||[]);return c.length===0||c==="/*"?r(s):(s=c,r(s,"route"))})}function Ek(e){var r;if(!Array.isArray(e)||e.length===0)return"";const t=e.filter(s=>!!s.path);let n=-1;for(let s=t.length-1;s>=0;s--)if((r=t[s].path)!=null&&r.startsWith("/")){n=s;break}return t.slice(n).reduce((s,{path:o})=>{const i=s==="/"||s===""?o:`/${o}`;return`${s}${i}`},"")}function HC(e,t={}){const n=e,r=Lr({...t,instrumentNavigation:!1,instrumentPageLoad:!1}),{instrumentPageLoad:s=!0,instrumentNavigation:o=!0}=t;return{...r,afterAllSetup(i){r.afterAllSetup(i);const a=A.location;if(s&&a){const c=n.matchRoutes(a.pathname,n.options.parseSearch(a.search),{preload:!1,throwOnError:!1}),u=c[c.length-1];Pr(i,{name:u?u.routeId:a.pathname,attributes:{[ve]:"pageload",[Q]:"auto.pageload.react.tanstack_router",[fe]:u?"route":"url",...vl(u)}})}o&&n.subscribe("onBeforeNavigate",c=>{var h;if(c.toLocation.state===((h=c.fromLocation)==null?void 0:h.state))return;const u=n.matchRoutes(c.toLocation.pathname,c.toLocation.search,{preload:!1,throwOnError:!1}),d=u[u.length-1],l=A.location,p=Dr(i,{name:d?d.routeId:l.pathname,attributes:{[ve]:"navigation",[Q]:"auto.navigation.react.tanstack_router",[fe]:d?"route":"url"}}),f=n.subscribe("onResolved",m=>{if(f(),p){const g=n.matchRoutes(m.toLocation.pathname,m.toLocation.search,{preload:!1,throwOnError:!1}),y=g[g.length-1];y&&(p.updateName(y.routeId),p.setAttribute(fe,"route"),p.setAttributes(vl(y)))}})})}}}function vl(e){if(!e)return{};const t={};return Object.entries(e.params).forEach(([n,r])=>{t[`url.path.params.${n}`]=r,t[`url.path.parameter.${n}`]=r,t[`params.${n}`]=r}),t}function UC(e){const t=Lr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),Vp(a,o,i,n,"reactrouter_v4",r,s)}}}function WC(e){const t=Lr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),Vp(a,o,i,n,"reactrouter_v5",r,s)}}}function Vp(e,t,n,r,s,o=[],i){function a(){if(r.location)return r.location.pathname;if(A.location)return A.location.pathname}function c(u){if(o.length===0||!i)return[u,"url"];const d=Yp(o,u,i);for(const l of d)if(l.match.isExact)return[l.match.path,"route"];return[u,"url"]}if(t){const u=a();if(u){const[d,l]=c(u);Pr(e,{name:d,attributes:{[ve]:"pageload",[Q]:`auto.pageload.react.${s}`,[fe]:l}})}}n&&r.listen&&r.listen((u,d)=>{if(d&&(d==="PUSH"||d==="POP")){const[l,p]=c(u.pathname);Dr(e,{name:l,attributes:{[ve]:"navigation",[Q]:`auto.navigation.react.${s}`,[fe]:p}})}})}function Yp(e,t,n,r=[]){return e.some(s=>{const o=s.path?n(t,s):r.length?r[r.length-1].match:vk(t);return o&&(r.push({route:s,match:o}),s.routes&&Yp(s.routes,t,n,r)),!!o}),r}function vk(e){return{path:"/",url:"/",params:{},isExact:e==="/"}}function zC(e){const t=e.displayName||e.name,n=r=>{var s;if((s=r==null?void 0:r.computedMatch)!=null&&s.isExact){const o=r.computedMatch.path,i=wk();G().setTransactionName(o),i&&(i.updateName(o),i.setAttribute(fe,"route"))}return Te.createElement(e,{...r})};return n.displayName=`sentryRoute(${t})`,ko(n,e),n}function wk(){const e=Se(),t=e&&Ee(e);if(!t)return;const n=$(t).op;return n==="navigation"||n==="pageload"?t:void 0}function Tk(e,t,n,r){const s=new Proxy(e,{apply(o,i,a){const c=o.apply(i,a);return Ik(c,t,n,r),c}});return Re(s,"__sentry_proxied__",!0),s}function Ik(e,t,n,r){Vn(e)?e.then(s=>{Array.isArray(s)&&r(s,t)}).catch(s=>{Zn&&_.warn(`Error resolving async handler '${n}' for route`,t,s)}):Array.isArray(e)&&r(e,t)}function Co(e,t){if(e.handle&&typeof e.handle=="object")for(const n of Object.keys(e.handle)){const r=e.handle[n];typeof r=="function"&&!r.__sentry_proxied__&&(e.handle[n]=Tk(r,e,n,t))}if(Array.isArray(e.children))for(const n of e.children)Co(n,t)}let sc,In=!1;function kk(e,t=!1){sc=e,In=t}function Ck(e){return xk(e.route.path||"")}function Rk(e){return e.params["*"]||""}function xk(e){return e[e.length-1]==="*"?e.slice(0,-1):e}function Cn(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Xp(e){return e.endsWith("*")}function wl(e,t){var n;return Xp(e)&&!!((n=t.route.children)!=null&&n.length)||!1}function Mk(e){var t;return!!(!e.children&&e.element&&((t=e.path)!=null&&t.endsWith("/*")))}function Ak(e,t,n){const r=e||In?Xs(t,n):t;return[r[r.length-1]==="/"||r.slice(-2)==="/*"?r.slice(0,-1):r,"route"]}function Tl(e){return e.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}function Xs(e,t){if(!t||t==="/"||!e.toLowerCase().startsWith(t.toLowerCase()))return e;const n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?e:e.slice(n)||"/"}function mr(e){return e[0]==="/"?e:`/${e}`}function oc(e,t){const n=sc(e,t);if(!n||n.length===0)return"";for(const r of n)if(r.route.path&&r.route.path!=="*"){const s=Ck(r),o=Xs(t.pathname,mr(r.pathnameBase));return t.pathname===o?Cn(o):Cn(Cn(s||"")+mr(oc(e.filter(i=>i!==r.route),{pathname:o})))}return""}function Kp(e,t){const n=sc(t,e);if(n){for(const r of n)if(Mk(r.route)&&Rk(r))return!0}return!1}function Jp(e,t,n,r=""){if(!e||e.length===0)return[In?Xs(t.pathname,r):t.pathname,"url"];let s="";if(n)for(const i of n){const a=i.route;if(a){if(a.index)return Ak(s,i.pathname,r);const c=a.path;if(c&&!wl(c,i)){const u=c[0]==="/"||s[s.length-1]==="/"?c:`/${c}`;if(s=Cn(s)+mr(u),Cn(t.pathname)===Cn(r+i.pathname))return Tl(s)!==Tl(i.pathname)&&!Xp(s)?[(In?"":r)+u,"route"]:(wl(s,i)&&(s=s.slice(0,-1)),[(In?"":r)+s,"route"])}}}return[In?Xs(t.pathname,r):t.pathname||"","url"]}function Zp(e,t,n,r,s=""){let o,i="url";const a=Kp(e,n);return a&&(o=mr(oc(n,e)),i="route"),(!a||!o)&&([o,i]=Jp(t,e,r,s)),[o||e.pathname,i]}let Dt,$t,Ft,ws,ot,Ro=!1;const Qp=new WeakSet;function Nk(e,t){const n=t.children||[],r=e.filter(s=>!n.some(o=>o===s||s.path&&o.path===s.path||s.id&&o.id===s.id));r.length>0&&(t.children=[...n,...r])}const Ne=new Set;function ic(e,t,n=null){e.forEach(s=>{Ne.add(s),Ro&&Co(s,ic)}),t&&Nk(e,t);const r=cn();if(r){const s=$(r).op;let o=n;if(!o&&typeof A<"u"){const i=A.location;i&&(o={pathname:i.pathname})}o&&(s==="pageload"?Fr({activeRootSpan:r,location:{pathname:o.pathname},routes:Array.from(Ne),allRoutes:Array.from(Ne)}):s==="navigation"&&ji(r,o,Array.from(Ne),!1,ot))}}function ji(e,t,n,r=!1,s){if(!(!r&&(e==null?void 0:e.__sentry_navigation_name_set__))){const i=s(n,t),[a,c]=Zp(t,n,n,i||[],""),u=$(e);a&&!u.timestamp&&(e.updateName(a),e.setAttribute(fe,c),Re(e,"__sentry_navigation_name_set__",!0))}}function eh(e,t){return!Dt||!$t||!Ft||!ot?(Zn&&_.warn(`reactRouterV${t}Instrumentation was unable to wrap the \`createRouter\` function because of one or more missing parameters.`),e):function(n,r){if($r(n),Ro)for(const c of n)Co(c,ic);const s=sh(r),o=e(n,s),i=r==null?void 0:r.basename,a=cn();return o.state.historyAction==="POP"&&a&&Fr({activeRootSpan:a,location:o.state.location,routes:n,basename:i,allRoutes:Array.from(Ne)}),o.subscribe(c=>{(c.historyAction==="PUSH"||c.historyAction==="POP")&&(c.navigation.state!=="idle"?requestAnimationFrame(()=>{gr({location:c.location,routes:n,navigationType:c.historyAction,version:t,basename:i,allRoutes:Array.from(Ne)})}):gr({location:c.location,routes:n,navigationType:c.historyAction,version:t,basename:i,allRoutes:Array.from(Ne)}))}),o}}function th(e,t){return!Dt||!$t||!Ft||!ot?(Zn&&_.warn(`reactRouterV${t}Instrumentation was unable to wrap the \`createMemoryRouter\` function because of one or more missing parameters.`),e):function(n,r){if($r(n),Ro)for(const h of n)Co(h,ic);const s=sh(r,!0),o=e(n,s),i=r==null?void 0:r.basename,a=cn();let c;const u=r==null?void 0:r.initialEntries,d=r==null?void 0:r.initialIndex,l=u&&u.length===1,p=d!==void 0&&u&&u[d];c=l?u[0]:p?u[d]:void 0;const f=c?typeof c=="string"?{pathname:c}:c:o.state.location;return o.state.historyAction==="POP"&&a&&Fr({activeRootSpan:a,location:f,routes:n,basename:i,allRoutes:Array.from(Ne)}),o.subscribe(h=>{const m=h.location;(h.historyAction==="PUSH"||h.historyAction==="POP")&&gr({location:m,routes:n,navigationType:h.historyAction,version:t,basename:i,allRoutes:Array.from(Ne)})}),o}}function nh(e,t){const n=Lr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:r,useLocation:s,useNavigationType:o,createRoutesFromChildren:i,matchRoutes:a,stripBasename:c,enableAsyncRouteHandlers:u=!1,instrumentPageLoad:d=!0,instrumentNavigation:l=!0}=e;return{...n,setup(p){n.setup(p),Dt=r,$t=s,Ft=o,ot=a,ws=i,Ro=u,kk(a,c||!1)},afterAllSetup(p){var h;n.afterAllSetup(p);const f=(h=A.location)==null?void 0:h.pathname;d&&f&&Pr(p,{name:f,attributes:{[fe]:"url",[ve]:"pageload",[Q]:`auto.pageload.react.reactrouter_v${t}`}}),l&&Qp.add(p)}}}function rh(e,t){if(!Dt||!$t||!Ft||!ot)return Zn&&_.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;const n=r=>{const s=Te.useRef(!0),{routes:o,locationArg:i}=r,a=e(o,i),c=$t(),u=Ft(),d=typeof i=="string"||i!=null&&i.pathname?i:c;return Dt(()=>{const l=typeof d=="string"?{pathname:d}:d;s.current?($r(o),Fr({activeRootSpan:cn(),location:l,routes:o,allRoutes:Array.from(Ne)}),s.current=!1):gr({location:l,routes:o,navigationType:u,version:t,allRoutes:Array.from(Ne)})},[u,d]),a};return(r,s)=>Te.createElement(n,{routes:r,locationArg:s})}function sh(e,t=!1){if(!e||!("patchRoutesOnNavigation"in e)||typeof e.patchRoutesOnNavigation!="function")return e||{};const n=e.patchRoutesOnNavigation;return{...e,patchRoutesOnNavigation:async r=>{var a;const s=r==null?void 0:r.path;if(!t){const c=r==null?void 0:r.patch;c&&(r.patch=(u,d)=>{$r(d);const l=cn();return l&&$(l).op==="navigation"&&ji(l,{pathname:s,search:"",hash:"",state:null,key:"default"},Array.from(Ne),!0,ot),c(u,d)})}const o=await n(r),i=cn();if(i&&$(i).op==="navigation"){const c=t?s:s||((a=A.location)==null?void 0:a.pathname);c&&ji(i,{pathname:c,search:"",hash:"",state:null,key:"default"},Array.from(Ne),!1,ot)}return o}}}function gr(e){const{location:t,routes:n,navigationType:r,version:s,matches:o,basename:i,allRoutes:a}=e,c=Array.isArray(o)?o:ot(n,t,i),u=x();if(!(!u||!Qp.has(u))&&(r==="PUSH"||r==="POP")&&c){const[d,l]=Zp(t,n,a||n,c,i),p=Se(),f=p&&$(p);(f==null?void 0:f.op)==="navigation"||Dr(u,{name:d,attributes:{[fe]:l,[ve]:"navigation",[Q]:`auto.navigation.react.reactrouter_v${s}`}})}}function $r(e){e.forEach(t=>{oh(t).forEach(r=>{Ne.add(r)})})}function oh(e,t=new Set){return t.has(e)||(t.add(e),e.children&&!e.index&&e.children.forEach(n=>{oh(n,t).forEach(s=>{t.add(s)})})),t}function Fr({activeRootSpan:e,location:t,routes:n,matches:r,basename:s,allRoutes:o}){const i=Array.isArray(r)?r:ot(o||n,t,s);if(i){let a,c="url";const u=Kp(t,o||n);u&&(a=mr(oc(o||n,t)),c="route"),(!u||!a)&&([a,c]=Jp(n,t,i,s)),G().setTransactionName(a||"/"),e&&(e.updateName(a),e.setAttribute(fe,c))}}function ih(e,t){if(!Dt||!$t||!Ft||!ws||!ot)return Zn&&_.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${Dt}. useLocation: ${$t}. useNavigationType: ${Ft}.
      createRoutesFromChildren: ${ws}. matchRoutes: ${ot}.`),e;const n=r=>{const s=Te.useRef(!0),o=$t(),i=Ft();return Dt(()=>{const a=ws(r.children);s.current?($r(a),Fr({activeRootSpan:cn(),location:o,routes:a,allRoutes:Array.from(Ne)}),s.current=!1):gr({location:o,routes:a,navigationType:i,version:t,allRoutes:Array.from(Ne)})},[o,i]),Te.createElement(e,{...r})};return ko(n,e),n}function cn(){const e=Se(),t=e?Ee(e):void 0;if(!t)return;const n=$(t).op;return n==="navigation"||n==="pageload"?t:void 0}function jC(e){return nh(e,"6")}function qC(e){return rh(e,"6")}function GC(e){return eh(e,"6")}function VC(e){return th(e,"6")}function YC(e){return ih(e,"6")}function XC(e){return nh(e,"7")}function KC(e){return ih(e,"7")}function JC(e){return eh(e,"7")}function ZC(e){return th(e,"7")}function QC(e){return rh(e,"7")}export{ub as BrowserClient,_k as ErrorBoundary,CC as OpenFeatureIntegrationHook,Gp as Profiler,Lt as SDK_VERSION,ve as SEMANTIC_ATTRIBUTE_SENTRY_OP,Q as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,Ki as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,fe as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,ut as Scope,A as WINDOW,lt as addBreadcrumb,cg as addEventProcessor,Lc as addIntegration,YE as breadcrumbsIntegration,ov as browserApiErrorsIntegration,vC as browserProfilingIntegration,dv as browserSessionIntegration,Lr as browserTracingIntegration,IC as buildLaunchDarklyFlagUsedHandler,Xk as captureConsoleIntegration,to as captureEvent,on as captureException,dy as captureFeedback,mi as captureMessage,$p as captureReactException,Ac as captureSession,NE as chromeStackLineParser,qk as close,nC as consoleLoggingIntegration,mC as contextLinesIntegration,Fk as continueTrace,FC as createReduxEnhancer,Dg as createTransport,lC as createUserFeedbackEnvelope,E_ as dedupeIntegration,kp as defaultRequestInstrumentationOptions,zE as defaultStackLineParsers,jE as defaultStackParser,MC as diagnoseSdkConnectivity,gd as endSession,r_ as eventFiltersIntegration,rb as eventFromException,sb as eventFromMessage,ba as exceptionFromError,Kk as extraErrorDataIntegration,tC as featureFlagsIntegration,sC as feedbackAsyncIntegration,oC as feedbackIntegration,oC as feedbackSyncIntegration,jk as flush,dC as forceLoad,e_ as functionToStringIntegration,DE as geckoStackLineParser,Se as getActiveSpan,x as getClient,G as getCurrentScope,xv as getDefaultIntegrations,rC as getFeedback,Zs as getGlobalScope,Ie as getIsolationScope,SC as getReplay,Ee as getRootSpan,as as getSpanDescendants,qh as getSpanStatusFromHttpCode,Ld as getTraceData,hv as globalHandlersIntegration,gC as graphqlClientIntegration,hC as httpClientIntegration,Ev as httpContextIntegration,s_ as inboundFiltersIntegration,OC as init,e1 as instrumentOutgoingRequests,j_ as instrumentSupabaseClient,ag as isEnabled,Gk as isInitialized,ig as lastEventId,TC as launchDarklyIntegration,zS as lazyLoadIntegration,kv as linkedErrorsIntegration,iC as logger,EC as makeBrowserOfflineTransport,wf as makeFetchTransport,Vk as makeMultiplexedTransport,Yk as moduleMetadataIntegration,fC as onLoad,kC as openFeatureIntegration,cC as opera10StackLineParser,uC as opera11StackLineParser,qg as parameterize,LC as reactErrorHandler,BC as reactRouterV3BrowserTracingIntegration,UC as reactRouterV4BrowserTracingIntegration,WC as reactRouterV5BrowserTracingIntegration,jC as reactRouterV6BrowserTracingIntegration,XC as reactRouterV7BrowserTracingIntegration,um as registerSpanErrorInstrumentation,NC as registerWebWorker,bC as replayCanvasIntegration,yC as replayIntegration,pC as reportingObserverIntegration,Jk as rewriteFramesIntegration,Vy as sendFeedback,md as setContext,Ag as setCurrentClient,Hk as setExtra,Bk as setExtras,Cs as setHttpStatus,Mm as setMeasurement,Wk as setTag,Uk as setTags,zk as setUser,Iu as showReportDialog,Dk as spanToBaggageHeader,$ as spanToJSON,om as spanToTraceHeader,wC as spotlightBrowserIntegration,Dr as startBrowserTracingNavigationSpan,Pr as startBrowserTracingPageLoadSpan,rt as startInactiveSpan,Dm as startNewTrace,Mc as startSession,sa as startSpan,$k as startSpanManual,xC as statsigIntegration,Zk as supabaseIntegration,Pm as suppressTracing,HC as tanstackRouterBrowserTracingIntegration,eC as thirdPartyErrorFilterIntegration,RC as unleashIntegration,Pk as updateSpanName,DC as useProfiler,AC as webWorkerIntegration,aC as winjsStackLineParser,Nn as withActiveSpan,$C as withErrorBoundary,Lk as withIsolationScope,PC as withProfiler,je as withScope,YC as withSentryReactRouterV6Routing,KC as withSentryReactRouterV7Routing,zC as withSentryRouting,GC as wrapCreateBrowserRouterV6,JC as wrapCreateBrowserRouterV7,VC as wrapCreateMemoryRouterV6,ZC as wrapCreateMemoryRouterV7,qC as wrapUseRoutesV6,QC as wrapUseRoutesV7,Qk as zodErrorsIntegration};
