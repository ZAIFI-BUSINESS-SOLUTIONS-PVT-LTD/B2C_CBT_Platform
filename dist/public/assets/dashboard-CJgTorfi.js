import{r as i,u as h,d as u,f as n,j as e,k as x,l as g,ae as p,a2 as b,B as f}from"./main-CzoStkir.js";import{T as j}from"./test-zone-insights-Dog-ukbY.js";import{M as y}from"./mobile-dock-BiP46c2r.js";import{A as v}from"./arrow-right-ngodYIRy.js";import"./trophy-CDbnqmnR.js";import"./target-CH9tEfFf.js";import"./notepad-text-7swJf2ST.js";function q(){i.useState("practice");const{isAuthenticated:a,loading:s,student:k}=h(),[,r]=u();if(i.useEffect(()=>{const t=m=>{m.preventDefault(),r("/",{replace:!0})};return window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)}},[r]),!s&&!a)return r("/"),null;const{data:o,isLoading:l,error:d}=n({queryKey:["/api/dashboard/comprehensive-analytics/"],refetchInterval:3e4,enabled:a&&!s}),{data:L,isLoading:c}=n({queryKey:["/api/insights/cache/"],refetchInterval:3e4,enabled:a&&!s});return l||c?e.jsx(N,{}):d||!o?e.jsx(w,{}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-blue-50 to-indigo-50 pb-20",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"sticky top-0 bg-white z-10 border-b border-gray-200",children:e.jsx("header",{className:"sticky top-0 z-10 max-w-7xl mx-auto px-4 py-4 border-b bg-white",children:e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Analysis"})})}),e.jsx("div",{className:"p-4",children:e.jsx(j,{})})]}),e.jsx(y,{})]})}function N(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-12 bg-gray-200 rounded-lg w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:[...Array(4)].map((a,s)=>e.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},s))}),e.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[e.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"})]})]})})})}function w(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsx(x,{className:"max-w-md w-full",children:e.jsxs(g,{className:"p-6 text-center",children:[e.jsx(p,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Unable to Load Dashboard"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Take a practice test first to see your performance analytics."}),e.jsx(b,{href:"/topics",children:e.jsxs(f,{children:["Take Your First Test",e.jsx(v,{className:"h-4 w-4 ml-2"})]})})]})})})}export{q as default};
